/*!
 infusion - v2.0.0
 Thursday, December 8th, 2016, 3:37:11 PM
 branch: HEAD
 revision: 85a1ffe
*/
!function(b,a){"object"==typeof module&&"object"==typeof module.exports?module.exports=b.document?a(b,!0):function(c){if(!c.document){throw new Error("jQuery requires a window with a document")}return a(c)}:a(b)}("undefined"!=typeof window?window:this,function(aW,av){function br(bR,bS){bS=bS||l;var bQ=bS.createElement("script");bQ.text=bR,bS.head.appendChild(bQ).parentNode.removeChild(bQ)}function at(bS){var bR=!!bS&&"length" in bS&&bS.length,bQ=bv.type(bS);return"function"!==bQ&&!bv.isWindow(bS)&&("array"===bQ||0===bR||"number"==typeof bR&&bR>0&&bR-1 in bS)}function aO(bS,bQ,bR){if(bv.isFunction(bQ)){return bv.grep(bS,function(bU,bT){return !!bQ.call(bU,bT,bU)!==bR})}if(bQ.nodeType){return bv.grep(bS,function(bT){return bT===bQ!==bR})}if("string"==typeof bQ){if(aH.test(bQ)){return bv.filter(bQ,bS,bR)}bQ=bv.filter(bQ,bS)}return bv.grep(bS,function(bT){return bI.call(bQ,bT)>-1!==bR&&1===bT.nodeType})}function aT(bR,bQ){for(;(bR=bR[bQ])&&1!==bR.nodeType;){}return bR}function ag(bR){var bQ={};return bv.each(bR.match(aD)||[],function(bT,bS){bQ[bS]=!0}),bQ}function a8(bQ){return bQ}function a6(bQ){throw bQ}function f(bS,bR,bQ){var bT;try{bS&&bv.isFunction(bT=bS.promise)?bT.call(bS).done(bR).fail(bQ):bS&&bv.isFunction(bT=bS.then)?bT.call(bS,bR,bQ):bR.call(void 0,bS)}catch(bS){bQ.call(void 0,bS)}}function bN(){l.removeEventListener("DOMContentLoaded",bN),aW.removeEventListener("load",bN),bv.ready()}function a1(){this.expando=bv.expando+a1.uid++}function bn(bS,bR,bT){var bQ;if(void 0===bT&&1===bS.nodeType){if(bQ="data-"+bR.replace(aN,"-$&").toLowerCase(),bT=bS.getAttribute(bQ),"string"==typeof bT){try{bT="true"===bT||"false"!==bT&&("null"===bT?null:+bT+""===bT?+bT:bl.test(bT)?JSON.parse(bT):bT)}catch(bU){}bt.set(bS,bR,bT)}else{bT=void 0}}return bT}function A(bR,bQ,bU,bZ){var b0,bS=1,bW=20,bY=bZ?function(){return bZ.cur()}:function(){return bv.css(bR,bQ,"")},bV=bY(),bX=bU&&bU[3]||(bv.cssNumber[bQ]?"":"px"),bT=(bv.cssNumber[bQ]||"px"!==bX&&+bV)&&bM.exec(bv.css(bR,bQ));if(bT&&bT[3]!==bX){bX=bX||bT[3],bU=bU||[],bT=+bV||1;do{bS=bS||".5",bT/=bS,bv.style(bR,bQ,bT+bX)}while(bS!==(bS=bY()/bV)&&1!==bS&&--bW)}return bU&&(bT=+bT||+bV||0,b0=bU[1]?bT+(bU[1]+1)*bU[2]:+bU[2],bZ&&(bZ.unit=bX,bZ.start=bT,bZ.end=b0)),b0}function h(bR){var bQ,bT=bR.ownerDocument,bU=bR.nodeName,bS=T[bU];return bS?bS:(bQ=bT.body.appendChild(bT.createElement(bU)),bS=bv.css(bQ,"display"),bQ.parentNode.removeChild(bQ),"none"===bS&&(bS="block"),T[bU]=bS,bS)}function r(bV,bQ){for(var bW,bU,bR=[],bS=0,bT=bV.length;bS<bT;bS++){bU=bV[bS],bU.style&&(bW=bU.style.display,bQ?("none"===bW&&(bR[bS]=bK.get(bU,"display")||null,bR[bS]||(bU.style.display="")),""===bU.style.display&&bP(bU)&&(bR[bS]=h(bU))):"none"!==bW&&(bR[bS]="none",bK.set(bU,"display",bW)))}for(bS=0;bS<bT;bS++){null!=bR[bS]&&(bV[bS].style.display=bR[bS])}return bV}function j(bS,bQ){var bR="undefined"!=typeof bS.getElementsByTagName?bS.getElementsByTagName(bQ||"*"):"undefined"!=typeof bS.querySelectorAll?bS.querySelectorAll(bQ||"*"):[];return void 0===bQ||bQ&&bv.nodeName(bS,bQ)?bv.merge([bS],bR):bR}function bh(bR,bT){for(var bS=0,bQ=bR.length;bS<bQ;bS++){bK.set(bR[bS],"globalEval",!bT||bK.get(bT[bS],"globalEval"))}}function B(bR,bT,bY,b3,bV){for(var bU,b1,b4,bS,bX,bZ,b2=bT.createDocumentFragment(),bQ=[],b0=0,bW=bR.length;b0<bW;b0++){if(bU=bR[b0],bU||0===bU){if("object"===bv.type(bU)){bv.merge(bQ,bU.nodeType?[bU]:bU)}else{if(Q.test(bU)){for(b1=b1||b2.appendChild(bT.createElement("div")),b4=(n.exec(bU)||["",""])[1].toLowerCase(),bS=Y[b4]||Y._default,b1.innerHTML=bS[1]+bv.htmlPrefilter(bU)+bS[2],bZ=bS[0];bZ--;){b1=b1.lastChild}bv.merge(bQ,b1.childNodes),b1=b2.firstChild,b1.textContent=""}else{bQ.push(bT.createTextNode(bU))}}}}for(b2.textContent="",b0=0;bU=bQ[b0++];){if(b3&&bv.inArray(bU,b3)>-1){bV&&bV.push(bU)}else{if(bX=bv.contains(bU.ownerDocument,bU),b1=j(b2.appendChild(bU),"script"),bX&&bh(b1),bY){for(bZ=0;bU=b1[bZ++];){bo.test(bU.type||"")&&bY.push(bU)}}}}return b2}function X(){return !0}function ad(){return !1}function am(){try{return l.activeElement}catch(bQ){}}function a7(bV,bS,bQ,bW,bU,bR){var bX,bT;if("object"==typeof bS){"string"!=typeof bQ&&(bW=bW||bQ,bQ=void 0);for(bT in bS){a7(bV,bT,bQ,bW,bS[bT],bR)}return bV}if(null==bW&&null==bU?(bU=bQ,bW=bQ=void 0):null==bU&&("string"==typeof bQ?(bU=bW,bW=void 0):(bU=bW,bW=bQ,bQ=void 0)),bU===!1){bU=ad}else{if(!bU){return bV}}return 1===bR&&(bX=bU,bU=function(bY){return bv().off(bY),bX.apply(this,arguments)},bU.guid=bX.guid||(bX.guid=bv.guid++)),bV.each(function(){bv.event.add(this,bS,bU,bW,bQ)})}function aV(bR,bQ){return bv.nodeName(bR,"table")&&bv.nodeName(11!==bQ.nodeType?bQ:bQ.firstChild,"tr")?bR.getElementsByTagName("tbody")[0]||bR:bR}function u(bQ){return bQ.type=(null!==bQ.getAttribute("type"))+"/"+bQ.type,bQ}function a5(bR){var bQ=aq.exec(bR.type);return bQ?bR.type=bQ[1]:bR.removeAttribute("type"),bR}function ar(bQ,bY){var bT,bR,bV,bW,bS,bX,bU,bZ;if(1===bY.nodeType){if(bK.hasData(bQ)&&(bW=bK.access(bQ),bS=bK.set(bY,bW),bZ=bW.events)){delete bS.handle,bS.events={};for(bV in bZ){for(bT=0,bR=bZ[bV].length;bT<bR;bT++){bv.event.add(bY,bV,bZ[bV][bT])}}}bt.hasData(bQ)&&(bX=bt.access(bQ),bU=bv.extend({},bX),bt.set(bY,bU))}}function a4(bR,bQ){var bS=bQ.nodeName.toLowerCase();"input"===bS&&aI.test(bR.type)?bQ.checked=bR.checked:"input"!==bS&&"textarea"!==bS||(bQ.defaultValue=bR.defaultValue)}function I(bY,b0,b4,bT){b0=aA.apply([],b0);var bZ,bX,bV,bQ,bS,b2,bW=0,bU=bY.length,b3=bU-1,b1=b0[0],bR=bv.isFunction(b1);if(bR||bU>1&&"string"==typeof b1&&!E.checkClone&&bL.test(b1)){return bY.each(function(b6){var b5=bY.eq(b6);bR&&(b0[0]=b1.call(this,b6,b5.html())),I(b5,b0,b4,bT)})}if(bU&&(bZ=B(b0,bY[0].ownerDocument,!1,bY,bT),bX=bZ.firstChild,1===bZ.childNodes.length&&(bZ=bX),bX||bT)){for(bV=bv.map(j(bZ,"script"),u),bQ=bV.length;bW<bU;bW++){bS=bZ,bW!==b3&&(bS=bv.clone(bS,!0,!0),bQ&&bv.merge(bV,j(bS,"script"))),b4.call(bY[bW],bS,bW)}if(bQ){for(b2=bV[bV.length-1].ownerDocument,bv.map(bV,a5),bW=0;bW<bQ;bW++){bS=bV[bW],bo.test(bS.type||"")&&!bK.access(bS,"globalEval")&&bv.contains(b2,bS)&&(bS.src?bv._evalUrl&&bv._evalUrl(bS.src):br(bS.textContent.replace(aK,""),b2))}}}return bY}function L(bU,bQ,bV){for(var bT,bR=bQ?bv.filter(bQ,bU):bU,bS=0;null!=(bT=bR[bS]);bS++){bV||1!==bT.nodeType||bv.cleanData(j(bT)),bT.parentNode&&(bV&&bv.contains(bT.ownerDocument,bT)&&bh(j(bT,"script")),bT.parentNode.removeChild(bT))}return bU}function H(bX,bR,bW){var bU,bT,bV,bQ,bS=bX.style;return bW=bW||bc(bX),bW&&(bQ=bW.getPropertyValue(bR)||bW[bR],""!==bQ||bv.contains(bX.ownerDocument,bX)||(bQ=bv.style(bX,bR)),!E.pixelMarginRight()&&ab.test(bQ)&&aU.test(bR)&&(bU=bS.width,bT=bS.minWidth,bV=bS.maxWidth,bS.minWidth=bS.maxWidth=bS.width=bQ,bQ=bW.width,bS.width=bU,bS.minWidth=bT,bS.maxWidth=bV)),void 0!==bQ?bQ+"":bQ}function aY(bQ,bR){return{get:function(){return bQ()?void delete this.get:(this.get=bR).apply(this,arguments)}}}function b(bQ){if(bQ in bD){return bQ}for(var bS=bQ[0].toUpperCase()+bQ.slice(1),bR=aw.length;bR--;){if(bQ=aw[bR]+bS,bQ in bD){return bQ}}}function aJ(bQ,bS,bT){var bR=bM.exec(bS);return bR?Math.max(0,bR[2]-(bT||0))+(bR[3]||"px"):bS}function ax(bU,bR,bQ,bW,bT){for(var bS=bQ===(bW?"border":"content")?4:"width"===bR?1:0,bV=0;bS<4;bS+=2){"margin"===bQ&&(bV+=bv.css(bU,bQ+bG[bS],!0,bT)),bW?("content"===bQ&&(bV-=bv.css(bU,"padding"+bG[bS],!0,bT)),"margin"!==bQ&&(bV-=bv.css(bU,"border"+bG[bS]+"Width",!0,bT))):(bV+=bv.css(bU,"padding"+bG[bS],!0,bT),"padding"!==bQ&&(bV+=bv.css(bU,"border"+bG[bS]+"Width",!0,bT)))}return bV}function v(bU,bR,bQ){var bV,bT=!0,bS=bc(bU),bW="border-box"===bv.css(bU,"boxSizing",!1,bS);if(bU.getClientRects().length&&(bV=bU.getBoundingClientRect()[bR]),bV<=0||null==bV){if(bV=H(bU,bR,bS),(bV<0||null==bV)&&(bV=bU.style[bR]),ab.test(bV)){return bV}bT=bW&&(E.boxSizingReliable()||bV===bU.style[bR]),bV=parseFloat(bV)||0}return bV+ax(bU,bR,bQ||(bW?"border":"content"),bT,bS)+"px"}function O(bS,bR,bU,bQ,bT){return new O.prototype.init(bS,bR,bU,bQ,bT)}function bs(){af&&(aW.requestAnimationFrame(bs),bv.fx.tick())}function ba(){return aW.setTimeout(function(){R=void 0}),R=bv.now()}function bu(bS,bU){var bT,bR=0,bQ={height:bS};for(bU=bU?1:0;bR<4;bR+=2-bU){bT=bG[bR],bQ["margin"+bT]=bQ["padding"+bT]=bS}return bU&&(bQ.opacity=bQ.width=bS),bQ}function a2(bU,bW,bT){for(var bR,bV=(d.tweeners[bW]||[]).concat(d.tweeners["*"]),bQ=0,bS=bV.length;bQ<bS;bQ++){if(bR=bV[bQ].call(bT,bW,bU)){return bR}}}function g(bU,b1,bQ){var bS,b3,bY,b6,b4,bT,bX,b0,bW="width" in b1||"height" in b1,bV=this,b2={},bR=bU.style,bZ=bU.nodeType&&bP(bU),b5=bK.get(bU,"fxshow");bQ.queue||(b6=bv._queueHooks(bU,"fx"),null==b6.unqueued&&(b6.unqueued=0,b4=b6.empty.fire,b6.empty.fire=function(){b6.unqueued||b4()}),b6.unqueued++,bV.always(function(){bV.always(function(){b6.unqueued--,bv.queue(bU,"fx").length||b6.empty.fire()})}));for(bS in b1){if(b3=b1[bS],bC.test(b3)){if(delete b1[bS],bY=bY||"toggle"===b3,b3===(bZ?"hide":"show")){if("show"!==b3||!b5||void 0===b5[bS]){continue}bZ=!0}b2[bS]=b5&&b5[bS]||bv.style(bU,bS)}}if(bT=!bv.isEmptyObject(b1),bT||!bv.isEmptyObject(b2)){bW&&1===bU.nodeType&&(bQ.overflow=[bR.overflow,bR.overflowX,bR.overflowY],bX=b5&&b5.display,null==bX&&(bX=bK.get(bU,"display")),b0=bv.css(bU,"display"),"none"===b0&&(bX?b0=bX:(r([bU],!0),bX=bU.style.display||bX,b0=bv.css(bU,"display"),r([bU]))),("inline"===b0||"inline-block"===b0&&null!=bX)&&"none"===bv.css(bU,"float")&&(bT||(bV.done(function(){bR.display=bX}),null==bX&&(b0=bR.display,bX="none"===b0?"":b0)),bR.display="inline-block")),bQ.overflow&&(bR.overflow="hidden",bV.always(function(){bR.overflow=bQ.overflow[0],bR.overflowX=bQ.overflow[1],bR.overflowY=bQ.overflow[2]})),bT=!1;for(bS in b2){bT||(b5?"hidden" in b5&&(bZ=b5.hidden):b5=bK.access(bU,"fxshow",{display:bX}),bY&&(b5.hidden=!bZ),bZ&&r([bU],!0),bV.done(function(){bZ||r([bU]),bK.remove(bU,"fxshow");for(bS in b2){bv.style(bU,bS,b2[bS])}})),bT=a2(bZ?b5[bS]:0,bS,bV),bS in b5||(b5[bS]=bT.start,bZ&&(bT.end=bT.start,bT.start=0))
}}}function ao(bT,bV){var bS,bR,bW,bU,bQ;for(bS in bT){if(bR=bv.camelCase(bS),bW=bV[bR],bU=bT[bS],bv.isArray(bU)&&(bW=bU[1],bU=bT[bS]=bU[0]),bS!==bR&&(bT[bR]=bU,delete bT[bS]),bQ=bv.cssHooks[bR],bQ&&"expand" in bQ){bU=bQ.expand(bU),delete bT[bR];for(bS in bU){bS in bT||(bT[bS]=bU[bS],bV[bS]=bW)}}else{bV[bR]=bW}}}function d(bS,bW,bZ){var b0,bQ,bV=0,bR=d.prefilters.length,bY=bv.Deferred().always(function(){delete bU.elem}),bU=function(){if(bQ){return !1}for(var b6=R||ba(),b3=Math.max(0,bT.startTime+bT.duration-b6),b1=b3/bT.duration||0,b5=1-b1,b2=0,b4=bT.tweens.length;b2<b4;b2++){bT.tweens[b2].run(b5)}return bY.notifyWith(bS,[bT,b5,b3]),b5<1&&b4?b3:(bY.resolveWith(bS,[bT]),!1)},bT=bY.promise({elem:bS,props:bv.extend({},bW),opts:bv.extend(!0,{specialEasing:{},easing:bv.easing._default},bZ),originalProperties:bW,originalOptions:bZ,startTime:R||ba(),duration:bZ.duration,tweens:[],createTween:function(b3,b1){var b2=bv.Tween(bS,bT.opts,b3,b1,bT.opts.specialEasing[b3]||bT.opts.easing);return bT.tweens.push(b2),b2},stop:function(b2){var b1=0,b3=b2?bT.tweens.length:0;if(bQ){return this}for(bQ=!0;b1<b3;b1++){bT.tweens[b1].run(1)}return b2?(bY.notifyWith(bS,[bT,1,0]),bY.resolveWith(bS,[bT,b2])):bY.rejectWith(bS,[bT,b2]),this}}),bX=bT.props;for(ao(bX,bT.opts.specialEasing);bV<bR;bV++){if(b0=d.prefilters[bV].call(bT,bS,bX,bT.opts)){return bv.isFunction(b0.stop)&&(bv._queueHooks(bT.elem,bT.opts.queue).stop=bv.proxy(b0.stop,b0)),b0}}return bv.map(bX,a2,bT),bv.isFunction(bT.opts.start)&&bT.opts.start.call(bS,bT),bv.fx.timer(bv.extend(bU,{elem:bS,anim:bT,queue:bT.opts.queue})),bT.progress(bT.opts.progress).done(bT.opts.done,bT.opts.complete).fail(bT.opts.fail).always(bT.opts.always)}function C(bQ){return bQ.getAttribute&&bQ.getAttribute("class")||""}function i(bS,bU,bR,bT){var bQ;if(bv.isArray(bU)){bv.each(bU,function(bW,bV){bR||aP.test(bS)?bT(bS,bV):i(bS+"["+("object"==typeof bV&&null!=bV?bW:"")+"]",bV,bR,bT)})}else{if(bR||"object"!==bv.type(bU)){bT(bS,bU)}else{for(bQ in bU){i(bS+"["+bQ+"]",bU[bQ],bR,bT)}}}}function bw(bQ){return function(bU,bV){"string"!=typeof bU&&(bV=bU,bU="*");var bR,bS=0,bT=bU.toLowerCase().match(aD)||[];if(bv.isFunction(bV)){for(;bR=bT[bS++];){"+"===bR[0]?(bR=bR.slice(1)||"*",(bQ[bR]=bQ[bR]||[]).unshift(bV)):(bQ[bR]=bQ[bR]||[]).push(bV)}}}}function q(bQ,bS,bW,bT){function bV(bX){var bY;return bR[bX]=!0,bv.each(bQ[bX]||[],function(b0,bZ){var b1=bZ(bS,bW,bT);return"string"!=typeof b1||bU||bR[b1]?bU?!(bY=b1):void 0:(bS.dataTypes.unshift(b1),bV(b1),!1)}),bY}var bR={},bU=bQ===a0;return bV(bS.dataTypes[0])||!bR["*"]&&bV("*")}function s(bS,bT){var bR,bQ,bU=bv.ajaxSettings.flatOptions||{};for(bR in bT){void 0!==bT[bR]&&((bU[bR]?bS:bQ||(bQ={}))[bR]=bT[bR])}return bQ&&bv.extend(!0,bS,bQ),bS}function e(bY,bX,bU){for(var bT,bV,bS,bQ,bR=bY.contents,bW=bY.dataTypes;"*"===bW[0];){bW.shift(),void 0===bT&&(bT=bY.mimeType||bX.getResponseHeader("Content-Type"))}if(bT){for(bV in bR){if(bR[bV]&&bR[bV].test(bT)){bW.unshift(bV);break}}}if(bW[0] in bU){bS=bW[0]}else{for(bV in bU){if(!bW[0]||bY.converters[bV+" "+bW[0]]){bS=bV;break}bQ||(bQ=bV)}bS=bS||bQ}if(bS){return bS!==bW[0]&&bW.unshift(bS),bU[bS]}}function ai(b1,bT,bY,bR){var bQ,bW,bZ,bU,bS,b0={},bX=b1.dataTypes.slice();if(bX[1]){for(bZ in b1.converters){b0[bZ.toLowerCase()]=b1.converters[bZ]}}for(bW=bX.shift();bW;){if(b1.responseFields[bW]&&(bY[b1.responseFields[bW]]=bT),!bS&&bR&&b1.dataFilter&&(bT=b1.dataFilter(bT,b1.dataType)),bS=bW,bW=bX.shift()){if("*"===bW){bW=bS}else{if("*"!==bS&&bS!==bW){if(bZ=b0[bS+" "+bW]||b0["* "+bW],!bZ){for(bQ in b0){if(bU=bQ.split(" "),bU[1]===bW&&(bZ=b0[bS+" "+bU[0]]||b0["* "+bU[0]])){bZ===!0?bZ=b0[bQ]:b0[bQ]!==!0&&(bW=bU[0],bX.unshift(bU[1]));break}}}if(bZ!==!0){if(bZ&&b1["throws"]){bT=bZ(bT)}else{try{bT=bZ(bT)}catch(bV){return{state:"parsererror",error:bZ?bV:"No conversion from "+bS+" to "+bW}}}}}}}}return{state:"success",data:bT}}function be(bQ){return bv.isWindow(bQ)?bQ:9===bQ.nodeType&&bQ.defaultView}var m=[],l=aW.document,aL=Object.getPrototypeOf,V=m.slice,aA=m.concat,w=m.push,bI=m.indexOf,ae={},x=ae.toString,P=ae.hasOwnProperty,ay=P.toString,bd=ay.call(Object),E={},aj="3.1.0",bv=function(bQ,bR){return new bv.fn.init(bQ,bR)},F=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bE=/^-ms-/,aQ=/-([a-z])/g,U=function(bQ,bR){return bR.toUpperCase()};bv.fn=bv.prototype={jquery:aj,constructor:bv,length:0,toArray:function(){return V.call(this)},get:function(bQ){return null!=bQ?bQ<0?this[bQ+this.length]:this[bQ]:V.call(this)},pushStack:function(bQ){var bR=bv.merge(this.constructor(),bQ);return bR.prevObject=this,bR},each:function(bQ){return bv.each(this,bQ)},map:function(bQ){return this.pushStack(bv.map(this,function(bS,bR){return bQ.call(bS,bR,bS)}))},slice:function(){return this.pushStack(V.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(bS){var bQ=this.length,bR=+bS+(bS<0?bQ:0);return this.pushStack(bR>=0&&bR<bQ?[this[bR]]:[])},end:function(){return this.prevObject||this.constructor()},push:w,sort:m.sort,splice:m.splice},bv.extend=bv.fn.extend=function(){var bZ,bS,bQ,bR,bW,bX,bV=arguments[0]||{},bU=1,bT=arguments.length,bY=!1;for("boolean"==typeof bV&&(bY=bV,bV=arguments[bU]||{},bU++),"object"==typeof bV||bv.isFunction(bV)||(bV={}),bU===bT&&(bV=this,bU--);bU<bT;bU++){if(null!=(bZ=arguments[bU])){for(bS in bZ){bQ=bV[bS],bR=bZ[bS],bV!==bR&&(bY&&bR&&(bv.isPlainObject(bR)||(bW=bv.isArray(bR)))?(bW?(bW=!1,bX=bQ&&bv.isArray(bQ)?bQ:[]):bX=bQ&&bv.isPlainObject(bQ)?bQ:{},bV[bS]=bv.extend(bY,bX,bR)):void 0!==bR&&(bV[bS]=bR))}}}return bV},bv.extend({expando:"jQuery"+(aj+Math.random()).replace(/\D/g,""),isReady:!0,error:function(bQ){throw new Error(bQ)},noop:function(){},isFunction:function(bQ){return"function"===bv.type(bQ)},isArray:Array.isArray,isWindow:function(bQ){return null!=bQ&&bQ===bQ.window},isNumeric:function(bR){var bQ=bv.type(bR);return("number"===bQ||"string"===bQ)&&!isNaN(bR-parseFloat(bR))},isPlainObject:function(bS){var bR,bQ;return !(!bS||"[object Object]"!==x.call(bS))&&(!(bR=aL(bS))||(bQ=P.call(bR,"constructor")&&bR.constructor,"function"==typeof bQ&&ay.call(bQ)===bd))},isEmptyObject:function(bR){var bQ;for(bQ in bR){return !1}return !0},type:function(bQ){return null==bQ?bQ+"":"object"==typeof bQ||"function"==typeof bQ?ae[x.call(bQ)]||"object":typeof bQ},globalEval:function(bQ){br(bQ)},camelCase:function(bQ){return bQ.replace(bE,"ms-").replace(aQ,U)},nodeName:function(bR,bQ){return bR.nodeName&&bR.nodeName.toLowerCase()===bQ.toLowerCase()},each:function(bS,bT){var bR,bQ=0;if(at(bS)){for(bR=bS.length;bQ<bR&&bT.call(bS[bQ],bQ,bS[bQ])!==!1;bQ++){}}else{for(bQ in bS){if(bT.call(bS[bQ],bQ,bS[bQ])===!1){break}}}return bS},trim:function(bQ){return null==bQ?"":(bQ+"").replace(F,"")},makeArray:function(bQ,bS){var bR=bS||[];return null!=bQ&&(at(Object(bQ))?bv.merge(bR,"string"==typeof bQ?[bQ]:bQ):w.call(bR,bQ)),bR},inArray:function(bS,bQ,bR){return null==bQ?-1:bI.call(bQ,bS,bR)},merge:function(bU,bS){for(var bQ=+bS.length,bR=0,bT=bU.length;bR<bQ;bR++){bU[bT++]=bS[bR]}return bU.length=bT,bU},grep:function(bQ,bX,bU){for(var bW,bT=[],bR=0,bS=bQ.length,bV=!bU;bR<bS;bR++){bW=!bX(bQ[bR],bR),bW!==bV&&bT.push(bQ[bR])}return bT},map:function(bR,bW,bQ){var bU,bV,bT=0,bS=[];if(at(bR)){for(bU=bR.length;bT<bU;bT++){bV=bW(bR[bT],bT,bQ),null!=bV&&bS.push(bV)}}else{for(bT in bR){bV=bW(bR[bT],bT,bQ),null!=bV&&bS.push(bV)}}return aA.apply([],bS)},guid:1,proxy:function(bU,bT){var bS,bQ,bR;if("string"==typeof bT&&(bS=bU[bT],bT=bU,bU=bS),bv.isFunction(bU)){return bQ=V.call(arguments,2),bR=function(){return bU.apply(bT||this,bQ.concat(V.call(arguments)))},bR.guid=bU.guid=bU.guid||bv.guid++,bR}},now:Date.now,support:E}),"function"==typeof Symbol&&(bv.fn[Symbol.iterator]=m[Symbol.iterator]),bv.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(bR,bQ){ae["[object "+bQ+"]"]=bQ.toLowerCase()});var k=function(cY){function ch(df,c9,di,dl){var dd,dj,dc,c8,dk,db,dg,da=c9&&c9.ownerDocument,dh=c9?c9.nodeType:9;if(di=di||[],"string"!=typeof df||!df||1!==dh&&9!==dh&&11!==dh){return di}if(!dl&&((c9?c9.ownerDocument||c9:cu)!==cn&&cI(c9),c9=c9||cn,cS)){if(11!==dh&&(dk=cA.exec(df))){if(dd=dk[1]){if(9===dh){if(!(dc=c9.getElementById(dd))){return di}if(dc.id===dd){return di.push(dc),di}}else{if(da&&(dc=da.getElementById(dd))&&cq(c9,dc)&&dc.id===dd){return di.push(dc),di}}}else{if(dk[2]){return bQ.apply(di,c9.getElementsByTagName(df)),di}if((dd=dk[3])&&c1.getElementsByClassName&&c9.getElementsByClassName){return bQ.apply(di,c9.getElementsByClassName(dd)),di}}}if(c1.qsa&&!cr[df+" "]&&(!cM||!cM.test(df))){if(1!==dh){da=c9,dg=df}else{if("object"!==c9.nodeName.toLowerCase()){for((c8=c9.getAttribute("id"))?c8=c8.replace(cP,cg):c9.setAttribute("id",c8=cU),db=b1(df),dj=db.length;dj--;){db[dj]="#"+c8+" "+b2(db[dj])}dg=db.join(","),da=cJ.test(df)&&cC(c9.parentNode)||c9}}if(dg){try{return bQ.apply(di,da.querySelectorAll(dg)),di}catch(de){}finally{c8===cU&&c9.removeAttribute("id")}}}}return c0(df.replace(cb,"$1"),c9,di,dl)}function cl(){function c8(da,db){return c9.push(da+" ")>b7.cacheLength&&delete c8[c9.shift()],c8[da+" "]=db}var c9=[];return c8}function b3(c8){return c8[cU]=!0,c8}function bZ(c9){var c8=cn.createElement("fieldset");try{return !!c9(c8)}catch(da){return !1}finally{c8.parentNode&&c8.parentNode.removeChild(c8),c8=null}}function c4(c9,db){for(var c8=c9.split("|"),da=c8.length;da--;){b7.attrHandle[c8[da]]=db}}function bT(c9,c8){var db=c8&&c9,da=db&&1===c9.nodeType&&1===c8.nodeType&&c9.sourceIndex-c8.sourceIndex;if(da){return da}if(db){for(;db=db.nextSibling;){if(db===c8){return -1}}}return c9?1:-1}function ci(c8){return function(da){var c9=da.nodeName.toLowerCase();return"input"===c9&&da.type===c8}}function bV(c8){return function(da){var c9=da.nodeName.toLowerCase();return("input"===c9||"button"===c9)&&da.type===c8}}function bU(c8){return function(c9){return"label" in c9&&c9.disabled===c8||"form" in c9&&c9.disabled===c8||"form" in c9&&c9.disabled===!1&&(c9.isDisabled===c8||c9.isDisabled!==!c8&&("label" in c9||!c3(c9))!==c8)
}}function cR(c8){return b3(function(c9){return c9=+c9,b3(function(da,de){for(var dc,db=c8([],da.length,c9),dd=db.length;dd--;){da[dc=db[dd]]&&(da[dc]=!(de[dc]=da[dc]))}})})}function cC(c8){return c8&&"undefined"!=typeof c8.getElementsByTagName&&c8}function cE(){}function b2(db){for(var da=0,c9=db.length,c8="";da<c9;da++){c8+=db[da].value}return c8}function ca(de,dc,dd){var c8=dc.dir,db=dc.next,da=db||c8,df=dd&&"parentNode"===da,c9=cN++;return dc.first?function(di,dh,dg){for(;di=di[c8];){if(1===di.nodeType||df){return de(di,dh,dg)}}}:function(dl,dj,di){var dm,dg,dk,dh=[c2,c9];if(di){for(;dl=dl[c8];){if((1===dl.nodeType||df)&&de(dl,dj,di)){return !0}}}else{for(;dl=dl[c8];){if(1===dl.nodeType||df){if(dk=dl[cU]||(dl[cU]={}),dg=dk[dl.uniqueID]||(dk[dl.uniqueID]={}),db&&db===dl.nodeName.toLowerCase()){dl=dl[c8]||dl}else{if((dm=dg[da])&&dm[0]===c2&&dm[1]===c9){return dh[2]=dm[2]}if(dg[da]=dh,dh[2]=de(dl,dj,di)){return !0}}}}}}}function c5(c8){return c8.length>1?function(dc,db,c9){for(var da=c8.length;da--;){if(!c8[da](dc,db,c9)){return !1}}return !0}:c8[0]}function ck(c9,dc,db){for(var da=0,c8=dc.length;da<c8;da++){ch(c9,dc[da],db)}return db}function cK(c8,c9,da,db,de){for(var dc,dh=[],dd=0,df=c8.length,dg=null!=c9;dd<df;dd++){(dc=c8[dd])&&(da&&!da(dc,db,de)||(dh.push(dc),dg&&c9.push(dd)))}return dh}function b0(da,c9,dc,db,dd,c8){return db&&!db[cU]&&(db=b0(db)),dd&&!dd[cU]&&(dd=b0(dd,c8)),b3(function(dp,dl,dg,dn){var dr,dm,di,dh=[],dq=[],df=dl.length,de=dp||ck(c9||"*",dg.nodeType?[dg]:dg,[]),dj=!da||!dp&&c9?de:cK(de,dh,da,dg,dn),dk=dc?dd||(dp?da:df||db)?[]:dl:dj;if(dc&&dc(dj,dk,dg,dn),db){for(dr=cK(dk,dq),db(dr,[],dg,dn),dm=dr.length;dm--;){(di=dr[dm])&&(dk[dq[dm]]=!(dj[dq[dm]]=di))}}if(dp){if(dd||da){if(dd){for(dr=[],dm=dk.length;dm--;){(di=dk[dm])&&dr.push(dj[dm]=di)}dd(null,dk=[],dr,dn)}for(dm=dk.length;dm--;){(di=dk[dm])&&(dr=dd?bX(dp,di):dh[dm])>-1&&(dp[dr]=!(dl[dr]=di))}}}else{dk=cK(dk===dl?dk.splice(df,dk.length):dk),dd?dd(null,dl,dk,dn):bQ.apply(dl,dk)}})}function cV(de){for(var c9,dc,da,dd=de.length,dh=b7.relative[de[0].type],di=dh||b7.relative[" "],db=dh?1:0,df=ca(function(dj){return dj===c9},di,!0),dg=ca(function(dj){return bX(c9,dj)>-1},di,!0),c8=[function(dm,dl,dk){var dj=!dh&&(dk||dl!==c7)||((c9=dl).nodeType?df(dm,dl,dk):dg(dm,dl,dk));return c9=null,dj}];db<dd;db++){if(dc=b7.relative[de[db].type]){c8=[ca(c5(c8),dc)]}else{if(dc=b7.filter[de[db].type].apply(null,de[db].matches),dc[cU]){for(da=++db;da<dd&&!b7.relative[de[da].type];da++){}return b0(db>1&&c5(c8),db>1&&b2(de.slice(0,db-1).concat({value:" "===de[db-2].type?"*":""})).replace(cb,"$1"),dc,db<da&&cV(de.slice(db,da)),da<dd&&cV(de=de.slice(da)),da<dd&&b2(de))}c8.push(dc)}}return c5(c8)}function cH(db,da){var c8=da.length>0,dc=db.length>0,c9=function(dm,dg,dl,dk,dq){var dh,di,dn,ds=0,dj="0",dd=dm&&[],dt=[],dr=c7,df=dm||dc&&b7.find.TAG("*",dq),de=c2+=null==dr?1:Math.random()||0.1,dp=df.length;for(dq&&(c7=dg===cn||dg||dq);dj!==dp&&null!=(dh=df[dj]);dj++){if(dc&&dh){for(di=0,dg||dh.ownerDocument===cn||(cI(dh),dl=!cS);dn=db[di++];){if(dn(dh,dg||cn,dl)){dk.push(dh);break}}dq&&(c2=de)}c8&&((dh=!dn&&dh)&&ds--,dm&&dd.push(dh))}if(ds+=dj,c8&&dj!==ds){for(di=0;dn=da[di++];){dn(dd,dt,dg,dl)}if(dm){if(ds>0){for(;dj--;){dd[dj]||dt[dj]||(dt[dj]=cX.call(dk))}}dt=cK(dt)}bQ.apply(dk,dt),dq&&!dm&&dt.length>0&&ds+da.length>1&&ch.uniqueSort(dk)}return dq&&(c2=de,c7=dr),dd};return c8?b3(c9):c9}var cj,c1,b7,cs,cv,b1,cF,c0,c7,ct,cG,cI,cn,b8,cS,cM,cZ,bY,cq,cU="sizzle"+1*new Date,cu=cY.document,c2=0,cN=0,bS=cl(),cT=cl(),cr=cl(),cp=function(c9,c8){return c9===c8&&(cG=!0),0},cy={}.hasOwnProperty,cW=[],cX=cW.pop,cx=cW.push,bQ=cW.push,b6=cW.slice,bX=function(db,da){for(var c9=0,c8=db.length;c9<c8;c9++){if(db[c9]===da){return c9}}return -1},bR="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",b9="[\\x20\\t\\r\\n\\f]",cw="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",cQ="\\["+b9+"*("+cw+")(?:"+b9+"*([*^$|!~]?=)"+b9+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+cw+"))|)"+b9+"*\\]",b4=":("+cw+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+cQ+")*)|.*)\\)|)",ce=new RegExp(b9+"+","g"),cb=new RegExp("^"+b9+"+|((?:^|[^\\\\])(?:\\\\.)*)"+b9+"+$","g"),cf=new RegExp("^"+b9+"*,"+b9+"*"),cm=new RegExp("^"+b9+"*([>+~]|"+b9+")"+b9+"*"),cd=new RegExp("="+b9+"*([^\\]'\"]*?)"+b9+"*\\]","g"),cB=new RegExp(b4),cD=new RegExp("^"+cw+"$"),cL={ID:new RegExp("^#("+cw+")"),CLASS:new RegExp("^\\.("+cw+")"),TAG:new RegExp("^("+cw+"|[*])"),ATTR:new RegExp("^"+cQ),PSEUDO:new RegExp("^"+b4),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+b9+"*(even|odd|(([+-]|)(\\d*)n|)"+b9+"*(?:([+-]|)"+b9+"*(\\d+)|))"+b9+"*\\)|)","i"),bool:new RegExp("^(?:"+bR+")$","i"),needsContext:new RegExp("^"+b9+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+b9+"*((?:-\\d)?\\d*)"+b9+"*\\)|)(?=[^-]|$)","i")},bW=/^(?:input|select|textarea|button)$/i,b5=/^h\d$/i,cz=/^[^{]+\{\s*\[native \w/,cA=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,cJ=/[+~]/,cc=new RegExp("\\\\([\\da-f]{1,6}"+b9+"?|("+b9+")|.)","ig"),cO=function(c8,db,c9){var da="0x"+db-65536;return da!==da||c9?db:da<0?String.fromCharCode(da+65536):String.fromCharCode(da>>10|55296,1023&da|56320)},cP=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,cg=function(c9,c8){return c8?"\0"===c9?"�":c9.slice(0,-1)+"\\"+c9.charCodeAt(c9.length-1).toString(16)+" ":"\\"+c9},c6=function(){cI()},c3=ca(function(c8){return c8.disabled===!0},{dir:"parentNode",next:"legend"});try{bQ.apply(cW=b6.call(cu.childNodes),cu.childNodes),cW[cu.childNodes.length].nodeType}catch(co){bQ={apply:cW.length?function(c9,c8){cx.apply(c9,b6.call(c8))}:function(db,da){for(var c8=db.length,c9=0;db[c8++]=da[c9++];){}db.length=c8-1}}}c1=ch.support={},cv=ch.isXML=function(c8){var c9=c8&&(c8.ownerDocument||c8).documentElement;return !!c9&&"HTML"!==c9.nodeName},cI=ch.setDocument=function(da){var c8,c9,db=da?da.ownerDocument||da:cu;return db!==cn&&9===db.nodeType&&db.documentElement?(cn=db,b8=cn.documentElement,cS=!cv(cn),cu!==cn&&(c9=cn.defaultView)&&c9.top!==c9&&(c9.addEventListener?c9.addEventListener("unload",c6,!1):c9.attachEvent&&c9.attachEvent("onunload",c6)),c1.attributes=bZ(function(dc){return dc.className="i",!dc.getAttribute("className")}),c1.getElementsByTagName=bZ(function(dc){return dc.appendChild(cn.createComment("")),!dc.getElementsByTagName("*").length}),c1.getElementsByClassName=cz.test(cn.getElementsByClassName),c1.getById=bZ(function(dc){return b8.appendChild(dc).id=cU,!cn.getElementsByName||!cn.getElementsByName(cU).length}),c1.getById?(b7.find.ID=function(de,dd){if("undefined"!=typeof dd.getElementById&&cS){var dc=dd.getElementById(de);return dc?[dc]:[]}},b7.filter.ID=function(dd){var dc=dd.replace(cc,cO);return function(de){return de.getAttribute("id")===dc}}):(delete b7.find.ID,b7.filter.ID=function(dd){var dc=dd.replace(cc,cO);return function(df){var de="undefined"!=typeof df.getAttributeNode&&df.getAttributeNode("id");return de&&de.value===dc}}),b7.find.TAG=c1.getElementsByTagName?function(dc,dd){return"undefined"!=typeof dd.getElementsByTagName?dd.getElementsByTagName(dc):c1.qsa?dd.querySelectorAll(dc):void 0}:function(dc,dg){var dh,df=[],de=0,dd=dg.getElementsByTagName(dc);if("*"===dc){for(;dh=dd[de++];){1===dh.nodeType&&df.push(dh)}return df}return dd},b7.find.CLASS=c1.getElementsByClassName&&function(dd,dc){if("undefined"!=typeof dc.getElementsByClassName&&cS){return dc.getElementsByClassName(dd)}},cZ=[],cM=[],(c1.qsa=cz.test(cn.querySelectorAll))&&(bZ(function(dc){b8.appendChild(dc).innerHTML="<a id='"+cU+"'></a><select id='"+cU+"-\r\\' msallowcapture=''><option selected=''></option></select>",dc.querySelectorAll("[msallowcapture^='']").length&&cM.push("[*^$]="+b9+"*(?:''|\"\")"),dc.querySelectorAll("[selected]").length||cM.push("\\["+b9+"*(?:value|"+bR+")"),dc.querySelectorAll("[id~="+cU+"-]").length||cM.push("~="),dc.querySelectorAll(":checked").length||cM.push(":checked"),dc.querySelectorAll("a#"+cU+"+*").length||cM.push(".#.+[+~]")}),bZ(function(dd){dd.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var dc=cn.createElement("input");dc.setAttribute("type","hidden"),dd.appendChild(dc).setAttribute("name","D"),dd.querySelectorAll("[name=d]").length&&cM.push("name"+b9+"*[*^$|!~]?="),2!==dd.querySelectorAll(":enabled").length&&cM.push(":enabled",":disabled"),b8.appendChild(dd).disabled=!0,2!==dd.querySelectorAll(":disabled").length&&cM.push(":enabled",":disabled"),dd.querySelectorAll("*,:x"),cM.push(",.*:")})),(c1.matchesSelector=cz.test(bY=b8.matches||b8.webkitMatchesSelector||b8.mozMatchesSelector||b8.oMatchesSelector||b8.msMatchesSelector))&&bZ(function(dc){c1.disconnectedMatch=bY.call(dc,"*"),bY.call(dc,"[s!='']:x"),cZ.push("!=",b4)}),cM=cM.length&&new RegExp(cM.join("|")),cZ=cZ.length&&new RegExp(cZ.join("|")),c8=cz.test(b8.compareDocumentPosition),cq=c8||cz.test(b8.contains)?function(dd,dc){var df=9===dd.nodeType?dd.documentElement:dd,de=dc&&dc.parentNode;return dd===de||!(!de||1!==de.nodeType||!(df.contains?df.contains(de):dd.compareDocumentPosition&&16&dd.compareDocumentPosition(de)))}:function(dd,dc){if(dc){for(;dc=dc.parentNode;){if(dc===dd){return !0}}}return !1},cp=c8?function(dd,dc){if(dd===dc){return cG=!0,0}var de=!dd.compareDocumentPosition-!dc.compareDocumentPosition;return de?de:(de=(dd.ownerDocument||dd)===(dc.ownerDocument||dc)?dd.compareDocumentPosition(dc):1,1&de||!c1.sortDetached&&dc.compareDocumentPosition(dd)===de?dd===cn||dd.ownerDocument===cu&&cq(cu,dd)?-1:dc===cn||dc.ownerDocument===cu&&cq(cu,dc)?1:ct?bX(ct,dd)-bX(ct,dc):0:4&de?-1:1)}:function(dd,dc){if(dd===dc){return cG=!0,0}var dj,dg=0,di=dd.parentNode,df=dc.parentNode,de=[dd],dh=[dc];if(!di||!df){return dd===cn?-1:dc===cn?1:di?-1:df?1:ct?bX(ct,dd)-bX(ct,dc):0}if(di===df){return bT(dd,dc)}for(dj=dd;dj=dj.parentNode;){de.unshift(dj)}for(dj=dc;dj=dj.parentNode;){dh.unshift(dj)}for(;de[dg]===dh[dg];){dg++}return dg?bT(de[dg],dh[dg]):de[dg]===cu?-1:dh[dg]===cu?1:0
},cn):cn},ch.matches=function(c9,c8){return ch(c9,null,null,c8)},ch.matchesSelector=function(c9,db){if((c9.ownerDocument||c9)!==cn&&cI(c9),db=db.replace(cd,"='$1']"),c1.matchesSelector&&cS&&!cr[db+" "]&&(!cZ||!cZ.test(db))&&(!cM||!cM.test(db))){try{var c8=bY.call(c9,db);if(c8||c1.disconnectedMatch||c9.document&&11!==c9.document.nodeType){return c8}}catch(da){}}return ch(db,cn,null,[c9]).length>0},ch.contains=function(c8,c9){return(c8.ownerDocument||c8)!==cn&&cI(c8),cq(c8,c9)},ch.attr=function(da,c8){(da.ownerDocument||da)!==cn&&cI(da);var c9=b7.attrHandle[c8.toLowerCase()],db=c9&&cy.call(b7.attrHandle,c8.toLowerCase())?c9(da,c8,!cS):void 0;return void 0!==db?db:c1.attributes||!cS?da.getAttribute(c8):(db=da.getAttributeNode(c8))&&db.specified?db.value:null},ch.escape=function(c8){return(c8+"").replace(cP,cg)},ch.error=function(c8){throw new Error("Syntax error, unrecognized expression: "+c8)},ch.uniqueSort=function(da){var db,dc=[],c8=0,c9=0;if(cG=!c1.detectDuplicates,ct=!c1.sortStable&&da.slice(0),da.sort(cp),cG){for(;db=da[c9++];){db===da[c9]&&(c8=dc.push(c9))}for(;c8--;){da.splice(dc[c8],1)}}return ct=null,da},cs=ch.getText=function(dc){var db,c9="",da=0,c8=dc.nodeType;if(c8){if(1===c8||9===c8||11===c8){if("string"==typeof dc.textContent){return dc.textContent}for(dc=dc.firstChild;dc;dc=dc.nextSibling){c9+=cs(dc)}}else{if(3===c8||4===c8){return dc.nodeValue}}}else{for(;db=dc[da++];){c9+=cs(db)}}return c9},b7=ch.selectors={cacheLength:50,createPseudo:b3,match:cL,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(c8){return c8[1]=c8[1].replace(cc,cO),c8[3]=(c8[3]||c8[4]||c8[5]||"").replace(cc,cO),"~="===c8[2]&&(c8[3]=" "+c8[3]+" "),c8.slice(0,4)},CHILD:function(c8){return c8[1]=c8[1].toLowerCase(),"nth"===c8[1].slice(0,3)?(c8[3]||ch.error(c8[0]),c8[4]=+(c8[4]?c8[5]+(c8[6]||1):2*("even"===c8[3]||"odd"===c8[3])),c8[5]=+(c8[7]+c8[8]||"odd"===c8[3])):c8[3]&&ch.error(c8[0]),c8},PSEUDO:function(c9){var c8,da=!c9[6]&&c9[2];return cL.CHILD.test(c9[0])?null:(c9[3]?c9[2]=c9[4]||c9[5]||"":da&&cB.test(da)&&(c8=b1(da,!0))&&(c8=da.indexOf(")",da.length-c8)-da.length)&&(c9[0]=c9[0].slice(0,c8),c9[2]=da.slice(0,c8)),c9.slice(0,3))}},filter:{TAG:function(c9){var c8=c9.replace(cc,cO).toLowerCase();return"*"===c9?function(){return !0}:function(da){return da.nodeName&&da.nodeName.toLowerCase()===c8}},CLASS:function(c8){var c9=bS[c8+" "];return c9||(c9=new RegExp("(^|"+b9+")"+c8+"("+b9+"|$)"))&&bS(c8,function(da){return c9.test("string"==typeof da.className&&da.className||"undefined"!=typeof da.getAttribute&&da.getAttribute("class")||"")})},ATTR:function(da,c9,c8){return function(dc){var db=ch.attr(dc,da);return null==db?"!="===c9:!c9||(db+="","="===c9?db===c8:"!="===c9?db!==c8:"^="===c9?c8&&0===db.indexOf(c8):"*="===c9?c8&&db.indexOf(c8)>-1:"$="===c9?c8&&db.slice(-c8.length)===c8:"~="===c9?(" "+db.replace(ce," ")+" ").indexOf(c8)>-1:"|="===c9&&(db===c8||db.slice(0,c8.length+1)===c8+"-"))}},CHILD:function(c9,dc,db,dd,da){var df="nth"!==c9.slice(0,3),c8="last"!==c9.slice(-4),de="of-type"===dc;return 1===dd&&0===da?function(dg){return !!dg.parentNode}:function(dn,dl,dr){var dg,dj,du,dp,dq,dk,dm=df!==c8?"nextSibling":"previousSibling",dt=dn.parentNode,di=de&&dn.nodeName.toLowerCase(),dh=!dr&&!de,ds=!1;if(dt){if(df){for(;dm;){for(dp=dn;dp=dp[dm];){if(de?dp.nodeName.toLowerCase()===di:1===dp.nodeType){return !1}}dk=dm="only"===c9&&!dk&&"nextSibling"}return !0}if(dk=[c8?dt.firstChild:dt.lastChild],c8&&dh){for(dp=dt,du=dp[cU]||(dp[cU]={}),dj=du[dp.uniqueID]||(du[dp.uniqueID]={}),dg=dj[c9]||[],dq=dg[0]===c2&&dg[1],ds=dq&&dg[2],dp=dq&&dt.childNodes[dq];dp=++dq&&dp&&dp[dm]||(ds=dq=0)||dk.pop();){if(1===dp.nodeType&&++ds&&dp===dn){dj[c9]=[c2,dq,ds];break}}}else{if(dh&&(dp=dn,du=dp[cU]||(dp[cU]={}),dj=du[dp.uniqueID]||(du[dp.uniqueID]={}),dg=dj[c9]||[],dq=dg[0]===c2&&dg[1],ds=dq),ds===!1){for(;(dp=++dq&&dp&&dp[dm]||(ds=dq=0)||dk.pop())&&((de?dp.nodeName.toLowerCase()!==di:1!==dp.nodeType)||!++ds||(dh&&(du=dp[cU]||(dp[cU]={}),dj=du[dp.uniqueID]||(du[dp.uniqueID]={}),dj[c9]=[c2,ds]),dp!==dn));){}}}return ds-=da,ds===dd||ds%dd===0&&ds/dd>=0}}},PSEUDO:function(db,da){var c8,c9=b7.pseudos[db]||b7.setFilters[db.toLowerCase()]||ch.error("unsupported pseudo: "+db);return c9[cU]?c9(da):c9.length>1?(c8=[db,db,"",da],b7.setFilters.hasOwnProperty(db.toLowerCase())?b3(function(de,dg){for(var dd,dc=c9(de,da),df=dc.length;df--;){dd=bX(de,dc[df]),de[dd]=!(dg[dd]=dc[df])}}):function(dc){return c9(dc,0,c8)}):c9}},pseudos:{not:b3(function(c8){var c9=[],da=[],db=cF(c8.replace(cb,"$1"));return db[cU]?b3(function(dd,di,dg,de){for(var dh,dc=db(dd,null,de,[]),df=dd.length;df--;){(dh=dc[df])&&(dd[df]=!(di[df]=dh))}}):function(de,dd,dc){return c9[0]=de,db(c9,null,dc,da),c9[0]=null,!da.pop()}}),has:b3(function(c8){return function(c9){return ch(c8,c9).length>0}}),contains:b3(function(c8){return c8=c8.replace(cc,cO),function(c9){return(c9.textContent||c9.innerText||cs(c9)).indexOf(c8)>-1}}),lang:b3(function(c8){return cD.test(c8||"")||ch.error("unsupported lang: "+c8),c8=c8.replace(cc,cO).toLowerCase(),function(da){var c9;do{if(c9=cS?da.lang:da.getAttribute("xml:lang")||da.getAttribute("lang")){return c9=c9.toLowerCase(),c9===c8||0===c9.indexOf(c8+"-")}}while((da=da.parentNode)&&1===da.nodeType);return !1}}),target:function(c8){var c9=cY.location&&cY.location.hash;return c9&&c9.slice(1)===c8.id},root:function(c8){return c8===b8},focus:function(c8){return c8===cn.activeElement&&(!cn.hasFocus||cn.hasFocus())&&!!(c8.type||c8.href||~c8.tabIndex)},enabled:bU(!1),disabled:bU(!0),checked:function(c8){var c9=c8.nodeName.toLowerCase();return"input"===c9&&!!c8.checked||"option"===c9&&!!c8.selected},selected:function(c8){return c8.parentNode&&c8.parentNode.selectedIndex,c8.selected===!0},empty:function(c8){for(c8=c8.firstChild;c8;c8=c8.nextSibling){if(c8.nodeType<6){return !1}}return !0},parent:function(c8){return !b7.pseudos.empty(c8)},header:function(c8){return b5.test(c8.nodeName)},input:function(c8){return bW.test(c8.nodeName)},button:function(c9){var c8=c9.nodeName.toLowerCase();return"input"===c8&&"button"===c9.type||"button"===c8},text:function(c9){var c8;return"input"===c9.nodeName.toLowerCase()&&"text"===c9.type&&(null==(c8=c9.getAttribute("type"))||"text"===c8.toLowerCase())},first:cR(function(){return[0]}),last:cR(function(c8,c9){return[c9-1]}),eq:cR(function(c8,da,c9){return[c9<0?c9+da:c9]}),even:cR(function(c8,da){for(var c9=0;c9<da;c9+=2){c8.push(c9)}return c8}),odd:cR(function(c8,da){for(var c9=1;c9<da;c9+=2){c8.push(c9)}return c8}),lt:cR(function(c8,db,da){for(var c9=da<0?da+db:da;--c9>=0;){c8.push(c9)}return c8}),gt:cR(function(c8,db,da){for(var c9=da<0?da+db:da;++c9<db;){c8.push(c9)}return c8})}},b7.pseudos.nth=b7.pseudos.eq;for(cj in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){b7.pseudos[cj]=ci(cj)}for(cj in {submit:!0,reset:!0}){b7.pseudos[cj]=bV(cj)}return cE.prototype=b7.filters=b7.pseudos,b7.setFilters=new cE,b1=ch.tokenize=function(dc,dh){var c9,dd,df,dg,de,da,c8,db=cT[dc+" "];if(db){return dh?0:db.slice(0)}for(de=dc,da=[],c8=b7.preFilter;de;){c9&&!(dd=cf.exec(de))||(dd&&(de=de.slice(dd[0].length)||de),da.push(df=[])),c9=!1,(dd=cm.exec(de))&&(c9=dd.shift(),df.push({value:c9,type:dd[0].replace(cb," ")}),de=de.slice(c9.length));for(dg in b7.filter){!(dd=cL[dg].exec(de))||c8[dg]&&!(dd=c8[dg](dd))||(c9=dd.shift(),df.push({value:c9,type:dg,matches:dd}),de=de.slice(c9.length))}if(!c9){break}}return dh?de.length:de?ch.error(dc):cT(dc,da).slice(0)},cF=ch.compile=function(c8,da){var db,c9=[],dd=[],dc=cr[c8+" "];if(!dc){for(da||(da=b1(c8)),db=da.length;db--;){dc=cV(da[db]),dc[cU]?c9.push(dc):dd.push(dc)}dc=cr(c8,cH(dd,c9)),dc.selector=c8}return dc},c0=ch.select=function(da,c8,db,de){var dc,dh,c9,di,df,dg="function"==typeof da&&da,dd=!de&&b1(da=dg.selector||da);if(db=db||[],1===dd.length){if(dh=dd[0]=dd[0].slice(0),dh.length>2&&"ID"===(c9=dh[0]).type&&c1.getById&&9===c8.nodeType&&cS&&b7.relative[dh[1].type]){if(c8=(b7.find.ID(c9.matches[0].replace(cc,cO),c8)||[])[0],!c8){return db}dg&&(c8=c8.parentNode),da=da.slice(dh.shift().value.length)}for(dc=cL.needsContext.test(da)?0:dh.length;dc--&&(c9=dh[dc],!b7.relative[di=c9.type]);){if((df=b7.find[di])&&(de=df(c9.matches[0].replace(cc,cO),cJ.test(dh[0].type)&&cC(c8.parentNode)||c8))){if(dh.splice(dc,1),da=de.length&&b2(dh),!da){return bQ.apply(db,de),db}break}}}return(dg||cF(da,dd))(de,c8,!cS,db,!c8||cJ.test(da)&&cC(c8.parentNode)||c8),db},c1.sortStable=cU.split("").sort(cp).join("")===cU,c1.detectDuplicates=!!cG,cI(),c1.sortDetached=bZ(function(c8){return 1&c8.compareDocumentPosition(cn.createElement("fieldset"))}),bZ(function(c8){return c8.innerHTML="<a href='#'></a>","#"===c8.firstChild.getAttribute("href")})||c4("type|href|height|width",function(c9,c8,da){if(!da){return c9.getAttribute(c8,"type"===c8.toLowerCase()?1:2)}}),c1.attributes&&bZ(function(c8){return c8.innerHTML="<input/>",c8.firstChild.setAttribute("value",""),""===c8.firstChild.getAttribute("value")})||c4("value",function(c9,c8,da){if(!da&&"input"===c9.nodeName.toLowerCase()){return c9.defaultValue}}),bZ(function(c8){return null==c8.getAttribute("disabled")})||c4(bR,function(c9,c8,db){var da;if(!db){return c9[c8]===!0?c8.toLowerCase():(da=c9.getAttributeNode(c8))&&da.specified?da.value:null}}),ch}(aW);bv.find=k,bv.expr=k.selectors,bv.expr[":"]=bv.expr.pseudos,bv.uniqueSort=bv.unique=k.uniqueSort,bv.text=k.getText,bv.isXMLDoc=k.isXML,bv.contains=k.contains,bv.escapeSelector=k.escape;var aa=function(bT,bR,bU){for(var bQ=[],bS=void 0!==bU;(bT=bT[bR])&&9!==bT.nodeType;){if(1===bT.nodeType){if(bS&&bv(bT).is(bU)){break}bQ.push(bT)}}return bQ},o=function(bS,bR){for(var bQ=[];bS;bS=bS.nextSibling){1===bS.nodeType&&bS!==bR&&bQ.push(bS)}return bQ},z=bv.expr.match.needsContext,a=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,aH=/^.[^:#\[\.,]*$/;bv.filter=function(bT,bQ,bS){var bR=bQ[0];return bS&&(bT=":not("+bT+")"),1===bQ.length&&1===bR.nodeType?bv.find.matchesSelector(bR,bT)?[bR]:[]:bv.find.matches(bT,bv.grep(bQ,function(bU){return 1===bU.nodeType
}))},bv.fn.extend({find:function(bR){var bU,bT,bQ=this.length,bS=this;if("string"!=typeof bR){return this.pushStack(bv(bR).filter(function(){for(bU=0;bU<bQ;bU++){if(bv.contains(bS[bU],this)){return !0}}}))}for(bT=this.pushStack([]),bU=0;bU<bQ;bU++){bv.find(bR,bS[bU],bT)}return bQ>1?bv.uniqueSort(bT):bT},filter:function(bQ){return this.pushStack(aO(this,bQ||[],!1))},not:function(bQ){return this.pushStack(aO(this,bQ||[],!0))},is:function(bQ){return !!aO(this,"string"==typeof bQ&&z.test(bQ)?bv(bQ):bQ||[],!1).length}});var y,bg=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,bJ=bv.fn.init=function(bQ,bT,bR){var bS,bU;if(!bQ){return this}if(bR=bR||y,"string"==typeof bQ){if(bS="<"===bQ[0]&&">"===bQ[bQ.length-1]&&bQ.length>=3?[null,bQ,null]:bg.exec(bQ),!bS||!bS[1]&&bT){return !bT||bT.jquery?(bT||bR).find(bQ):this.constructor(bT).find(bQ)}if(bS[1]){if(bT=bT instanceof bv?bT[0]:bT,bv.merge(this,bv.parseHTML(bS[1],bT&&bT.nodeType?bT.ownerDocument||bT:l,!0)),a.test(bS[1])&&bv.isPlainObject(bT)){for(bS in bT){bv.isFunction(this[bS])?this[bS](bT[bS]):this.attr(bS,bT[bS])}}return this}return bU=l.getElementById(bS[2]),bU&&(this[0]=bU,this.length=1),this}return bQ.nodeType?(this[0]=bQ,this.length=1,this):bv.isFunction(bQ)?void 0!==bR.ready?bR.ready(bQ):bQ(bv):bv.makeArray(bQ,this)};bJ.prototype=bv.fn,y=bv(l);var bi=/^(?:parents|prev(?:Until|All))/,bm={children:!0,contents:!0,next:!0,prev:!0};bv.fn.extend({has:function(bS){var bR=bv(bS,this),bQ=bR.length;return this.filter(function(){for(var bT=0;bT<bQ;bT++){if(bv.contains(this,bR[bT])){return !0}}})},closest:function(bV,bU){var bW,bT=0,bS=this.length,bQ=[],bR="string"!=typeof bV&&bv(bV);if(!z.test(bV)){for(;bT<bS;bT++){for(bW=this[bT];bW&&bW!==bU;bW=bW.parentNode){if(bW.nodeType<11&&(bR?bR.index(bW)>-1:1===bW.nodeType&&bv.find.matchesSelector(bW,bV))){bQ.push(bW);break}}}}return this.pushStack(bQ.length>1?bv.uniqueSort(bQ):bQ)},index:function(bQ){return bQ?"string"==typeof bQ?bI.call(bv(bQ),this[0]):bI.call(this,bQ.jquery?bQ[0]:bQ):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(bQ,bR){return this.pushStack(bv.uniqueSort(bv.merge(this.get(),bv(bQ,bR))))},addBack:function(bQ){return this.add(null==bQ?this.prevObject:this.prevObject.filter(bQ))}}),bv.each({parent:function(bR){var bQ=bR.parentNode;return bQ&&11!==bQ.nodeType?bQ:null},parents:function(bQ){return aa(bQ,"parentNode")},parentsUntil:function(bR,bQ,bS){return aa(bR,"parentNode",bS)},next:function(bQ){return aT(bQ,"nextSibling")},prev:function(bQ){return aT(bQ,"previousSibling")},nextAll:function(bQ){return aa(bQ,"nextSibling")},prevAll:function(bQ){return aa(bQ,"previousSibling")},nextUntil:function(bR,bQ,bS){return aa(bR,"nextSibling",bS)},prevUntil:function(bR,bQ,bS){return aa(bR,"previousSibling",bS)},siblings:function(bQ){return o((bQ.parentNode||{}).firstChild,bQ)},children:function(bQ){return o(bQ.firstChild)},contents:function(bQ){return bQ.contentDocument||bv.merge([],bQ.childNodes)}},function(bQ,bR){bv.fn[bQ]=function(bU,bT){var bS=bv.map(this,bR,bU);return"Until"!==bQ.slice(-5)&&(bT=bU),bT&&"string"==typeof bT&&(bS=bv.filter(bT,bS)),this.length>1&&(bm[bQ]||bv.uniqueSort(bS),bi.test(bQ)&&bS.reverse()),this.pushStack(bS)}});var aD=/\S+/g;bv.Callbacks=function(bZ){bZ="string"==typeof bZ?ag(bZ):bv.extend({},bZ);var bU,bS,bQ,bT,bX=[],bV=[],bW=-1,bR=function(){for(bT=bZ.once,bQ=bU=!0;bV.length;bW=-1){for(bS=bV.shift();++bW<bX.length;){bX[bW].apply(bS[0],bS[1])===!1&&bZ.stopOnFalse&&(bW=bX.length,bS=!1)}}bZ.memory||(bS=!1),bU=!1,bT&&(bX=bS?[]:"")},bY={add:function(){return bX&&(bS&&!bU&&(bW=bX.length-1,bV.push(bS)),function b0(b1){bv.each(b1,function(b3,b2){bv.isFunction(b2)?bZ.unique&&bY.has(b2)||bX.push(b2):b2&&b2.length&&"string"!==bv.type(b2)&&b0(b2)})}(arguments),bS&&!bU&&bR()),this},remove:function(){return bv.each(arguments,function(b2,b0){for(var b1;(b1=bv.inArray(b0,bX,b1))>-1;){bX.splice(b1,1),b1<=bW&&bW--}}),this},has:function(b0){return b0?bv.inArray(b0,bX)>-1:bX.length>0},empty:function(){return bX&&(bX=[]),this},disable:function(){return bT=bV=[],bX=bS="",this},disabled:function(){return !bX},lock:function(){return bT=bV=[],bS||bU||(bX=bS=""),this},locked:function(){return !!bT},fireWith:function(b1,b0){return bT||(b0=b0||[],b0=[b1,b0.slice?b0.slice():b0],bV.push(b0),bU||bR()),this},fire:function(){return bY.fireWith(this,arguments),this},fired:function(){return !!bQ}};return bY},bv.extend({Deferred:function(bS){var bR=[["notify","progress",bv.Callbacks("memory"),bv.Callbacks("memory"),2],["resolve","done",bv.Callbacks("once memory"),bv.Callbacks("once memory"),0,"resolved"],["reject","fail",bv.Callbacks("once memory"),bv.Callbacks("once memory"),1,"rejected"]],bT="pending",bU={state:function(){return bT},always:function(){return bQ.done(arguments).fail(arguments),this},"catch":function(bV){return bU.then(null,bV)},pipe:function(){var bV=arguments;return bv.Deferred(function(bW){bv.each(bR,function(bY,bX){var bZ=bv.isFunction(bV[bX[4]])&&bV[bX[4]];bQ[bX[1]](function(){var b0=bZ&&bZ.apply(this,arguments);b0&&bv.isFunction(b0.promise)?b0.promise().progress(bW.notify).done(bW.resolve).fail(bW.reject):bW[bX[0]+"With"](this,bZ?[b0]:arguments)})}),bV=null}).promise()},then:function(bY,bV,bX){function bW(b3,b0,b2,b1){return function(){var b5=this,b4=arguments,b6=function(){var b8,b9;if(!(b3<bZ)){if(b8=b2.apply(b5,b4),b8===b0.promise()){throw new TypeError("Thenable self-resolution")}b9=b8&&("object"==typeof b8||"function"==typeof b8)&&b8.then,bv.isFunction(b9)?b1?b9.call(b8,bW(bZ,b0,a8,b1),bW(bZ,b0,a6,b1)):(bZ++,b9.call(b8,bW(bZ,b0,a8,b1),bW(bZ,b0,a6,b1),bW(bZ,b0,a8,b0.notifyWith))):(b2!==a8&&(b5=void 0,b4=[b8]),(b1||b0.resolveWith)(b5,b4))}},b7=b1?b6:function(){try{b6()}catch(b8){bv.Deferred.exceptionHook&&bv.Deferred.exceptionHook(b8,b7.stackTrace),b3+1>=bZ&&(b2!==a6&&(b5=void 0,b4=[b8]),b0.rejectWith(b5,b4))}};b3?b7():(bv.Deferred.getStackHook&&(b7.stackTrace=bv.Deferred.getStackHook()),aW.setTimeout(b7))}}var bZ=0;return bv.Deferred(function(b0){bR[0][3].add(bW(0,b0,bv.isFunction(bX)?bX:a8,b0.notifyWith)),bR[1][3].add(bW(0,b0,bv.isFunction(bY)?bY:a8)),bR[2][3].add(bW(0,b0,bv.isFunction(bV)?bV:a6))}).promise()},promise:function(bV){return null!=bV?bv.extend(bV,bU):bU}},bQ={};return bv.each(bR,function(bW,bV){var bY=bV[2],bX=bV[5];bU[bV[1]]=bY.add,bX&&bY.add(function(){bT=bX},bR[3-bW][2].disable,bR[0][2].lock),bY.add(bV[3].fire),bQ[bV[0]]=function(){return bQ[bV[0]+"With"](this===bQ?void 0:this,arguments),this},bQ[bV[0]+"With"]=bY.fireWith}),bU.promise(bQ),bS&&bS.call(bQ,bQ),bQ},when:function(bR){var bU=arguments.length,bS=bU,bT=Array(bS),bW=V.call(arguments),bV=bv.Deferred(),bQ=function(bX){return function(bY){bT[bX]=this,bW[bX]=arguments.length>1?V.call(arguments):bY,--bU||bV.resolveWith(bT,bW)}};if(bU<=1&&(f(bR,bV.done(bQ(bS)).resolve,bV.reject),"pending"===bV.state()||bv.isFunction(bW[bS]&&bW[bS].then))){return bV.then()}for(;bS--;){f(bW[bS],bQ(bS),bV.reject)}return bV.promise()}});var K=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;bv.Deferred.exceptionHook=function(bR,bQ){aW.console&&aW.console.warn&&bR&&K.test(bR.name)&&aW.console.warn("jQuery.Deferred exception: "+bR.message,bR.stack,bQ)},bv.readyException=function(bQ){aW.setTimeout(function(){throw bQ})};var ak=bv.Deferred();bv.fn.ready=function(bQ){return ak.then(bQ)["catch"](function(bR){bv.readyException(bR)}),this},bv.extend({isReady:!1,readyWait:1,holdReady:function(bQ){bQ?bv.readyWait++:bv.ready(!0)},ready:function(bQ){(bQ===!0?--bv.readyWait:bv.isReady)||(bv.isReady=!0,bQ!==!0&&--bv.readyWait>0||ak.resolveWith(l,[bv]))}}),bv.ready.then=ak.then,"complete"===l.readyState||"loading"!==l.readyState&&!l.documentElement.doScroll?aW.setTimeout(bv.ready):(l.addEventListener("DOMContentLoaded",bN),aW.addEventListener("load",bN));var aB=function(bQ,bV,bX,bW,bS,bZ,bY){var bR=0,bT=bQ.length,bU=null==bX;if("object"===bv.type(bX)){bS=!0;for(bR in bX){aB(bQ,bV,bR,bX[bR],!0,bZ,bY)}}else{if(void 0!==bW&&(bS=!0,bv.isFunction(bW)||(bY=!0),bU&&(bY?(bV.call(bQ,bW),bV=null):(bU=bV,bV=function(b1,b0,b2){return bU.call(bv(b1),b2)})),bV)){for(;bR<bT;bR++){bV(bQ[bR],bX,bY?bW:bW.call(bQ[bR],bR,bV(bQ[bR],bX)))}}}return bS?bQ:bU?bV.call(bQ):bT?bV(bQ[0],bX):bZ},S=function(bQ){return 1===bQ.nodeType||9===bQ.nodeType||!+bQ.nodeType};a1.uid=1,a1.prototype={cache:function(bQ){var bR=bQ[this.expando];return bR||(bR={},S(bQ)&&(bQ.nodeType?bQ[this.expando]=bR:Object.defineProperty(bQ,this.expando,{value:bR,configurable:!0}))),bR},set:function(bQ,bT,bS){var bU,bR=this.cache(bQ);if("string"==typeof bT){bR[bv.camelCase(bT)]=bS}else{for(bU in bT){bR[bv.camelCase(bU)]=bT[bU]}}return bR},get:function(bQ,bR){return void 0===bR?this.cache(bQ):bQ[this.expando]&&bQ[this.expando][bv.camelCase(bR)]},access:function(bQ,bR,bS){return void 0===bR||bR&&"string"==typeof bR&&void 0===bS?this.get(bQ,bR):(this.set(bQ,bR,bS),void 0!==bS?bS:bR)},remove:function(bQ,bT){var bS,bR=bQ[this.expando];if(void 0!==bR){if(void 0!==bT){bv.isArray(bT)?bT=bT.map(bv.camelCase):(bT=bv.camelCase(bT),bT=bT in bR?[bT]:bT.match(aD)||[]),bS=bT.length;for(;bS--;){delete bR[bT[bS]]}}(void 0===bT||bv.isEmptyObject(bR))&&(bQ.nodeType?bQ[this.expando]=void 0:delete bQ[this.expando])}},hasData:function(bQ){var bR=bQ[this.expando];return void 0!==bR&&!bv.isEmptyObject(bR)}};var bK=new a1,bt=new a1,bl=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,aN=/[A-Z]/g;bv.extend({hasData:function(bQ){return bt.hasData(bQ)||bK.hasData(bQ)},data:function(bR,bQ,bS){return bt.access(bR,bQ,bS)},removeData:function(bR,bQ){bt.remove(bR,bQ)},_data:function(bR,bQ,bS){return bK.access(bR,bQ,bS)},_removeData:function(bR,bQ){bK.remove(bR,bQ)}}),bv.fn.extend({data:function(bT,bW){var bS,bR,bV,bU=this[0],bQ=bU&&bU.attributes;if(void 0===bT){if(this.length&&(bV=bt.get(bU),1===bU.nodeType&&!bK.get(bU,"hasDataAttrs"))){for(bS=bQ.length;bS--;){bQ[bS]&&(bR=bQ[bS].name,0===bR.indexOf("data-")&&(bR=bv.camelCase(bR.slice(5)),bn(bU,bR,bV[bR])))}bK.set(bU,"hasDataAttrs",!0)}return bV}return"object"==typeof bT?this.each(function(){bt.set(this,bT)
}):aB(this,function(bY){var bX;if(bU&&void 0===bY){if(bX=bt.get(bU,bT),void 0!==bX){return bX}if(bX=bn(bU,bT),void 0!==bX){return bX}}else{this.each(function(){bt.set(this,bT,bY)})}},null,bW,arguments.length>1,null,!0)},removeData:function(bQ){return this.each(function(){bt.remove(this,bQ)})}}),bv.extend({queue:function(bS,bR,bT){var bQ;if(bS){return bR=(bR||"fx")+"queue",bQ=bK.get(bS,bR),bT&&(!bQ||bv.isArray(bT)?bQ=bK.access(bS,bR,bv.makeArray(bT)):bQ.push(bT)),bQ||[]}},dequeue:function(bV,bU){bU=bU||"fx";var bR=bv.queue(bV,bU),bW=bR.length,bT=bR.shift(),bQ=bv._queueHooks(bV,bU),bS=function(){bv.dequeue(bV,bU)};"inprogress"===bT&&(bT=bR.shift(),bW--),bT&&("fx"===bU&&bR.unshift("inprogress"),delete bQ.stop,bT.call(bV,bS,bQ)),!bW&&bQ&&bQ.empty.fire()},_queueHooks:function(bS,bR){var bQ=bR+"queueHooks";return bK.get(bS,bQ)||bK.access(bS,bQ,{empty:bv.Callbacks("once memory").add(function(){bK.remove(bS,[bR+"queue",bQ])})})}}),bv.fn.extend({queue:function(bQ,bR){var bS=2;return"string"!=typeof bQ&&(bR=bQ,bQ="fx",bS--),arguments.length<bS?bv.queue(this[0],bQ):void 0===bR?this:this.each(function(){var bT=bv.queue(this,bQ,bR);bv._queueHooks(this,bQ),"fx"===bQ&&"inprogress"!==bT[0]&&bv.dequeue(this,bQ)})},dequeue:function(bQ){return this.each(function(){bv.dequeue(this,bQ)})},clearQueue:function(bQ){return this.queue(bQ||"fx",[])},promise:function(bS,bW){var bR,bT=1,bX=bv.Deferred(),bV=this,bQ=this.length,bU=function(){--bT||bX.resolveWith(bV,[bV])};for("string"!=typeof bS&&(bW=bS,bS=void 0),bS=bS||"fx";bQ--;){bR=bK.get(bV[bQ],bS+"queueHooks"),bR&&bR.empty&&(bT++,bR.empty.add(bU))}return bU(),bX.promise(bW)}});var aC=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,bM=new RegExp("^(?:([+-])=|)("+aC+")([a-z%]*)$","i"),bG=["Top","Right","Bottom","Left"],bP=function(bR,bQ){return bR=bQ||bR,"none"===bR.style.display||""===bR.style.display&&bv.contains(bR.ownerDocument,bR)&&"none"===bv.css(bR,"display")},J=function(bV,bU,bW,bT){var bS,bR,bQ={};for(bR in bU){bQ[bR]=bV.style[bR],bV.style[bR]=bU[bR]}bS=bW.apply(bV,bT||[]);for(bR in bU){bV.style[bR]=bQ[bR]}return bS},T={};bv.fn.extend({show:function(){return r(this,!0)},hide:function(){return r(this)},toggle:function(bQ){return"boolean"==typeof bQ?bQ?this.show():this.hide():this.each(function(){bP(this)?bv(this).show():bv(this).hide()})}});var aI=/^(?:checkbox|radio)$/i,n=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,bo=/^$|\/(?:java|ecma)script/i,Y={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Y.optgroup=Y.option,Y.tbody=Y.tfoot=Y.colgroup=Y.caption=Y.thead,Y.th=Y.td;var Q=/<|&#?\w+;/;!function(){var bR=l.createDocumentFragment(),bS=bR.appendChild(l.createElement("div")),bQ=l.createElement("input");bQ.setAttribute("type","radio"),bQ.setAttribute("checked","checked"),bQ.setAttribute("name","t"),bS.appendChild(bQ),E.checkClone=bS.cloneNode(!0).cloneNode(!0).lastChild.checked,bS.innerHTML="<textarea>x</textarea>",E.noCloneChecked=!!bS.cloneNode(!0).lastChild.defaultValue}();var bH=l.documentElement,aX=/^key/,by=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,bj=/^([^.]*)(?:\.(.+)|)/;bv.event={global:{},add:function(bU,bZ,b6,bW,bV){var bS,bY,bX,b5,b4,b3,b1,bT,b2,bQ,bR,b0=bK.get(bU);if(b0){for(b6.handler&&(bS=b6,b6=bS.handler,bV=bS.selector),bV&&bv.find.matchesSelector(bH,bV),b6.guid||(b6.guid=bv.guid++),(b5=b0.events)||(b5=b0.events={}),(bY=b0.handle)||(bY=b0.handle=function(b7){return"undefined"!=typeof bv&&bv.event.triggered!==b7.type?bv.event.dispatch.apply(bU,arguments):void 0}),bZ=(bZ||"").match(aD)||[""],b4=bZ.length;b4--;){bX=bj.exec(bZ[b4])||[],b2=bR=bX[1],bQ=(bX[2]||"").split(".").sort(),b2&&(b1=bv.event.special[b2]||{},b2=(bV?b1.delegateType:b1.bindType)||b2,b1=bv.event.special[b2]||{},b3=bv.extend({type:b2,origType:bR,data:bW,handler:b6,guid:b6.guid,selector:bV,needsContext:bV&&bv.expr.match.needsContext.test(bV),namespace:bQ.join(".")},bS),(bT=b5[b2])||(bT=b5[b2]=[],bT.delegateCount=0,b1.setup&&b1.setup.call(bU,bW,bQ,bY)!==!1||bU.addEventListener&&bU.addEventListener(b2,bY)),b1.add&&(b1.add.call(bU,b3),b3.handler.guid||(b3.handler.guid=b6.guid)),bV?bT.splice(bT.delegateCount++,0,b3):bT.push(b3),bv.event.global[b2]=!0)}}},remove:function(bT,bZ,b6,bU,bY){var bW,bV,bX,b5,b4,b3,b1,bS,b2,bQ,bR,b0=bK.hasData(bT)&&bK.get(bT);if(b0&&(b5=b0.events)){for(bZ=(bZ||"").match(aD)||[""],b4=bZ.length;b4--;){if(bX=bj.exec(bZ[b4])||[],b2=bR=bX[1],bQ=(bX[2]||"").split(".").sort(),b2){for(b1=bv.event.special[b2]||{},b2=(bU?b1.delegateType:b1.bindType)||b2,bS=b5[b2]||[],bX=bX[2]&&new RegExp("(^|\\.)"+bQ.join("\\.(?:.*\\.|)")+"(\\.|$)"),bV=bW=bS.length;bW--;){b3=bS[bW],!bY&&bR!==b3.origType||b6&&b6.guid!==b3.guid||bX&&!bX.test(b3.namespace)||bU&&bU!==b3.selector&&("**"!==bU||!b3.selector)||(bS.splice(bW,1),b3.selector&&bS.delegateCount--,b1.remove&&b1.remove.call(bT,b3))}bV&&!bS.length&&(b1.teardown&&b1.teardown.call(bT,bQ,b0.handle)!==!1||bv.removeEvent(bT,b2,b0.handle),delete b5[b2])}else{for(b2 in b5){bv.event.remove(bT,b2+bZ[b4],b6,bU,!0)}}}bv.isEmptyObject(b5)&&bK.remove(bT,"handle events")}},dispatch:function(bS){var bV,bU,bW,bR,b0,bZ,bQ=bv.event.fix(bS),bY=new Array(arguments.length),bT=(bK.get(this,"events")||{})[bQ.type]||[],bX=bv.event.special[bQ.type]||{};for(bY[0]=bQ,bV=1;bV<arguments.length;bV++){bY[bV]=arguments[bV]}if(bQ.delegateTarget=this,!bX.preDispatch||bX.preDispatch.call(this,bQ)!==!1){for(bZ=bv.event.handlers.call(this,bQ,bT),bV=0;(bR=bZ[bV++])&&!bQ.isPropagationStopped();){for(bQ.currentTarget=bR.elem,bU=0;(b0=bR.handlers[bU++])&&!bQ.isImmediatePropagationStopped();){bQ.rnamespace&&!bQ.rnamespace.test(b0.namespace)||(bQ.handleObj=b0,bQ.data=b0.data,bW=((bv.event.special[b0.origType]||{}).handle||b0.handler).apply(bR.elem,bY),void 0!==bW&&(bQ.result=bW)===!1&&(bQ.preventDefault(),bQ.stopPropagation()))}}return bX.postDispatch&&bX.postDispatch.call(this,bQ),bQ.result}},handlers:function(bQ,bS){var bU,bV,bR,bX,bW=[],bT=bS.delegateCount,bY=bQ.target;if(bT&&bY.nodeType&&("click"!==bQ.type||isNaN(bQ.button)||bQ.button<1)){for(;bY!==this;bY=bY.parentNode||this){if(1===bY.nodeType&&(bY.disabled!==!0||"click"!==bQ.type)){for(bV=[],bU=0;bU<bT;bU++){bX=bS[bU],bR=bX.selector+" ",void 0===bV[bR]&&(bV[bR]=bX.needsContext?bv(bR,this).index(bY)>-1:bv.find(bR,this,null,[bY]).length),bV[bR]&&bV.push(bX)}bV.length&&bW.push({elem:bY,handlers:bV})}}}return bT<bS.length&&bW.push({elem:this,handlers:bS.slice(bT)}),bW},addProp:function(bQ,bR){Object.defineProperty(bv.Event.prototype,bQ,{enumerable:!0,configurable:!0,get:bv.isFunction(bR)?function(){if(this.originalEvent){return bR(this.originalEvent)}}:function(){if(this.originalEvent){return this.originalEvent[bQ]}},set:function(bS){Object.defineProperty(this,bQ,{enumerable:!0,configurable:!0,writable:!0,value:bS})}})},fix:function(bQ){return bQ[bv.expando]?bQ:new bv.Event(bQ)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==am()&&this.focus){return this.focus(),!1}},delegateType:"focusin"},blur:{trigger:function(){if(this===am()&&this.blur){return this.blur(),!1}},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&bv.nodeName(this,"input")){return this.click(),!1}},_default:function(bQ){return bv.nodeName(bQ.target,"a")}},beforeunload:{postDispatch:function(bQ){void 0!==bQ.result&&bQ.originalEvent&&(bQ.originalEvent.returnValue=bQ.result)}}}},bv.removeEvent=function(bR,bQ,bS){bR.removeEventListener&&bR.removeEventListener(bQ,bS)},bv.Event=function(bR,bQ){return this instanceof bv.Event?(bR&&bR.type?(this.originalEvent=bR,this.type=bR.type,this.isDefaultPrevented=bR.defaultPrevented||void 0===bR.defaultPrevented&&bR.returnValue===!1?X:ad,this.target=bR.target&&3===bR.target.nodeType?bR.target.parentNode:bR.target,this.currentTarget=bR.currentTarget,this.relatedTarget=bR.relatedTarget):this.type=bR,bQ&&bv.extend(this,bQ),this.timeStamp=bR&&bR.timeStamp||bv.now(),void (this[bv.expando]=!0)):new bv.Event(bR,bQ)},bv.Event.prototype={constructor:bv.Event,isDefaultPrevented:ad,isPropagationStopped:ad,isImmediatePropagationStopped:ad,isSimulated:!1,preventDefault:function(){var bQ=this.originalEvent;this.isDefaultPrevented=X,bQ&&!this.isSimulated&&bQ.preventDefault()},stopPropagation:function(){var bQ=this.originalEvent;this.isPropagationStopped=X,bQ&&!this.isSimulated&&bQ.stopPropagation()},stopImmediatePropagation:function(){var bQ=this.originalEvent;this.isImmediatePropagationStopped=X,bQ&&!this.isSimulated&&bQ.stopImmediatePropagation(),this.stopPropagation()}},bv.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(bR){var bQ=bR.button;return null==bR.which&&aX.test(bR.type)?null!=bR.charCode?bR.charCode:bR.keyCode:!bR.which&&void 0!==bQ&&by.test(bR.type)?1&bQ?1:2&bQ?3:4&bQ?2:0:bR.which}},bv.event.addProp),bv.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(bR,bQ){bv.event.special[bR]={delegateType:bQ,bindType:bQ,handle:function(bU){var bS,bW=this,bV=bU.relatedTarget,bT=bU.handleObj;return bV&&(bV===bW||bv.contains(bW,bV))||(bU.type=bT.origType,bS=bT.handler.apply(this,arguments),bU.type=bQ),bS}}}),bv.fn.extend({on:function(bR,bQ,bT,bS){return a7(this,bR,bQ,bT,bS)},one:function(bR,bQ,bT,bS){return a7(this,bR,bQ,bT,bS,1)},off:function(bS,bQ,bU){var bR,bT;if(bS&&bS.preventDefault&&bS.handleObj){return bR=bS.handleObj,bv(bS.delegateTarget).off(bR.namespace?bR.origType+"."+bR.namespace:bR.origType,bR.selector,bR.handler),this}if("object"==typeof bS){for(bT in bS){this.off(bT,bQ,bS[bT])}return this}return bQ!==!1&&"function"!=typeof bQ||(bU=bQ,bQ=void 0),bU===!1&&(bU=ad),this.each(function(){bv.event.remove(this,bS,bU,bQ)
})}});var aE=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,an=/<script|<style|<link/i,bL=/checked\s*(?:[^=]|=\s*.checked.)/i,aq=/^true\/(.*)/,aK=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;bv.extend({htmlPrefilter:function(bQ){return bQ.replace(aE,"<$1></$2>")},clone:function(bR,bT,bQ){var bU,bS,bW,bV,bY=bR.cloneNode(!0),bX=bv.contains(bR.ownerDocument,bR);if(!(E.noCloneChecked||1!==bR.nodeType&&11!==bR.nodeType||bv.isXMLDoc(bR))){for(bV=j(bY),bW=j(bR),bU=0,bS=bW.length;bU<bS;bU++){a4(bW[bU],bV[bU])}}if(bT){if(bQ){for(bW=bW||j(bR),bV=bV||j(bY),bU=0,bS=bW.length;bU<bS;bU++){ar(bW[bU],bV[bU])}}else{ar(bR,bY)}}return bV=j(bY,"script"),bV.length>0&&bh(bV,!bX&&j(bR,"script")),bY},cleanData:function(bQ){for(var bV,bU,bT,bR=bv.event.special,bS=0;void 0!==(bU=bQ[bS]);bS++){if(S(bU)){if(bV=bU[bK.expando]){if(bV.events){for(bT in bV.events){bR[bT]?bv.event.remove(bU,bT):bv.removeEvent(bU,bT,bV.handle)}}bU[bK.expando]=void 0}bU[bt.expando]&&(bU[bt.expando]=void 0)}}}}),bv.fn.extend({detach:function(bQ){return L(this,bQ,!0)},remove:function(bQ){return L(this,bQ)},text:function(bQ){return aB(this,function(bR){return void 0===bR?bv.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=bR)})},null,bQ,arguments.length)},append:function(){return I(this,arguments,function(bQ){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var bR=aV(this,bQ);bR.appendChild(bQ)}})},prepend:function(){return I(this,arguments,function(bQ){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var bR=aV(this,bQ);bR.insertBefore(bQ,bR.firstChild)}})},before:function(){return I(this,arguments,function(bQ){this.parentNode&&this.parentNode.insertBefore(bQ,this)})},after:function(){return I(this,arguments,function(bQ){this.parentNode&&this.parentNode.insertBefore(bQ,this.nextSibling)})},empty:function(){for(var bR,bQ=0;null!=(bR=this[bQ]);bQ++){1===bR.nodeType&&(bv.cleanData(j(bR,!1)),bR.textContent="")}return this},clone:function(bR,bQ){return bR=null!=bR&&bR,bQ=null==bQ?bR:bQ,this.map(function(){return bv.clone(this,bR,bQ)})},html:function(bQ){return aB(this,function(bU){var bT=this[0]||{},bS=0,bR=this.length;if(void 0===bU&&1===bT.nodeType){return bT.innerHTML}if("string"==typeof bU&&!an.test(bU)&&!Y[(n.exec(bU)||["",""])[1].toLowerCase()]){bU=bv.htmlPrefilter(bU);try{for(;bS<bR;bS++){bT=this[bS]||{},1===bT.nodeType&&(bv.cleanData(j(bT,!1)),bT.innerHTML=bU)}bT=0}catch(bV){}}bT&&this.empty().append(bU)},null,bQ,arguments.length)},replaceWith:function(){var bQ=[];return I(this,arguments,function(bS){var bR=this.parentNode;bv.inArray(this,bQ)<0&&(bv.cleanData(j(this)),bR&&bR.replaceChild(bS,this))},bQ)}}),bv.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(bQ,bR){bv.fn[bQ]=function(bS){for(var bT,bU=[],bX=bv(bS),bW=bX.length-1,bV=0;bV<=bW;bV++){bT=bV===bW?this:this.clone(!0),bv(bX[bV])[bR](bT),w.apply(bU,bT.get())}return this.pushStack(bU)}});var aU=/^margin/,ab=new RegExp("^("+aC+")(?!px)[a-z%]+$","i"),bc=function(bR){var bQ=bR.ownerDocument.defaultView;return bQ&&bQ.opener||(bQ=aW),bQ.getComputedStyle(bR)};!function(){function bT(){if(bV){bV.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",bV.innerHTML="",bH.appendChild(bR);var bX=aW.getComputedStyle(bV);bW="1%"!==bX.top,bU="2px"===bX.marginLeft,bS="4px"===bX.width,bV.style.marginRight="50%",bQ="4px"===bX.marginRight,bH.removeChild(bR),bV=null}}var bW,bS,bQ,bU,bR=l.createElement("div"),bV=l.createElement("div");bV.style&&(bV.style.backgroundClip="content-box",bV.cloneNode(!0).style.backgroundClip="",E.clearCloneStyle="content-box"===bV.style.backgroundClip,bR.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",bR.appendChild(bV),bv.extend(E,{pixelPosition:function(){return bT(),bW},boxSizingReliable:function(){return bT(),bS},pixelMarginRight:function(){return bT(),bQ},reliableMarginLeft:function(){return bT(),bU}}))}();var M=/^(none|table(?!-c[ea]).+)/,a3={position:"absolute",visibility:"hidden",display:"block"},bq={letterSpacing:"0",fontWeight:"400"},aw=["Webkit","Moz","ms"],bD=l.createElement("div").style;bv.extend({cssHooks:{opacity:{get:function(bS,bR){if(bR){var bQ=H(bS,"opacity");return""===bQ?"1":bQ}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(bS,bR,bX,bT){if(bS&&3!==bS.nodeType&&8!==bS.nodeType&&bS.style){var bV,bW,bY,bU=bv.camelCase(bR),bQ=bS.style;return bR=bv.cssProps[bU]||(bv.cssProps[bU]=b(bU)||bU),bY=bv.cssHooks[bR]||bv.cssHooks[bU],void 0===bX?bY&&"get" in bY&&void 0!==(bV=bY.get(bS,!1,bT))?bV:bQ[bR]:(bW=typeof bX,"string"===bW&&(bV=bM.exec(bX))&&bV[1]&&(bX=A(bS,bR,bV),bW="number"),null!=bX&&bX===bX&&("number"===bW&&(bX+=bV&&bV[3]||(bv.cssNumber[bU]?"":"px")),E.clearCloneStyle||""!==bX||0!==bR.indexOf("background")||(bQ[bR]="inherit"),bY&&"set" in bY&&void 0===(bX=bY.set(bS,bX,bT))||(bQ[bR]=bX)),void 0)}},css:function(bW,bU,bR,bV){var bX,bT,bQ,bS=bv.camelCase(bU);return bU=bv.cssProps[bS]||(bv.cssProps[bS]=b(bS)||bS),bQ=bv.cssHooks[bU]||bv.cssHooks[bS],bQ&&"get" in bQ&&(bX=bQ.get(bW,!0,bR)),void 0===bX&&(bX=H(bW,bU,bV)),"normal"===bX&&bU in bq&&(bX=bq[bU]),""===bR||bR?(bT=parseFloat(bX),bR===!0||isFinite(bT)?bT||0:bX):bX}}),bv.each(["height","width"],function(bR,bQ){bv.cssHooks[bQ]={get:function(bU,bT,bS){if(bT){return !M.test(bv.css(bU,"display"))||bU.getClientRects().length&&bU.getBoundingClientRect().width?v(bU,bQ,bS):J(bU,a3,function(){return v(bU,bQ,bS)})}},set:function(bU,bW,bS){var bV,bT=bS&&bc(bU),bX=bS&&ax(bU,bQ,bS,"border-box"===bv.css(bU,"boxSizing",!1,bT),bT);return bX&&(bV=bM.exec(bW))&&"px"!==(bV[3]||"px")&&(bU.style[bQ]=bW,bW=bv.css(bU,bQ)),aJ(bU,bW,bX)}}}),bv.cssHooks.marginLeft=aY(E.reliableMarginLeft,function(bR,bQ){if(bQ){return(parseFloat(H(bR,"marginLeft"))||bR.getBoundingClientRect().left-J(bR,{marginLeft:0},function(){return bR.getBoundingClientRect().left}))+"px"}}),bv.each({margin:"",padding:"",border:"Width"},function(bQ,bR){bv.cssHooks[bQ+bR]={expand:function(bU){for(var bT=0,bS={},bV="string"==typeof bU?bU.split(" "):[bU];bT<4;bT++){bS[bQ+bG[bT]+bR]=bV[bT]||bV[bT-2]||bV[0]}return bS}},aU.test(bQ)||(bv.cssHooks[bQ+bR].set=aJ)}),bv.fn.extend({css:function(bQ,bR){return aB(this,function(bW,bT,bX){var bV,bS,bY={},bU=0;if(bv.isArray(bT)){for(bV=bc(bW),bS=bT.length;bU<bS;bU++){bY[bT[bU]]=bv.css(bW,bT[bU],!1,bV)}return bY}return void 0!==bX?bv.style(bW,bT,bX):bv.css(bW,bT)},bQ,bR,arguments.length>1)}}),bv.Tween=O,O.prototype={constructor:O,init:function(bT,bR,bV,bQ,bU,bS){this.elem=bT,this.prop=bV,this.easing=bU||bv.easing._default,this.options=bR,this.start=this.now=this.cur(),this.end=bQ,this.unit=bS||(bv.cssNumber[bV]?"":"px")},cur:function(){var bQ=O.propHooks[this.prop];return bQ&&bQ.get?bQ.get(this):O.propHooks._default.get(this)},run:function(bS){var bR,bQ=O.propHooks[this.prop];return this.options.duration?this.pos=bR=bv.easing[this.easing](bS,this.options.duration*bS,0,1,this.options.duration):this.pos=bR=bS,this.now=(this.end-this.start)*bR+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),bQ&&bQ.set?bQ.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(bR){var bQ;return 1!==bR.elem.nodeType||null!=bR.elem[bR.prop]&&null==bR.elem.style[bR.prop]?bR.elem[bR.prop]:(bQ=bv.css(bR.elem,bR.prop,""),bQ&&"auto"!==bQ?bQ:0)},set:function(bQ){bv.fx.step[bQ.prop]?bv.fx.step[bQ.prop](bQ):1!==bQ.elem.nodeType||null==bQ.elem.style[bv.cssProps[bQ.prop]]&&!bv.cssHooks[bQ.prop]?bQ.elem[bQ.prop]=bQ.now:bv.style(bQ.elem,bQ.prop,bQ.now+bQ.unit)}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(bQ){bQ.elem.nodeType&&bQ.elem.parentNode&&(bQ.elem[bQ.prop]=bQ.now)}},bv.easing={linear:function(bQ){return bQ},swing:function(bQ){return 0.5-Math.cos(bQ*Math.PI)/2},_default:"swing"},bv.fx=O.prototype.init,bv.fx.step={};var R,af,bC=/^(?:toggle|show|hide)$/,bA=/queueHooks$/;bv.Animation=bv.extend(d,{tweeners:{"*":[function(bS,bR){var bQ=this.createTween(bS,bR);return A(bQ.elem,bS,bM.exec(bR),bQ),bQ}]},tweener:function(bR,bU){bv.isFunction(bR)?(bU=bR,bR=["*"]):bR=bR.match(aD);for(var bT,bQ=0,bS=bR.length;bQ<bS;bQ++){bT=bR[bQ],d.tweeners[bT]=d.tweeners[bT]||[],d.tweeners[bT].unshift(bU)}},prefilters:[g],prefilter:function(bR,bQ){bQ?d.prefilters.unshift(bR):d.prefilters.push(bR)}}),bv.speed=function(bS,bT,bR){var bQ=bS&&"object"==typeof bS?bv.extend({},bS):{complete:bR||!bR&&bT||bv.isFunction(bS)&&bS,duration:bS,easing:bR&&bT||bT&&!bv.isFunction(bT)&&bT};return bv.fx.off||l.hidden?bQ.duration=0:bQ.duration="number"==typeof bQ.duration?bQ.duration:bQ.duration in bv.fx.speeds?bv.fx.speeds[bQ.duration]:bv.fx.speeds._default,null!=bQ.queue&&bQ.queue!==!0||(bQ.queue="fx"),bQ.old=bQ.complete,bQ.complete=function(){bv.isFunction(bQ.old)&&bQ.old.call(this),bQ.queue&&bv.dequeue(this,bQ.queue)},bQ},bv.fn.extend({fadeTo:function(bQ,bT,bS,bR){return this.filter(bP).css("opacity",0).show().end().animate({opacity:bT},bQ,bS,bR)},animate:function(bW,bT,bV,bU){var bS=bv.isEmptyObject(bW),bQ=bv.speed(bT,bV,bU),bR=function(){var bX=d(this,bv.extend({},bW),bQ);(bS||bK.get(this,"finish"))&&bX.stop(!0)};return bR.finish=bR,bS||bQ.queue===!1?this.each(bR):this.queue(bQ.queue,bR)},stop:function(bS,bR,bQ){var bT=function(bU){var bV=bU.stop;delete bU.stop,bV(bQ)};return"string"!=typeof bS&&(bQ=bR,bR=bS,bS=void 0),bR&&bS!==!1&&this.queue(bS||"fx",[]),this.each(function(){var bX=!0,bU=null!=bS&&bS+"queueHooks",bW=bv.timers,bV=bK.get(this);if(bU){bV[bU]&&bV[bU].stop&&bT(bV[bU])}else{for(bU in bV){bV[bU]&&bV[bU].stop&&bA.test(bU)&&bT(bV[bU])}}for(bU=bW.length;bU--;){bW[bU].elem!==this||null!=bS&&bW[bU].queue!==bS||(bW[bU].anim.stop(bQ),bX=!1,bW.splice(bU,1))
}!bX&&bQ||bv.dequeue(this,bS)})},finish:function(bQ){return bQ!==!1&&(bQ=bQ||"fx"),this.each(function(){var bT,bW=bK.get(this),bS=bW[bQ+"queue"],bR=bW[bQ+"queueHooks"],bV=bv.timers,bU=bS?bS.length:0;for(bW.finish=!0,bv.queue(this,bQ,[]),bR&&bR.stop&&bR.stop.call(this,!0),bT=bV.length;bT--;){bV[bT].elem===this&&bV[bT].queue===bQ&&(bV[bT].anim.stop(!0),bV.splice(bT,1))}for(bT=0;bT<bU;bT++){bS[bT]&&bS[bT].finish&&bS[bT].finish.call(this)}delete bW.finish})}}),bv.each(["toggle","show","hide"],function(bR,bQ){var bS=bv.fn[bQ];bv.fn[bQ]=function(bT,bV,bU){return null==bT||"boolean"==typeof bT?bS.apply(this,arguments):this.animate(bu(bQ,!0),bT,bV,bU)}}),bv.each({slideDown:bu("show"),slideUp:bu("hide"),slideToggle:bu("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(bQ,bR){bv.fn[bQ]=function(bS,bU,bT){return this.animate(bR,bS,bU,bT)}}),bv.timers=[],bv.fx.tick=function(){var bS,bQ=0,bR=bv.timers;for(R=bv.now();bQ<bR.length;bQ++){bS=bR[bQ],bS()||bR[bQ]!==bS||bR.splice(bQ--,1)}bR.length||bv.fx.stop(),R=void 0},bv.fx.timer=function(bQ){bv.timers.push(bQ),bQ()?bv.fx.start():bv.timers.pop()},bv.fx.interval=13,bv.fx.start=function(){af||(af=aW.requestAnimationFrame?aW.requestAnimationFrame(bs):aW.setInterval(bv.fx.tick,bv.fx.interval))},bv.fx.stop=function(){aW.cancelAnimationFrame?aW.cancelAnimationFrame(af):aW.clearInterval(af),af=null},bv.fx.speeds={slow:600,fast:200,_default:400},bv.fn.delay=function(bR,bQ){return bR=bv.fx?bv.fx.speeds[bR]||bR:bR,bQ=bQ||"fx",this.queue(bQ,function(bT,bS){var bU=aW.setTimeout(bT,bR);bS.stop=function(){aW.clearTimeout(bU)}})},function(){var bR=l.createElement("input"),bQ=l.createElement("select"),bS=bQ.appendChild(l.createElement("option"));bR.type="checkbox",E.checkOn=""!==bR.value,E.optSelected=bS.selected,bR=l.createElement("input"),bR.value="t",bR.type="radio",E.radioValue="t"===bR.value}();var bO,bz=bv.expr.attrHandle;bv.fn.extend({attr:function(bQ,bR){return aB(this,bv.attr,bQ,bR,arguments.length>1)},removeAttr:function(bQ){return this.each(function(){bv.removeAttr(this,bQ)})}}),bv.extend({attr:function(bU,bT,bV){var bS,bQ,bR=bU.nodeType;if(3!==bR&&8!==bR&&2!==bR){return"undefined"==typeof bU.getAttribute?bv.prop(bU,bT,bV):(1===bR&&bv.isXMLDoc(bU)||(bQ=bv.attrHooks[bT.toLowerCase()]||(bv.expr.match.bool.test(bT)?bO:void 0)),void 0!==bV?null===bV?void bv.removeAttr(bU,bT):bQ&&"set" in bQ&&void 0!==(bS=bQ.set(bU,bV,bT))?bS:(bU.setAttribute(bT,bV+""),bV):bQ&&"get" in bQ&&null!==(bS=bQ.get(bU,bT))?bS:(bS=bv.find.attr(bU,bT),null==bS?void 0:bS))}},attrHooks:{type:{set:function(bQ,bR){if(!E.radioValue&&"radio"===bR&&bv.nodeName(bQ,"input")){var bS=bQ.value;return bQ.setAttribute("type",bR),bS&&(bQ.value=bS),bR}}}},removeAttr:function(bS,bT){var bQ,bR=0,bU=bT&&bT.match(aD);if(bU&&1===bS.nodeType){for(;bQ=bU[bR++];){bS.removeAttribute(bQ)}}}}),bO={set:function(bR,bS,bQ){return bS===!1?bv.removeAttr(bR,bQ):bR.setAttribute(bQ,bQ),bQ}},bv.each(bv.expr.match.bool.source.match(/\w+/g),function(bS,bR){var bQ=bz[bR]||bv.find.attr;bz[bR]=function(bW,bU,bY){var bT,bX,bV=bU.toLowerCase();return bY||(bX=bz[bV],bz[bV]=bT,bT=null!=bQ(bW,bU,bY)?bV:null,bz[bV]=bX),bT}});var aF=/^(?:input|select|textarea|button)$/i,G=/^(?:a|area)$/i;bv.fn.extend({prop:function(bQ,bR){return aB(this,bv.prop,bQ,bR,arguments.length>1)},removeProp:function(bQ){return this.each(function(){delete this[bv.propFix[bQ]||bQ]})}}),bv.extend({prop:function(bU,bT,bV){var bS,bQ,bR=bU.nodeType;if(3!==bR&&8!==bR&&2!==bR){return 1===bR&&bv.isXMLDoc(bU)||(bT=bv.propFix[bT]||bT,bQ=bv.propHooks[bT]),void 0!==bV?bQ&&"set" in bQ&&void 0!==(bS=bQ.set(bU,bV,bT))?bS:bU[bT]=bV:bQ&&"get" in bQ&&null!==(bS=bQ.get(bU,bT))?bS:bU[bT]}},propHooks:{tabIndex:{get:function(bR){var bQ=bv.find.attr(bR,"tabindex");return bQ?parseInt(bQ,10):aF.test(bR.nodeName)||G.test(bR.nodeName)&&bR.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),E.optSelected||(bv.propHooks.selected={get:function(bR){var bQ=bR.parentNode;return bQ&&bQ.parentNode&&bQ.parentNode.selectedIndex,null},set:function(bR){var bQ=bR.parentNode;bQ&&(bQ.selectedIndex,bQ.parentNode&&bQ.parentNode.selectedIndex)}}),bv.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){bv.propFix[this.toLowerCase()]=this});var bx=/[\t\r\n\f]/g;bv.fn.extend({addClass:function(bX){var bS,bR,bY,bT,bW,bU,bQ,bV=0;if(bv.isFunction(bX)){return this.each(function(bZ){bv(this).addClass(bX.call(this,bZ,C(this)))})}if("string"==typeof bX&&bX){for(bS=bX.match(aD)||[];bR=this[bV++];){if(bT=C(bR),bY=1===bR.nodeType&&(" "+bT+" ").replace(bx," ")){for(bU=0;bW=bS[bU++];){bY.indexOf(" "+bW+" ")<0&&(bY+=bW+" ")}bQ=bv.trim(bY),bT!==bQ&&bR.setAttribute("class",bQ)}}}return this},removeClass:function(bX){var bS,bR,bY,bT,bW,bU,bQ,bV=0;if(bv.isFunction(bX)){return this.each(function(bZ){bv(this).removeClass(bX.call(this,bZ,C(this)))})}if(!arguments.length){return this.attr("class","")}if("string"==typeof bX&&bX){for(bS=bX.match(aD)||[];bR=this[bV++];){if(bT=C(bR),bY=1===bR.nodeType&&(" "+bT+" ").replace(bx," ")){for(bU=0;bW=bS[bU++];){for(;bY.indexOf(" "+bW+" ")>-1;){bY=bY.replace(" "+bW+" "," ")}}bQ=bv.trim(bY),bT!==bQ&&bR.setAttribute("class",bQ)}}}return this},toggleClass:function(bS,bQ){var bR=typeof bS;return"boolean"==typeof bQ&&"string"===bR?bQ?this.addClass(bS):this.removeClass(bS):bv.isFunction(bS)?this.each(function(bT){bv(this).toggleClass(bS.call(this,bT,C(this),bQ),bQ)}):this.each(function(){var bV,bU,bT,bW;if("string"===bR){for(bU=0,bT=bv(this),bW=bS.match(aD)||[];bV=bW[bU++];){bT.hasClass(bV)?bT.removeClass(bV):bT.addClass(bV)}}else{void 0!==bS&&"boolean"!==bR||(bV=C(this),bV&&bK.set(this,"__className__",bV),this.setAttribute&&this.setAttribute("class",bV||bS===!1?"":bK.get(this,"__className__")||""))}})},hasClass:function(bQ){var bS,bT,bR=0;for(bS=" "+bQ+" ";bT=this[bR++];){if(1===bT.nodeType&&(" "+C(bT)+" ").replace(bx," ").indexOf(bS)>-1){return !0}}return !1}});var al=/\r/g,aR=/[\x20\t\r\n\f]+/g;bv.fn.extend({val:function(bT){var bQ,bR,bU,bS=this[0];if(arguments.length){return bU=bv.isFunction(bT),this.each(function(bV){var bW;1===this.nodeType&&(bW=bU?bT.call(this,bV,bv(this).val()):bT,null==bW?bW="":"number"==typeof bW?bW+="":bv.isArray(bW)&&(bW=bv.map(bW,function(bX){return null==bX?"":bX+""})),bQ=bv.valHooks[this.type]||bv.valHooks[this.nodeName.toLowerCase()],bQ&&"set" in bQ&&void 0!==bQ.set(this,bW,"value")||(this.value=bW))})}if(bS){return bQ=bv.valHooks[bS.type]||bv.valHooks[bS.nodeName.toLowerCase()],bQ&&"get" in bQ&&void 0!==(bR=bQ.get(bS,"value"))?bR:(bR=bS.value,"string"==typeof bR?bR.replace(al,""):null==bR?"":bR)}}}),bv.extend({valHooks:{option:{get:function(bQ){var bR=bv.find.attr(bQ,"value");return null!=bR?bR:bv.trim(bv.text(bQ)).replace(aR," ")}},select:{get:function(bQ){for(var bW,bS,bY=bQ.options,bU=bQ.selectedIndex,bT="select-one"===bQ.type,bX=bT?null:[],bV=bT?bU+1:bY.length,bR=bU<0?bV:bT?bU:0;bR<bV;bR++){if(bS=bY[bR],(bS.selected||bR===bU)&&!bS.disabled&&(!bS.parentNode.disabled||!bv.nodeName(bS.parentNode,"optgroup"))){if(bW=bv(bS).val(),bT){return bW}bX.push(bW)}}return bX},set:function(bU,bV){for(var bW,bT,bR=bU.options,bQ=bv.makeArray(bV),bS=bR.length;bS--;){bT=bR[bS],(bT.selected=bv.inArray(bv.valHooks.option.get(bT),bQ)>-1)&&(bW=!0)}return bW||(bU.selectedIndex=-1),bQ}}}}),bv.each(["radio","checkbox"],function(){bv.valHooks[this]={set:function(bQ,bR){if(bv.isArray(bR)){return bQ.checked=bv.inArray(bv(bQ).val(),bR)>-1}}},E.checkOn||(bv.valHooks[this].get=function(bQ){return null===bQ.getAttribute("value")?"on":bQ.value})});var bp=/^(?:focusinfocus|focusoutblur)$/;bv.extend(bv.event,{trigger:function(bQ,bV,bT,b3){var bW,b1,bX,b2,bS,bY,bZ,bU=[bT||l],b0=P.call(bQ,"type")?bQ.type:bQ,bR=P.call(bQ,"namespace")?bQ.namespace.split("."):[];if(b1=bX=bT=bT||l,3!==bT.nodeType&&8!==bT.nodeType&&!bp.test(b0+bv.event.triggered)&&(b0.indexOf(".")>-1&&(bR=b0.split("."),b0=bR.shift(),bR.sort()),bS=b0.indexOf(":")<0&&"on"+b0,bQ=bQ[bv.expando]?bQ:new bv.Event(b0,"object"==typeof bQ&&bQ),bQ.isTrigger=b3?2:3,bQ.namespace=bR.join("."),bQ.rnamespace=bQ.namespace?new RegExp("(^|\\.)"+bR.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,bQ.result=void 0,bQ.target||(bQ.target=bT),bV=null==bV?[bQ]:bv.makeArray(bV,[bQ]),bZ=bv.event.special[b0]||{},b3||!bZ.trigger||bZ.trigger.apply(bT,bV)!==!1)){if(!b3&&!bZ.noBubble&&!bv.isWindow(bT)){for(b2=bZ.delegateType||b0,bp.test(b2+b0)||(b1=b1.parentNode);b1;b1=b1.parentNode){bU.push(b1),bX=b1}bX===(bT.ownerDocument||l)&&bU.push(bX.defaultView||bX.parentWindow||aW)}for(bW=0;(b1=bU[bW++])&&!bQ.isPropagationStopped();){bQ.type=bW>1?b2:bZ.bindType||b0,bY=(bK.get(b1,"events")||{})[bQ.type]&&bK.get(b1,"handle"),bY&&bY.apply(b1,bV),bY=bS&&b1[bS],bY&&bY.apply&&S(b1)&&(bQ.result=bY.apply(b1,bV),bQ.result===!1&&bQ.preventDefault())}return bQ.type=b0,b3||bQ.isDefaultPrevented()||bZ._default&&bZ._default.apply(bU.pop(),bV)!==!1||!S(bT)||bS&&bv.isFunction(bT[b0])&&!bv.isWindow(bT)&&(bX=bT[bS],bX&&(bT[bS]=null),bv.event.triggered=b0,bT[b0](),bv.event.triggered=void 0,bX&&(bT[bS]=bX)),bQ.result}},simulate:function(bQ,bS,bR){var bT=bv.extend(new bv.Event,bR,{type:bQ,isSimulated:!0});bv.event.trigger(bT,null,bS)}}),bv.fn.extend({trigger:function(bQ,bR){return this.each(function(){bv.event.trigger(bQ,bR,this)})},triggerHandler:function(bQ,bS){var bR=this[0];if(bR){return bv.event.trigger(bQ,bS,bR,!0)}}}),bv.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(bR,bQ){bv.fn[bQ]=function(bT,bS){return arguments.length>0?this.on(bQ,null,bT,bS):this.trigger(bQ)}}),bv.fn.extend({hover:function(bQ,bR){return this.mouseenter(bQ).mouseleave(bR||bQ)}}),E.focusin="onfocusin" in aW,E.focusin||bv.each({focus:"focusin",blur:"focusout"},function(bS,bQ){var bR=function(bT){bv.event.simulate(bQ,bT.target,bv.event.fix(bT))};bv.event.special[bQ]={setup:function(){var bU=this.ownerDocument||this,bT=bK.access(bU,bQ);
bT||bU.addEventListener(bS,bR,!0),bK.access(bU,bQ,(bT||0)+1)},teardown:function(){var bU=this.ownerDocument||this,bT=bK.access(bU,bQ)-1;bT?bK.access(bU,bQ,bT):(bU.removeEventListener(bS,bR,!0),bK.remove(bU,bQ))}}});var aM=aW.location,bb=bv.now(),bB=/\?/;bv.parseXML=function(bR){var bQ;if(!bR||"string"!=typeof bR){return null}try{bQ=(new aW.DOMParser).parseFromString(bR,"text/xml")}catch(bS){bQ=void 0}return bQ&&!bQ.getElementsByTagName("parsererror").length||bv.error("Invalid XML: "+bR),bQ};var aP=/\[\]$/,Z=/\r?\n/g,c=/^(?:submit|button|image|reset|file)$/i,au=/^(?:input|select|textarea|keygen)/i;bv.param=function(bQ,bS){var bT,bR=[],bU=function(bV,bX){var bW=bv.isFunction(bX)?bX():bX;bR[bR.length]=encodeURIComponent(bV)+"="+encodeURIComponent(null==bW?"":bW)};if(bv.isArray(bQ)||bQ.jquery&&!bv.isPlainObject(bQ)){bv.each(bQ,function(){bU(this.name,this.value)})}else{for(bT in bQ){i(bT,bQ[bT],bS,bU)}}return bR.join("&")},bv.fn.extend({serialize:function(){return bv.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var bQ=bv.prop(this,"elements");return bQ?bv.makeArray(bQ):this}).filter(function(){var bQ=this.type;return this.name&&!bv(this).is(":disabled")&&au.test(this.nodeName)&&!c.test(bQ)&&(this.checked||!aI.test(bQ))}).map(function(bQ,bR){var bS=bv(this).val();return null==bS?null:bv.isArray(bS)?bv.map(bS,function(bT){return{name:bR.name,value:bT.replace(Z,"\r\n")}}):{name:bR.name,value:bS.replace(Z,"\r\n")}}).get()}});var bk=/%20/g,ap=/#.*$/,W=/([?&])_=[^&]*/,ah=/^(.*?):[ \t]*([^\r\n]*)$/gm,D=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,p=/^(?:GET|HEAD)$/,aG=/^\/\//,t={},a0={},aS="*/".concat("*"),bF=l.createElement("a");bF.href=aM.href,bv.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:aM.href,type:"GET",isLocal:D.test(aM.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":aS,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":bv.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(bR,bQ){return bQ?s(s(bR,bv.ajaxSettings),bQ):s(bv.ajaxSettings,bR)},ajaxPrefilter:bw(t),ajaxTransport:bw(a0),ajax:function(bU,bS){function b1(cj,cf,ck,ch){var ce,cn,cl,ci,cm,cg=cf;b9||(b9=!0,b0&&aW.clearTimeout(b0),b6=void 0,cb=ch||"",b4.readyState=cj>0?4:0,ce=cj>=200&&cj<300||304===cj,ck&&(ci=e(bZ,b4,ck)),ci=ai(bZ,ci,b4,ce),ce?(bZ.ifModified&&(cm=b4.getResponseHeader("Last-Modified"),cm&&(bv.lastModified[bW]=cm),cm=b4.getResponseHeader("etag"),cm&&(bv.etag[bW]=cm)),204===cj||"HEAD"===bZ.type?cg="nocontent":304===cj?cg="notmodified":(cg=ci.state,cn=ci.data,cl=ci.error,ce=!cl)):(cl=cg,!cj&&cg||(cg="error",cj<0&&(cj=0))),b4.status=cj,b4.statusText=(cf||cg)+"",ce?cc.resolveWith(cd,[cn,cg,b4]):cc.rejectWith(cd,[b4,cg,cl]),b4.statusCode(bX),bX=void 0,bR&&b2.trigger(ce?"ajaxSuccess":"ajaxError",[b4,bZ,ce?cn:cl]),b8.fireWith(cd,[b4,cg]),bR&&(b2.trigger("ajaxComplete",[b4,bZ]),--bv.active||bv.event.trigger("ajaxStop")))}"object"==typeof bU&&(bS=bU,bU=void 0),bS=bS||{};var b6,bW,cb,bT,b0,bQ,b9,bR,b5,bV,bZ=bv.ajaxSetup({},bS),cd=bZ.context||bZ,b2=bZ.context&&(cd.nodeType||cd.jquery)?bv(cd):bv.event,cc=bv.Deferred(),b8=bv.Callbacks("once memory"),bX=bZ.statusCode||{},b3={},ca={},bY="canceled",b4={readyState:0,getResponseHeader:function(cf){var ce;if(b9){if(!bT){for(bT={};ce=ah.exec(cb);){bT[ce[1].toLowerCase()]=ce[2]}}ce=bT[cf.toLowerCase()]}return null==ce?null:ce},getAllResponseHeaders:function(){return b9?cb:null},setRequestHeader:function(ce,cf){return null==b9&&(ce=ca[ce.toLowerCase()]=ca[ce.toLowerCase()]||ce,b3[ce]=cf),this},overrideMimeType:function(ce){return null==b9&&(bZ.mimeType=ce),this},statusCode:function(cf){var ce;if(cf){if(b9){b4.always(cf[b4.status])}else{for(ce in cf){bX[ce]=[bX[ce],cf[ce]]}}}return this},abort:function(cf){var ce=cf||bY;return b6&&b6.abort(ce),b1(0,ce),this}};if(cc.promise(b4),bZ.url=((bU||bZ.url||aM.href)+"").replace(aG,aM.protocol+"//"),bZ.type=bS.method||bS.type||bZ.method||bZ.type,bZ.dataTypes=(bZ.dataType||"*").toLowerCase().match(aD)||[""],null==bZ.crossDomain){bQ=l.createElement("a");try{bQ.href=bZ.url,bQ.href=bQ.href,bZ.crossDomain=bF.protocol+"//"+bF.host!=bQ.protocol+"//"+bQ.host}catch(b7){bZ.crossDomain=!0}}if(bZ.data&&bZ.processData&&"string"!=typeof bZ.data&&(bZ.data=bv.param(bZ.data,bZ.traditional)),q(t,bZ,bS,b4),b9){return b4}bR=bv.event&&bZ.global,bR&&0===bv.active++&&bv.event.trigger("ajaxStart"),bZ.type=bZ.type.toUpperCase(),bZ.hasContent=!p.test(bZ.type),bW=bZ.url.replace(ap,""),bZ.hasContent?bZ.data&&bZ.processData&&0===(bZ.contentType||"").indexOf("application/x-www-form-urlencoded")&&(bZ.data=bZ.data.replace(bk,"+")):(bV=bZ.url.slice(bW.length),bZ.data&&(bW+=(bB.test(bW)?"&":"?")+bZ.data,delete bZ.data),bZ.cache===!1&&(bW=bW.replace(W,""),bV=(bB.test(bW)?"&":"?")+"_="+bb+++bV),bZ.url=bW+bV),bZ.ifModified&&(bv.lastModified[bW]&&b4.setRequestHeader("If-Modified-Since",bv.lastModified[bW]),bv.etag[bW]&&b4.setRequestHeader("If-None-Match",bv.etag[bW])),(bZ.data&&bZ.hasContent&&bZ.contentType!==!1||bS.contentType)&&b4.setRequestHeader("Content-Type",bZ.contentType),b4.setRequestHeader("Accept",bZ.dataTypes[0]&&bZ.accepts[bZ.dataTypes[0]]?bZ.accepts[bZ.dataTypes[0]]+("*"!==bZ.dataTypes[0]?", "+aS+"; q=0.01":""):bZ.accepts["*"]);for(b5 in bZ.headers){b4.setRequestHeader(b5,bZ.headers[b5])}if(bZ.beforeSend&&(bZ.beforeSend.call(cd,b4,bZ)===!1||b9)){return b4.abort()}if(bY="abort",b8.add(bZ.complete),b4.done(bZ.success),b4.fail(bZ.error),b6=q(a0,bZ,bS,b4)){if(b4.readyState=1,bR&&b2.trigger("ajaxSend",[b4,bZ]),b9){return b4}bZ.async&&bZ.timeout>0&&(b0=aW.setTimeout(function(){b4.abort("timeout")},bZ.timeout));try{b9=!1,b6.send(b3,b1)}catch(b7){if(b9){throw b7}b1(-1,b7)}}else{b1(-1,"No Transport")}return b4},getJSON:function(bQ,bR,bS){return bv.get(bQ,bR,bS,"json")},getScript:function(bQ,bR){return bv.get(bQ,void 0,bR,"script")}}),bv.each(["get","post"],function(bQ,bR){bv[bR]=function(bS,bU,bV,bT){return bv.isFunction(bU)&&(bT=bT||bV,bV=bU,bU=void 0),bv.ajax(bv.extend({url:bS,type:bR,dataType:bT,data:bU,success:bV},bv.isPlainObject(bS)&&bS))}}),bv._evalUrl=function(bQ){return bv.ajax({url:bQ,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},bv.fn.extend({wrapAll:function(bQ){var bR;return this[0]&&(bv.isFunction(bQ)&&(bQ=bQ.call(this[0])),bR=bv(bQ,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&bR.insertBefore(this[0]),bR.map(function(){for(var bS=this;bS.firstElementChild;){bS=bS.firstElementChild}return bS}).append(this)),this},wrapInner:function(bQ){return bv.isFunction(bQ)?this.each(function(bR){bv(this).wrapInner(bQ.call(this,bR))}):this.each(function(){var bR=bv(this),bS=bR.contents();bS.length?bS.wrapAll(bQ):bR.append(bQ)})},wrap:function(bQ){var bR=bv.isFunction(bQ);return this.each(function(bS){bv(this).wrapAll(bR?bQ.call(this,bS):bQ)})},unwrap:function(bQ){return this.parent(bQ).not("body").each(function(){bv(this).replaceWith(this.childNodes)}),this}}),bv.expr.pseudos.hidden=function(bQ){return !bv.expr.pseudos.visible(bQ)},bv.expr.pseudos.visible=function(bQ){return !!(bQ.offsetWidth||bQ.offsetHeight||bQ.getClientRects().length)},bv.ajaxSettings.xhr=function(){try{return new aW.XMLHttpRequest}catch(bQ){}};var ac={0:200,1223:204},az=bv.ajaxSettings.xhr();E.cors=!!az&&"withCredentials" in az,E.ajax=az=!!az,bv.ajaxTransport(function(bR){var bS,bQ;if(E.cors||az&&!bR.crossDomain){return{send:function(bX,bT){var bU,bW=bR.xhr();if(bW.open(bR.type,bR.url,bR.async,bR.username,bR.password),bR.xhrFields){for(bU in bR.xhrFields){bW[bU]=bR.xhrFields[bU]}}bR.mimeType&&bW.overrideMimeType&&bW.overrideMimeType(bR.mimeType),bR.crossDomain||bX["X-Requested-With"]||(bX["X-Requested-With"]="XMLHttpRequest");for(bU in bX){bW.setRequestHeader(bU,bX[bU])}bS=function(bY){return function(){bS&&(bS=bQ=bW.onload=bW.onerror=bW.onabort=bW.onreadystatechange=null,"abort"===bY?bW.abort():"error"===bY?"number"!=typeof bW.status?bT(0,"error"):bT(bW.status,bW.statusText):bT(ac[bW.status]||bW.status,bW.statusText,"text"!==(bW.responseType||"text")||"string"!=typeof bW.responseText?{binary:bW.response}:{text:bW.responseText},bW.getAllResponseHeaders()))}},bW.onload=bS(),bQ=bW.onerror=bS("error"),void 0!==bW.onabort?bW.onabort=bQ:bW.onreadystatechange=function(){4===bW.readyState&&aW.setTimeout(function(){bS&&bQ()})},bS=bS("abort");try{bW.send(bR.hasContent&&bR.data||null)}catch(bV){if(bS){throw bV}}},abort:function(){bS&&bS()}}}}),bv.ajaxPrefilter(function(bQ){bQ.crossDomain&&(bQ.contents.script=!1)}),bv.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(bQ){return bv.globalEval(bQ),bQ}}}),bv.ajaxPrefilter("script",function(bQ){void 0===bQ.cache&&(bQ.cache=!1),bQ.crossDomain&&(bQ.type="GET")}),bv.ajaxTransport("script",function(bR){if(bR.crossDomain){var bQ,bS;return{send:function(bU,bT){bQ=bv("<script>").prop({charset:bR.scriptCharset,src:bR.url}).on("load error",bS=function(bV){bQ.remove(),bS=null,bV&&bT("error"===bV.type?404:200,bV.type)}),l.head.appendChild(bQ[0])},abort:function(){bS&&bS()}}}});var bf=[],aZ=/(=)\?(?=&|$)|\?\?/;bv.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var bQ=bf.pop()||bv.expando+"_"+bb++;return this[bQ]=!0,bQ}}),bv.ajaxPrefilter("json jsonp",function(bT,bQ,bU){var bW,bR,bS,bV=bT.jsonp!==!1&&(aZ.test(bT.url)?"url":"string"==typeof bT.data&&0===(bT.contentType||"").indexOf("application/x-www-form-urlencoded")&&aZ.test(bT.data)&&"data");if(bV||"jsonp"===bT.dataTypes[0]){return bW=bT.jsonpCallback=bv.isFunction(bT.jsonpCallback)?bT.jsonpCallback():bT.jsonpCallback,bV?bT[bV]=bT[bV].replace(aZ,"$1"+bW):bT.jsonp!==!1&&(bT.url+=(bB.test(bT.url)?"&":"?")+bT.jsonp+"="+bW),bT.converters["script json"]=function(){return bS||bv.error(bW+" was not called"),bS[0]
},bT.dataTypes[0]="json",bR=aW[bW],aW[bW]=function(){bS=arguments},bU.always(function(){void 0===bR?bv(aW).removeProp(bW):aW[bW]=bR,bT[bW]&&(bT.jsonpCallback=bQ.jsonpCallback,bf.push(bW)),bS&&bv.isFunction(bR)&&bR(bS[0]),bS=bR=void 0}),"script"}}),E.createHTMLDocument=function(){var bQ=l.implementation.createHTMLDocument("").body;return bQ.innerHTML="<form></form><form></form>",2===bQ.childNodes.length}(),bv.parseHTML=function(bV,bS,bT){if("string"!=typeof bV){return[]}"boolean"==typeof bS&&(bT=bS,bS=!1);var bU,bR,bQ;return bS||(E.createHTMLDocument?(bS=l.implementation.createHTMLDocument(""),bU=bS.createElement("base"),bU.href=l.location.href,bS.head.appendChild(bU)):bS=l),bR=a.exec(bV),bQ=!bT&&[],bR?[bS.createElement(bR[1])]:(bR=B([bV],bS,bQ),bQ&&bQ.length&&bv(bQ).remove(),bv.merge([],bR.childNodes))},bv.fn.load=function(bT,bW,bX){var bQ,bU,bS,bR=this,bV=bT.indexOf(" ");return bV>-1&&(bQ=bv.trim(bT.slice(bV)),bT=bT.slice(0,bV)),bv.isFunction(bW)?(bX=bW,bW=void 0):bW&&"object"==typeof bW&&(bU="POST"),bR.length>0&&bv.ajax({url:bT,type:bU||"GET",dataType:"html",data:bW}).done(function(bY){bS=arguments,bR.html(bQ?bv("<div>").append(bv.parseHTML(bY)).find(bQ):bY)}).always(bX&&function(bZ,bY){bR.each(function(){bX.apply(this,bS||[bZ.responseText,bY,bZ])})}),this},bv.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(bQ,bR){bv.fn[bR]=function(bS){return this.on(bR,bS)}}),bv.expr.pseudos.animated=function(bQ){return bv.grep(bv.timers,function(bR){return bQ===bR.elem}).length},bv.offset={setOffset:function(bS,b2,bW){var bY,bV,bQ,bT,bR,b0,b1,bX=bv.css(bS,"position"),bU=bv(bS),bZ={};"static"===bX&&(bS.style.position="relative"),bR=bU.offset(),bQ=bv.css(bS,"top"),b0=bv.css(bS,"left"),b1=("absolute"===bX||"fixed"===bX)&&(bQ+b0).indexOf("auto")>-1,b1?(bY=bU.position(),bT=bY.top,bV=bY.left):(bT=parseFloat(bQ)||0,bV=parseFloat(b0)||0),bv.isFunction(b2)&&(b2=b2.call(bS,bW,bv.extend({},bR))),null!=b2.top&&(bZ.top=b2.top-bR.top+bT),null!=b2.left&&(bZ.left=b2.left-bR.left+bV),"using" in b2?b2.using.call(bS,bZ):bU.css(bZ)}},bv.fn.extend({offset:function(bR){if(arguments.length){return void 0===bR?this:this.each(function(bW){bv.offset.setOffset(this,bR,bW)})}var bQ,bV,bT,bU,bS=this[0];if(bS){return bS.getClientRects().length?(bT=bS.getBoundingClientRect(),bT.width||bT.height?(bU=bS.ownerDocument,bV=be(bU),bQ=bU.documentElement,{top:bT.top+bV.pageYOffset-bQ.clientTop,left:bT.left+bV.pageXOffset-bQ.clientLeft}):bT):{top:0,left:0}}},position:function(){if(this[0]){var bS,bT,bR=this[0],bQ={top:0,left:0};return"fixed"===bv.css(bR,"position")?bT=bR.getBoundingClientRect():(bS=this.offsetParent(),bT=this.offset(),bv.nodeName(bS[0],"html")||(bQ=bS.offset()),bQ={top:bQ.top+bv.css(bS[0],"borderTopWidth",!0),left:bQ.left+bv.css(bS[0],"borderLeftWidth",!0)}),{top:bT.top-bQ.top-bv.css(bR,"marginTop",!0),left:bT.left-bQ.left-bv.css(bR,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var bQ=this.offsetParent;bQ&&"static"===bv.css(bQ,"position");){bQ=bQ.offsetParent}return bQ||bH})}}),bv.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(bS,bR){var bQ="pageYOffset"===bR;bv.fn[bS]=function(bT){return aB(this,function(bU,bX,bW){var bV=be(bU);return void 0===bW?bV?bV[bR]:bU[bX]:void (bV?bV.scrollTo(bQ?bV.pageXOffset:bW,bQ?bW:bV.pageYOffset):bU[bX]=bW)},bS,bT,arguments.length)}}),bv.each(["top","left"],function(bQ,bR){bv.cssHooks[bR]=aY(E.pixelPosition,function(bT,bS){if(bS){return bS=H(bT,bR),ab.test(bS)?bv(bT).position()[bR]+"px":bS}})}),bv.each({Height:"height",Width:"width"},function(bQ,bR){bv.each({padding:"inner"+bQ,content:bR,"":"outer"+bQ},function(bS,bT){bv.fn[bT]=function(bX,bW){var bV=arguments.length&&(bS||"boolean"!=typeof bX),bU=bS||(bX===!0||bW===!0?"margin":"border");return aB(this,function(bZ,bY,b0){var b1;return bv.isWindow(bZ)?0===bT.indexOf("outer")?bZ["inner"+bQ]:bZ.document.documentElement["client"+bQ]:9===bZ.nodeType?(b1=bZ.documentElement,Math.max(bZ.body["scroll"+bQ],b1["scroll"+bQ],bZ.body["offset"+bQ],b1["offset"+bQ],b1["client"+bQ])):void 0===b0?bv.css(bZ,bY,bU):bv.style(bZ,bY,b0,bU)},bR,bV?bX:void 0,bV)}})}),bv.fn.extend({bind:function(bQ,bS,bR){return this.on(bQ,null,bS,bR)},unbind:function(bQ,bR){return this.off(bQ,null,bR)},delegate:function(bQ,bR,bT,bS){return this.on(bR,bQ,bT,bS)},undelegate:function(bQ,bR,bS){return 1===arguments.length?this.off(bQ,"**"):this.off(bR,bQ||"**",bS)}}),bv.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return bv});var a9=aW.jQuery,N=aW.$;return bv.noConflict=function(bQ){return aW.$===bv&&(aW.$=N),bQ&&aW.jQuery===bv&&(aW.jQuery=a9),bv},av||(aW.jQuery=aW.$=bv),bv}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(c){function f(h){for(var g=h.css("visibility");"inherit"===g;){h=h.parent(),g=h.css("visibility")}return"hidden"!==g}c.ui=c.ui||{};var e=(c.ui.version="1.12.1",0),b=Array.prototype.slice;c.cleanData=function(g){return function(h){var k,l,j;for(j=0;null!=(l=h[j]);j++){try{k=c._data(l,"events"),k&&k.remove&&c(l).triggerHandler("remove")}catch(m){}}g(h)}}(c.cleanData),c.widget=function(g,h,o){var m,j,n,i={},l=g.split(".")[0];g=g.split(".")[1];var k=l+"-"+g;return o||(o=h,h=c.Widget),c.isArray(o)&&(o=c.extend.apply(null,[{}].concat(o))),c.expr[":"][k.toLowerCase()]=function(p){return !!c.data(p,k)},c[l]=c[l]||{},m=c[l][g],j=c[l][g]=function(p,q){return this._createWidget?void (arguments.length&&this._createWidget(p,q)):new j(p,q)},c.extend(j,m,{version:o.version,_proto:c.extend({},o),_childConstructors:[]}),n=new h,n.options=c.widget.extend({},n.options),c.each(o,function(q,p){return c.isFunction(p)?void (i[q]=function(){function r(){return h.prototype[q].apply(this,arguments)}function s(t){return h.prototype[q].apply(this,t)}return function(){var u,v=this._super,t=this._superApply;return this._super=r,this._superApply=s,u=p.apply(this,arguments),this._super=v,this._superApply=t,u}}()):void (i[q]=p)}),j.prototype=c.widget.extend(n,{widgetEventPrefix:m?n.widgetEventPrefix||g:g},i,{constructor:j,namespace:l,widgetName:g,widgetFullName:k}),m?(c.each(m._childConstructors,function(q,r){var p=r.prototype;c.widget(p.namespace+"."+p.widgetName,j,r._proto)}),delete m._childConstructors):h._childConstructors.push(j),c.widget.bridge(g,j),j},c.widget.extend=function(l){for(var i,k,h=b.call(arguments,1),j=0,g=h.length;j<g;j++){for(i in h[j]){k=h[j][i],h[j].hasOwnProperty(i)&&void 0!==k&&(c.isPlainObject(k)?l[i]=c.isPlainObject(l[i])?c.widget.extend({},l[i],k):c.widget.extend({},k):l[i]=k)}}return l},c.widget.bridge=function(h,g){var i=g.prototype.widgetFullName||h;c.fn[h]=function(l){var j="string"==typeof l,k=b.call(arguments,1),m=this;return j?this.length||"instance"!==l?this.each(function(){var o,n=c.data(this,i);return"instance"===l?(m=n,!1):n?c.isFunction(n[l])&&"_"!==l.charAt(0)?(o=n[l].apply(n,k),o!==n&&void 0!==o?(m=o&&o.jquery?m.pushStack(o.get()):o,!1):void 0):c.error("no such method '"+l+"' for "+h+" widget instance"):c.error("cannot call methods on "+h+" prior to initialization; attempted to call method '"+l+"'")}):m=void 0:(k.length&&(l=c.widget.extend.apply(null,[l].concat(k))),this.each(function(){var n=c.data(this,i);n?(n.option(l||{}),n._init&&n._init()):c.data(this,i,new g(l,this))})),m}},c.Widget=function(){},c.Widget._childConstructors=[],c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(g,h){h=c(h||this.defaultElement||this)[0],this.element=c(h),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=c(),this.hoverable=c(),this.focusable=c(),this.classesElementLookup={},h!==this&&(c.data(h,this.widgetFullName,this),this._on(!0,this.element,{remove:function(i){i.target===h&&this.destroy()}}),this.document=c(h.style?h.ownerDocument:h.document||h),this.window=c(this.document[0].defaultView||this.document[0].parentWindow)),this.options=c.widget.extend({},this.options,this._getCreateOptions(),g),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){var g=this;this._destroy(),c.each(this.classesElementLookup,function(h,i){g._removeClass(i,h)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:c.noop,widget:function(){return this.element},option:function(k,l){var m,j,h,g=k;if(0===arguments.length){return c.widget.extend({},this.options)}if("string"==typeof k){if(g={},m=k.split("."),k=m.shift(),m.length){for(j=g[k]=c.widget.extend({},this.options[k]),h=0;h<m.length-1;h++){j[m[h]]=j[m[h]]||{},j=j[m[h]]}if(k=m.pop(),1===arguments.length){return void 0===j[k]?null:j[k]}j[k]=l}else{if(1===arguments.length){return void 0===this.options[k]?null:this.options[k]}g[k]=l}}return this._setOptions(g),this},_setOptions:function(g){var h;for(h in g){this._setOption(h,g[h])}return this},_setOption:function(g,h){return"classes"===g&&this._setOptionClasses(h),this.options[g]=h,"disabled"===g&&this._setOptionDisabled(h),this},_setOptionClasses:function(j){var g,i,h;for(g in j){h=this.classesElementLookup[g],j[g]!==this.options.classes[g]&&h&&h.length&&(i=c(h.get()),this._removeClass(h,g),i.addClass(this._classes({element:i,keys:g,classes:j,add:!0})))}},_setOptionDisabled:function(g){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!g),g&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(g){function j(l,n){var m,k;for(k=0;k<l.length;k++){m=i.classesElementLookup[l[k]]||c(),m=c(g.add?c.unique(m.get().concat(g.element.get())):m.not(g.element).get()),i.classesElementLookup[l[k]]=m,h.push(l[k]),n&&g.classes[l[k]]&&h.push(g.classes[l[k]])
}}var h=[],i=this;return g=c.extend({element:this.element,classes:this.options.classes||{}},g),this._on(g.element,{remove:"_untrackClassesElement"}),g.keys&&j(g.keys.match(/\S+/g)||[],!0),g.extra&&j(g.extra.match(/\S+/g)||[]),h.join(" ")},_untrackClassesElement:function(h){var g=this;c.each(g.classesElementLookup,function(i,j){c.inArray(h.target,j)!==-1&&(g.classesElementLookup[i]=c(j.not(h.target).get()))})},_removeClass:function(h,i,g){return this._toggleClass(h,i,g,!1)},_addClass:function(h,i,g){return this._toggleClass(h,i,g,!0)},_toggleClass:function(j,k,g,l){l="boolean"==typeof l?l:g;var h="string"==typeof j||null===j,i={extra:h?k:g,keys:h?j:k,element:h?this.element:j,add:l};return i.element.toggleClass(this._classes(i),l),this},_on:function(j,i,h){var k,g=this;"boolean"!=typeof j&&(h=i,i=j,j=!1),h?(i=k=c(i),this.bindings=this.bindings.add(i)):(h=i,i=this.element,k=this.widget()),c.each(h,function(q,p){function n(){if(j||g.options.disabled!==!0&&!c(this).hasClass("ui-state-disabled")){return("string"==typeof p?g[p]:p).apply(g,arguments)}}"string"!=typeof p&&(n.guid=p.guid=p.guid||n.guid||c.guid++);var o=q.match(/^([\w:-]*)\s*(.*)$/),m=o[1]+g.eventNamespace,l=o[2];l?k.on(m,l,n):i.on(m,n)})},_off:function(h,g){g=(g||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,h.off(g).off(g),this.bindings=c(this.bindings.not(h).get()),this.focusable=c(this.focusable.not(h).get()),this.hoverable=c(this.hoverable.not(h).get())},_delay:function(j,i){function h(){return("string"==typeof j?g[j]:j).apply(g,arguments)}var g=this;return setTimeout(h,i||0)},_hoverable:function(g){this.hoverable=this.hoverable.add(g),this._on(g,{mouseenter:function(h){this._addClass(c(h.currentTarget),null,"ui-state-hover")},mouseleave:function(h){this._removeClass(c(h.currentTarget),null,"ui-state-hover")}})},_focusable:function(g){this.focusable=this.focusable.add(g),this._on(g,{focusin:function(h){this._addClass(c(h.currentTarget),null,"ui-state-focus")},focusout:function(h){this._removeClass(c(h.currentTarget),null,"ui-state-focus")}})},_trigger:function(g,h,i){var l,k,j=this.options[g];if(i=i||{},h=c.Event(h),h.type=(g===this.widgetEventPrefix?g:this.widgetEventPrefix+g).toLowerCase(),h.target=this.element[0],k=h.originalEvent){for(l in k){l in h||(h[l]=k[l])}}return this.element.trigger(h,i),!(c.isFunction(j)&&j.apply(this.element[0],[h].concat(i))===!1||h.isDefaultPrevented())}},c.each({show:"fadeIn",hide:"fadeOut"},function(h,g){c.Widget.prototype["_"+h]=function(k,j,m){"string"==typeof j&&(j={effect:j});var l,i=j?j===!0||"number"==typeof j?g:j.effect||g:h;j=j||{},"number"==typeof j&&(j={duration:j}),l=!c.isEmptyObject(j),j.complete=m,j.delay&&k.delay(j.delay),l&&c.effects&&c.effects.effect[i]?k[h](j):i!==h&&k[i]?k[i](j.duration,j.easing,m):k.queue(function(n){c(this)[h](),m&&m.call(k[0]),n()})}});c.widget;!function(){function q(u,t,s){return[parseFloat(u[0])*(h.test(u[0])?t/100:1),parseFloat(u[1])*(h.test(u[1])?s/100:1)]}function m(s,t){return parseInt(c.css(s,t),10)||0}function k(t){var s=t[0];return 9===s.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:c.isWindow(s)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:s.preventDefault?{width:0,height:0,offset:{top:s.pageY,left:s.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var n,o=Math.max,r=Math.abs,i=/left|center|right/,l=/top|center|bottom/,g=/[\+\-]\d+(\.[\d]+)?%?/,p=/^\w+/,h=/%$/,j=c.fn.position;c.position={scrollbarWidth:function(){if(void 0!==n){return n}var t,s,v=c("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),u=v.children()[0];return c("body").append(v),t=u.offsetWidth,v.css("overflow","scroll"),s=u.offsetWidth,t===s&&(s=v[0].clientWidth),v.remove(),n=t-s},getScrollInfo:function(w){var v=w.isWindow||w.isDocument?"":w.element.css("overflow-x"),u=w.isWindow||w.isDocument?"":w.element.css("overflow-y"),t="scroll"===v||"auto"===v&&w.width<w.element[0].scrollWidth,s="scroll"===u||"auto"===u&&w.height<w.element[0].scrollHeight;return{width:s?c.position.scrollbarWidth():0,height:t?c.position.scrollbarWidth():0}},getWithinInfo:function(u){var v=c(u||window),s=c.isWindow(v[0]),w=!!v[0]&&9===v[0].nodeType,t=!s&&!w;return{element:v,isWindow:s,isDocument:w,offset:t?c(u).offset():{left:0,top:0},scrollLeft:v.scrollLeft(),scrollTop:v.scrollTop(),width:v.outerWidth(),height:v.outerHeight()}}},c.fn.position=function(C){if(!C||!C.of){return j.apply(this,arguments)}C=c.extend({},C);var D,z,x,B,w,s,y=c(C.of),v=c.position.getWithinInfo(C.within),t=c.position.getScrollInfo(v),A=(C.collision||"flip").split(" "),u={};return s=k(y),y[0].preventDefault&&(C.at="left top"),z=s.width,x=s.height,B=s.offset,w=c.extend({},B),c.each(["my","at"],function(){var F,E,G=(C[this]||"").split(" ");1===G.length&&(G=i.test(G[0])?G.concat(["center"]):l.test(G[0])?["center"].concat(G):["center","center"]),G[0]=i.test(G[0])?G[0]:"center",G[1]=l.test(G[1])?G[1]:"center",F=g.exec(G[0]),E=g.exec(G[1]),u[this]=[F?F[0]:0,E?E[0]:0],C[this]=[p.exec(G[0])[0],p.exec(G[1])[0]]}),1===A.length&&(A[1]=A[0]),"right"===C.at[0]?w.left+=z:"center"===C.at[0]&&(w.left+=z/2),"bottom"===C.at[1]?w.top+=x:"center"===C.at[1]&&(w.top+=x/2),D=q(u.at,z,x),w.left+=D[0],w.top+=D[1],this.each(function(){var F,O,H=c(this),J=H.outerWidth(),G=H.outerHeight(),I=m(this,"marginLeft"),E=m(this,"marginTop"),N=J+I+m(this,"marginRight")+t.width,M=G+E+m(this,"marginBottom")+t.height,K=c.extend({},w),L=q(u.my,H.outerWidth(),H.outerHeight());"right"===C.my[0]?K.left-=J:"center"===C.my[0]&&(K.left-=J/2),"bottom"===C.my[1]?K.top-=G:"center"===C.my[1]&&(K.top-=G/2),K.left+=L[0],K.top+=L[1],F={marginLeft:I,marginTop:E},c.each(["left","top"],function(Q,P){c.ui.position[A[Q]]&&c.ui.position[A[Q]][P](K,{targetWidth:z,targetHeight:x,elemWidth:J,elemHeight:G,collisionPosition:F,collisionWidth:N,collisionHeight:M,offset:[D[0]+L[0],D[1]+L[1]],my:C.my,at:C.at,within:v,elem:H})}),C.using&&(O=function(S){var U=B.left-K.left,R=U+z-J,T=B.top-K.top,Q=T+x-G,P={target:{element:y,left:B.left,top:B.top,width:z,height:x},element:{element:H,left:K.left,top:K.top,width:J,height:G},horizontal:R<0?"left":U>0?"right":"center",vertical:Q<0?"top":T>0?"bottom":"middle"};z<J&&r(U+R)<z&&(P.horizontal="center"),x<G&&r(T+Q)<x&&(P.vertical="middle"),o(r(U),r(R))>o(r(T),r(Q))?P.important="horizontal":P.important="vertical",C.using.call(this,S,P)}),H.offset(c.extend(K,{using:O}))})},c.ui.position={fit:{left:function(w,v){var s,u=v.within,y=u.isWindow?u.scrollLeft:u.offset.left,A=u.width,x=w.left-v.collisionPosition.marginLeft,z=y-x,t=x+v.collisionWidth-A-y;v.collisionWidth>A?z>0&&t<=0?(s=w.left+z+v.collisionWidth-A-y,w.left+=z-s):t>0&&z<=0?w.left=y:z>t?w.left=y+A-v.collisionWidth:w.left=y:z>0?w.left+=z:t>0?w.left-=t:w.left=o(w.left-x,w.left)},top:function(v,u){var s,t=u.within,z=t.isWindow?t.scrollTop:t.offset.top,A=u.within.height,x=v.top-u.collisionPosition.marginTop,y=z-x,w=x+u.collisionHeight-A-z;u.collisionHeight>A?y>0&&w<=0?(s=v.top+y+u.collisionHeight-A-z,v.top+=y-s):w>0&&y<=0?v.top=z:y>w?v.top=z+A-u.collisionHeight:v.top=z:y>0?v.top+=y:w>0?v.top-=w:v.top=o(v.top-x,v.top)}},flip:{left:function(y,x){var s,B,w=x.within,C=w.offset.left+w.scrollLeft,F=w.width,u=w.isWindow?w.scrollLeft:w.offset.left,z=y.left-x.collisionPosition.marginLeft,D=z-u,t=z+x.collisionWidth-F-u,A="left"===x.my[0]?-x.elemWidth:"right"===x.my[0]?x.elemWidth:0,E="left"===x.at[0]?x.targetWidth:"right"===x.at[0]?-x.targetWidth:0,v=-2*x.offset[0];D<0?(s=y.left+A+E+v+x.collisionWidth-F-C,(s<0||s<r(D))&&(y.left+=A+E+v)):t>0&&(B=y.left-x.collisionPosition.marginLeft+A+E+v-u,(B>0||r(B)<t)&&(y.left+=A+E+v))},top:function(x,w){var D,t,v=w.within,E=v.offset.top+v.scrollTop,F=v.height,s=v.isWindow?v.scrollTop:v.offset.top,z=x.top-w.collisionPosition.marginTop,B=z-s,y=z+w.collisionHeight-F-s,C="top"===w.my[1],A=C?-w.elemHeight:"bottom"===w.my[1]?w.elemHeight:0,G="top"===w.at[1]?w.targetHeight:"bottom"===w.at[1]?-w.targetHeight:0,u=-2*w.offset[1];B<0?(t=x.top+A+G+u+w.collisionHeight-F-E,(t<0||t<r(B))&&(x.top+=A+G+u)):y>0&&(D=x.top-w.collisionPosition.marginTop+A+G+u-s,(D>0||r(D)<y)&&(x.top+=A+G+u))}},flipfit:{left:function(){c.ui.position.flip.left.apply(this,arguments),c.ui.position.fit.left.apply(this,arguments)},top:function(){c.ui.position.flip.top.apply(this,arguments),c.ui.position.fit.top.apply(this,arguments)}}}}();c.ui.position,c.extend(c.expr[":"],{data:c.expr.createPseudo?c.expr.createPseudo(function(g){return function(h){return !!c.data(h,g)}}):function(j,h,g){return !!c.data(j,g[3])}}),c.fn.extend({disableSelection:function(){var g="onselectstart" in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(g+".ui-disableSelection",function(h){h.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});c.ui.focusable=function(j,h){var m,k,i,l,g,n=j.nodeName.toLowerCase();return"area"===n?(m=j.parentNode,k=m.name,!(!j.href||!k||"map"!==m.nodeName.toLowerCase())&&(i=c("img[usemap='#"+k+"']"),i.length>0&&i.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(n)?(l=!j.disabled,l&&(g=c(j).closest("fieldset")[0],g&&(l=!g.disabled))):l="a"===n?j.href||h:h,l&&c(j).is(":visible")&&f(c(j)))},c.extend(c.expr[":"],{focusable:function(g){return c.ui.focusable(g,null!=c.attr(g,"tabindex"))}});var a=(c.ui.focusable,c.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):c(this[0].form)},c.ui.formResetMixin={_formResetHandler:function(){var g=c(this);setTimeout(function(){var h=g.data("ui-form-reset-instances");c.each(h,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var g=this.form.data("ui-form-reset-instances")||[];g.length||this.form.on("reset.ui-form-reset",this._formResetHandler),g.push(this),this.form.data("ui-form-reset-instances",g)}},_unbindFormResetHandler:function(){if(this.form.length){var g=this.form.data("ui-form-reset-instances");
g.splice(c.inArray(this,g),1),g.length?this.form.data("ui-form-reset-instances",g):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},c.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},c.ui.escapeSelector=function(){var g=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(h){return h.replace(g,"\\$1")}}(),c.fn.labels=function(){var h,g,k,j,i;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(j=this.eq(0).parents("label"),k=this.attr("id"),k&&(h=this.eq(0).parents().last(),i=h.add(h.length?h.siblings():this.siblings()),g="label[for='"+c.ui.escapeSelector(k)+"']",j=j.add(i.find(g).addBack(g))),this.pushStack(j))},c.fn.scrollParent=function(i){var h=this.css("position"),g="absolute"===h,j=i?/(auto|scroll|hidden)/:/(auto|scroll)/,k=this.parents().filter(function(){var l=c(this);return(!g||"static"!==l.css("position"))&&j.test(l.css("overflow")+l.css("overflow-y")+l.css("overflow-x"))}).eq(0);return"fixed"!==h&&k.length?k:c(this[0].ownerDocument||document)},c.extend(c.expr[":"],{tabbable:function(i){var h=c.attr(i,"tabindex"),g=null!=h;return(!g||h>=0)&&c.ui.focusable(i,g)}}),c.fn.extend({uniqueId:function(){var g=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++g)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&c(this).removeAttr("id")})}}),c.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),!1);c(document).on("mouseup",function(){a=!1});c.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var g=this;this.element.on("mousedown."+this.widgetName,function(h){return g._mouseDown(h)}).on("click."+this.widgetName,function(h){if(!0===c.data(h.target,g.widgetName+".preventClickEvent")){return c.removeData(h.target,g.widgetName+".preventClickEvent"),h.stopImmediatePropagation(),!1}}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!a){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var h=this,j=1===i.which,g=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&c(i.target).closest(this.options.cancel).length;return !(j&&!g&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){h.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===c.data(i.target,this.widgetName+".preventClickEvent")&&c.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(k){return h._mouseMove(k)},this._mouseUpDelegate=function(k){return h._mouseUp(k)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),a=!0,!0))}},_mouseMove:function(g){if(this._mouseMoved){if(c.ui.ie&&(!document.documentMode||document.documentMode<9)&&!g.button){return this._mouseUp(g)}if(!g.which){if(g.originalEvent.altKey||g.originalEvent.ctrlKey||g.originalEvent.metaKey||g.originalEvent.shiftKey){this.ignoreMissingWhich=!0}else{if(!this.ignoreMissingWhich){return this._mouseUp(g)}}}}return(g.which||g.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(g),g.preventDefault()):(this._mouseDistanceMet(g)&&this._mouseDelayMet(g)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,g)!==!1,this._mouseStarted?this._mouseDrag(g):this._mouseUp(g)),!this._mouseStarted)},_mouseUp:function(g){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,g.target===this._mouseDownEvent.target&&c.data(g.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(g)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,a=!1,g.preventDefault()},_mouseDistanceMet:function(g){return Math.max(Math.abs(this._mouseDownEvent.pageX-g.pageX),Math.abs(this._mouseDownEvent.pageY-g.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return !0}}),c.ui.plugin={add:function(h,j,l){var g,k=c.ui[h].prototype;for(g in l){k.plugins[g]=k.plugins[g]||[],k.plugins[g].push([j,l[g]])}},call:function(g,k,j,h){var l,m=g.plugins[k];if(m&&(h||g.element[0].parentNode&&11!==g.element[0].parentNode.nodeType)){for(l=0;l<m.length;l++){g.options[m[l][0]]&&m[l][1].apply(g.element,j)}}}},c.ui.safeActiveElement=function(g){var i;try{i=g.activeElement}catch(h){i=g.body}return i||(i=g.body),i.nodeName||(i=g.body),i},c.ui.safeBlur=function(g){g&&"body"!==g.nodeName.toLowerCase()&&c(g).trigger("blur")};c.widget("ui.draggable",c.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(g,h){this._super(g,h),"handle"===g&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void (this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(g){var h=this.options;return !(this.helper||h.disabled||c(g.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(g),!!this.handle&&(this._blurActiveElement(g),this._blockFrames(h.iframeFix===!0?"iframe":h.iframeFix),!0))},_blockFrames:function(g){this.iframeBlocks=this.document.find(g).map(function(){var h=c(this);return c("<div>").css("position","absolute").appendTo(h.parent()).outerWidth(h.outerWidth()).outerHeight(h.outerHeight()).offset(h.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(h){var g=c.ui.safeActiveElement(this.document[0]),i=c(h.target);i.closest(g).length||c.ui.safeBlur(g)},_mouseStart:function(g){var h=this.options;return this.helper=this._createHelper(g),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),c.ui.ddmanager&&(c.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===c(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(g),this.originalPosition=this.position=this._generatePosition(g,!1),this.originalPageX=g.pageX,this.originalPageY=g.pageY,h.cursorAt&&this._adjustOffsetFromHelper(h.cursorAt),this._setContainment(),this._trigger("start",g)===!1?(this._clear(),!1):(this._cacheHelperProportions(),c.ui.ddmanager&&!h.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,g),this._mouseDrag(g,!0),c.ui.ddmanager&&c.ui.ddmanager.dragStart(this,g),!0)},_refreshOffsets:function(g){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:g.pageX-this.offset.left,top:g.pageY-this.offset.top}},_mouseDrag:function(g,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(g,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var h=this._uiHash();if(this._trigger("drag",g,h)===!1){return this._mouseUp(new c.Event("mouseup",g)),!1}this.position=h.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",c.ui.ddmanager&&c.ui.ddmanager.drag(this,g),!1},_mouseStop:function(h){var g=this,i=!1;return c.ui.ddmanager&&!this.options.dropBehaviour&&(i=c.ui.ddmanager.drop(this,h)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||c.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?c(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){g._trigger("stop",h)!==!1&&g._clear()}):this._trigger("stop",h)!==!1&&this._clear(),!1},_mouseUp:function(g){return this._unblockFrames(),c.ui.ddmanager&&c.ui.ddmanager.dragStop(this,g),this.handleElement.is(g.target)&&this.element.trigger("focus"),c.ui.mouse.prototype._mouseUp.call(this,g)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new c.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(g){return !this.options.handle||!!c(g.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(h){var j=this.options,i=c.isFunction(j.helper),g=i?c(j.helper.apply(this.element[0],[h])):"clone"===j.helper?this.element.clone().removeAttr("id"):this.element;
return g.parents("body").length||g.appendTo("parent"===j.appendTo?this.element[0].parentNode:j.appendTo),i&&g[0]===this.element[0]&&this._setPositionRelative(),g[0]===this.element[0]||/(fixed|absolute)/.test(g.css("position"))||g.css("position","absolute"),g},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(g){"string"==typeof g&&(g=g.split(" ")),c.isArray(g)&&(g={left:+g[0],top:+g[1]||0}),"left" in g&&(this.offset.click.left=g.left+this.margins.left),"right" in g&&(this.offset.click.left=this.helperProportions.width-g.right+this.margins.left),"top" in g&&(this.offset.click.top=g.top+this.margins.top),"bottom" in g&&(this.offset.click.top=this.helperProportions.height-g.bottom+this.margins.top)},_isRootNode:function(g){return/(html|body)/i.test(g.tagName)||g===this.document[0]},_getParentOffset:function(){var h=this.offsetParent.offset(),g=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==g&&c.contains(this.scrollParent[0],this.offsetParent[0])&&(h.left+=this.scrollParent.scrollLeft(),h.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(h={top:0,left:0}),{top:h.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:h.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition){return{top:0,left:0}}var g=this.element.position(),h=this._isRootNode(this.scrollParent[0]);return{top:g.top-(parseInt(this.helper.css("top"),10)||0)+(h?0:this.scrollParent.scrollTop()),left:g.left-(parseInt(this.helper.css("left"),10)||0)+(h?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var h,k,i,j=this.options,g=this.document[0];return this.relativeContainer=null,j.containment?"window"===j.containment?void (this.containment=[c(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,c(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,c(window).scrollLeft()+c(window).width()-this.helperProportions.width-this.margins.left,c(window).scrollTop()+(c(window).height()||g.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===j.containment?void (this.containment=[0,0,c(g).width()-this.helperProportions.width-this.margins.left,(c(g).height()||g.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):j.containment.constructor===Array?void (this.containment=j.containment):("parent"===j.containment&&(j.containment=this.helper[0].parentNode),k=c(j.containment),i=k[0],void (i&&(h=/(scroll|auto)/.test(k.css("overflow")),this.containment=[(parseInt(k.css("borderLeftWidth"),10)||0)+(parseInt(k.css("paddingLeft"),10)||0),(parseInt(k.css("borderTopWidth"),10)||0)+(parseInt(k.css("paddingTop"),10)||0),(h?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(k.css("borderRightWidth"),10)||0)-(parseInt(k.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(h?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(k.css("borderBottomWidth"),10)||0)-(parseInt(k.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=k))):void (this.containment=null)},_convertPositionTo:function(h,j){j||(j=this.position);var g="absolute"===h?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:j.top+this.offset.relative.top*g+this.offset.parent.top*g-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*g,left:j.left+this.offset.relative.left*g+this.offset.parent.left*g-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*g}},_generatePosition:function(h,n){var g,p,q,j,i=this.options,m=this._isRootNode(this.scrollParent[0]),l=h.pageX,k=h.pageY;return m&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),n&&(this.containment&&(this.relativeContainer?(p=this.relativeContainer.offset(),g=[this.containment[0]+p.left,this.containment[1]+p.top,this.containment[2]+p.left,this.containment[3]+p.top]):g=this.containment,h.pageX-this.offset.click.left<g[0]&&(l=g[0]+this.offset.click.left),h.pageY-this.offset.click.top<g[1]&&(k=g[1]+this.offset.click.top),h.pageX-this.offset.click.left>g[2]&&(l=g[2]+this.offset.click.left),h.pageY-this.offset.click.top>g[3]&&(k=g[3]+this.offset.click.top)),i.grid&&(q=i.grid[1]?this.originalPageY+Math.round((k-this.originalPageY)/i.grid[1])*i.grid[1]:this.originalPageY,k=g?q-this.offset.click.top>=g[1]||q-this.offset.click.top>g[3]?q:q-this.offset.click.top>=g[1]?q-i.grid[1]:q+i.grid[1]:q,j=i.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/i.grid[0])*i.grid[0]:this.originalPageX,l=g?j-this.offset.click.left>=g[0]||j-this.offset.click.left>g[2]?j:j-this.offset.click.left>=g[0]?j-i.grid[0]:j+i.grid[0]:j),"y"===i.axis&&(l=this.originalPageX),"x"===i.axis&&(k=this.originalPageY)),{top:k-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:m?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:m?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(g,h,i){return i=i||this._uiHash(),c.ui.plugin.call(this,g,[h,i,this],!0),/^(drag|start|stop)/.test(g)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),c.Widget.prototype._trigger.call(this,g,h,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),c.ui.plugin.add("draggable","connectToSortable",{start:function(i,j,g){var h=c.extend({},j,{item:g.element});g.sortables=[],c(g.options.connectToSortable).each(function(){var k=c(this).sortable("instance");k&&!k.options.disabled&&(g.sortables.push(k),k.refreshPositions(),k._trigger("activate",i,h))})},stop:function(i,j,g){var h=c.extend({},j,{item:g.element});g.cancelHelperRemoval=!1,c.each(g.sortables,function(){var k=this;k.isOver?(k.isOver=0,g.cancelHelperRemoval=!0,k.cancelHelperRemoval=!1,k._storedCSS={position:k.placeholder.css("position"),top:k.placeholder.css("top"),left:k.placeholder.css("left")},k._mouseStop(i),k.options.helper=k.options._helper):(k.cancelHelperRemoval=!0,k._trigger("deactivate",i,h))})},drag:function(h,i,g){c.each(g.sortables,function(){var j=!1,k=this;k.positionAbs=g.positionAbs,k.helperProportions=g.helperProportions,k.offset.click=g.offset.click,k._intersectsWith(k.containerCache)&&(j=!0,c.each(g.sortables,function(){return this.positionAbs=g.positionAbs,this.helperProportions=g.helperProportions,this.offset.click=g.offset.click,this!==k&&this._intersectsWith(this.containerCache)&&c.contains(k.element[0],this.element[0])&&(j=!1),j})),j?(k.isOver||(k.isOver=1,g._parent=i.helper.parent(),k.currentItem=i.helper.appendTo(k.element).data("ui-sortable-item",!0),k.options._helper=k.options.helper,k.options.helper=function(){return i.helper[0]},h.target=k.currentItem[0],k._mouseCapture(h,!0),k._mouseStart(h,!0,!0),k.offset.click.top=g.offset.click.top,k.offset.click.left=g.offset.click.left,k.offset.parent.left-=g.offset.parent.left-k.offset.parent.left,k.offset.parent.top-=g.offset.parent.top-k.offset.parent.top,g._trigger("toSortable",h),g.dropped=k.element,c.each(g.sortables,function(){this.refreshPositions()}),g.currentItem=g.element,k.fromOutside=g),k.currentItem&&(k._mouseDrag(h),i.position=k.position)):k.isOver&&(k.isOver=0,k.cancelHelperRemoval=!0,k.options._revert=k.options.revert,k.options.revert=!1,k._trigger("out",h,k._uiHash(k)),k._mouseStop(h,!0),k.options.revert=k.options._revert,k.options.helper=k.options._helper,k.placeholder&&k.placeholder.remove(),i.helper.appendTo(g._parent),g._refreshOffsets(h),i.position=g._generatePosition(h,!0),g._trigger("fromSortable",h),g.dropped=!1,c.each(g.sortables,function(){this.refreshPositions()}))})}}),c.ui.plugin.add("draggable","cursor",{start:function(i,j,g){var h=c("body"),k=g.options;h.css("cursor")&&(k._cursor=h.css("cursor")),h.css("cursor",k.cursor)},stop:function(h,i,g){var j=g.options;j._cursor&&c("body").css("cursor",j._cursor)}}),c.ui.plugin.add("draggable","opacity",{start:function(i,j,g){var h=c(j.helper),k=g.options;h.css("opacity")&&(k._opacity=h.css("opacity")),h.css("opacity",k.opacity)},stop:function(h,i,g){var j=g.options;j._opacity&&c(i.helper).css("opacity",j._opacity)}}),c.ui.plugin.add("draggable","scroll",{start:function(h,j,g){g.scrollParentNotHidden||(g.scrollParentNotHidden=g.helper.scrollParent(!1)),g.scrollParentNotHidden[0]!==g.document[0]&&"HTML"!==g.scrollParentNotHidden[0].tagName&&(g.overflowOffset=g.scrollParentNotHidden.offset())},drag:function(k,l,j){var m=j.options,h=!1,n=j.scrollParentNotHidden[0],g=j.document[0];n!==g&&"HTML"!==n.tagName?(m.axis&&"x"===m.axis||(j.overflowOffset.top+n.offsetHeight-k.pageY<m.scrollSensitivity?n.scrollTop=h=n.scrollTop+m.scrollSpeed:k.pageY-j.overflowOffset.top<m.scrollSensitivity&&(n.scrollTop=h=n.scrollTop-m.scrollSpeed)),m.axis&&"y"===m.axis||(j.overflowOffset.left+n.offsetWidth-k.pageX<m.scrollSensitivity?n.scrollLeft=h=n.scrollLeft+m.scrollSpeed:k.pageX-j.overflowOffset.left<m.scrollSensitivity&&(n.scrollLeft=h=n.scrollLeft-m.scrollSpeed))):(m.axis&&"x"===m.axis||(k.pageY-c(g).scrollTop()<m.scrollSensitivity?h=c(g).scrollTop(c(g).scrollTop()-m.scrollSpeed):c(window).height()-(k.pageY-c(g).scrollTop())<m.scrollSensitivity&&(h=c(g).scrollTop(c(g).scrollTop()+m.scrollSpeed))),m.axis&&"y"===m.axis||(k.pageX-c(g).scrollLeft()<m.scrollSensitivity?h=c(g).scrollLeft(c(g).scrollLeft()-m.scrollSpeed):c(window).width()-(k.pageX-c(g).scrollLeft())<m.scrollSensitivity&&(h=c(g).scrollLeft(c(g).scrollLeft()+m.scrollSpeed)))),h!==!1&&c.ui.ddmanager&&!m.dropBehaviour&&c.ui.ddmanager.prepareOffsets(j,k)
}}),c.ui.plugin.add("draggable","snap",{start:function(h,j,g){var k=g.options;g.snapElements=[],c(k.snap.constructor!==String?k.snap.items||":data(ui-draggable)":k.snap).each(function(){var l=c(this),i=l.offset();this!==g.element[0]&&g.snapElements.push({item:this,width:l.outerWidth(),height:l.outerHeight(),top:i.top,left:i.left})})},drag:function(x,u,k){var g,C,n,p,w,s,q,D,y,m,v=k.options,B=v.snapTolerance,A=u.offset.left,z=A+k.helperProportions.width,j=u.offset.top,h=j+k.helperProportions.height;for(y=k.snapElements.length-1;y>=0;y--){w=k.snapElements[y].left-k.margins.left,s=w+k.snapElements[y].width,q=k.snapElements[y].top-k.margins.top,D=q+k.snapElements[y].height,z<w-B||A>s+B||h<q-B||j>D+B||!c.contains(k.snapElements[y].item.ownerDocument,k.snapElements[y].item)?(k.snapElements[y].snapping&&k.options.snap.release&&k.options.snap.release.call(k.element,x,c.extend(k._uiHash(),{snapItem:k.snapElements[y].item})),k.snapElements[y].snapping=!1):("inner"!==v.snapMode&&(g=Math.abs(q-h)<=B,C=Math.abs(D-j)<=B,n=Math.abs(w-z)<=B,p=Math.abs(s-A)<=B,g&&(u.position.top=k._convertPositionTo("relative",{top:q-k.helperProportions.height,left:0}).top),C&&(u.position.top=k._convertPositionTo("relative",{top:D,left:0}).top),n&&(u.position.left=k._convertPositionTo("relative",{top:0,left:w-k.helperProportions.width}).left),p&&(u.position.left=k._convertPositionTo("relative",{top:0,left:s}).left)),m=g||C||n||p,"outer"!==v.snapMode&&(g=Math.abs(q-j)<=B,C=Math.abs(D-h)<=B,n=Math.abs(w-A)<=B,p=Math.abs(s-z)<=B,g&&(u.position.top=k._convertPositionTo("relative",{top:q,left:0}).top),C&&(u.position.top=k._convertPositionTo("relative",{top:D-k.helperProportions.height,left:0}).top),n&&(u.position.left=k._convertPositionTo("relative",{top:0,left:w}).left),p&&(u.position.left=k._convertPositionTo("relative",{top:0,left:s-k.helperProportions.width}).left)),!k.snapElements[y].snapping&&(g||C||n||p||m)&&k.options.snap.snap&&k.options.snap.snap.call(k.element,x,c.extend(k._uiHash(),{snapItem:k.snapElements[y].item})),k.snapElements[y].snapping=g||C||n||p||m)}}}),c.ui.plugin.add("draggable","stack",{start:function(i,j,g){var h,l=g.options,k=c.makeArray(c(l.stack)).sort(function(n,m){return(parseInt(c(n).css("zIndex"),10)||0)-(parseInt(c(m).css("zIndex"),10)||0)});k.length&&(h=parseInt(c(k[0]).css("zIndex"),10)||0,c(k).each(function(m){c(this).css("zIndex",h+m)}),this.css("zIndex",h+k.length))}}),c.ui.plugin.add("draggable","zIndex",{start:function(i,j,g){var h=c(j.helper),k=g.options;h.css("zIndex")&&(k._zIndex=h.css("zIndex")),h.css("zIndex",k.zIndex)},stop:function(h,i,g){var j=g.options;j._zIndex&&c(i.helper).css("zIndex",j._zIndex)}});c.ui.draggable;c.widget("ui.resizable",c.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(g){return parseFloat(g)||0},_isNumber:function(g){return !isNaN(parseFloat(g))},_hasScroll:function(j,h){if("hidden"===c(j).css("overflow")){return !1}var g=h&&"left"===h?"scrollLeft":"scrollTop",i=!1;return j[g]>0||(j[g]=1,i=j[g]>0,j[g]=0,i)},_create:function(){var h,i=this.options,g=this;this._addClass("ui-resizable"),c.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(c("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,h={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(h),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(h),this._proportionallyResize()),this._setupHandles(),i.autoHide&&c(this.element).on("mouseenter",function(){i.disabled||(g._removeClass("ui-resizable-autohide"),g._handles.show())}).on("mouseleave",function(){i.disabled||g.resizing||(g._addClass("ui-resizable-autohide"),g._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var h,g=function(i){c(i).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(g(this.element),h=this.element,this.originalElement.css({position:h.css("position"),width:h.outerWidth(),height:h.outerHeight(),top:h.css("top"),left:h.css("left")}).insertAfter(h),h.remove()),this.originalElement.css("resize",this.originalResizeStyle),g(this.originalElement),this},_setOption:function(g,h){switch(this._super(g,h),g){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var l,h,p,g,j,m=this.options,k=this;if(this.handles=m.handles||(c(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=c(),this.handles.constructor===String){for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),p=this.handles.split(","),this.handles={},h=0;h<p.length;h++){l=c.trim(p[h]),g="ui-resizable-"+l,j=c("<div>"),this._addClass(j,"ui-resizable-handle "+g),j.css({zIndex:m.zIndex}),this.handles[l]=".ui-resizable-"+l,this.element.append(j)}}this._renderAxis=function(s){var o,q,n,r;s=s||this.element;for(o in this.handles){this.handles[o].constructor===String?this.handles[o]=this.element.children(this.handles[o]).first().show():(this.handles[o].jquery||this.handles[o].nodeType)&&(this.handles[o]=c(this.handles[o]),this._on(this.handles[o],{mousedown:k._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(q=c(this.handles[o],this.element),r=/sw|ne|nw|se|n|s/.test(o)?q.outerHeight():q.outerWidth(),n=["padding",/ne|nw|n/.test(o)?"Top":/se|sw|s/.test(o)?"Bottom":/^e$/.test(o)?"Right":"Left"].join(""),s.css(n,r),this._proportionallyResize()),this._handles=this._handles.add(this.handles[o])}},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){k.resizing||(this.className&&(j=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),k.axis=j&&j[1]?j[1]:"se")}),m.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(j){var h,k,g=!1;for(h in this.handles){k=c(this.handles[h])[0],(k===j.target||c.contains(k,j.target))&&(g=!0)}return !this.options.disabled&&g},_mouseStart:function(h){var l,i,k,j=this.options,g=this.element;return this.resizing=!0,this._renderProxy(),l=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),j.containment&&(l+=c(j.containment).scrollLeft()||0,i+=c(j.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:l,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:g.width(),height:g.height()},this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()},this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-g.height()},this.originalPosition={left:l,top:i},this.originalMousePosition={left:h.pageX,top:h.pageY},this.aspectRatio="number"==typeof j.aspectRatio?j.aspectRatio:this.originalSize.width/this.originalSize.height||1,k=c(".ui-resizable-"+this.axis).css("cursor"),c("body").css("cursor","auto"===k?this.axis+"-resize":k),this._addClass("ui-resizable-resizing"),this._propagate("start",h),!0},_mouseDrag:function(l){var m,k,n=this.originalMousePosition,h=this.axis,i=l.pageX-n.left||0,g=l.pageY-n.top||0,j=this._change[h];return this._updatePrevProperties(),!!j&&(m=j.apply(this,[l,i,g]),this._updateVirtualBoundaries(l.shiftKey),(this._aspectRatio||l.shiftKey)&&(m=this._updateRatio(m,l)),m=this._respectSize(m,l),this._updateCache(m),this._propagate("resize",l),k=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),c.isEmptyObject(k)||(this._updatePrevProperties(),this._trigger("resize",l,this.ui()),this._applyChanges()),!1)},_mouseStop:function(j){this.resizing=!1;var i,g,h,m,q,l,p,k=this.options,n=this;return this._helper&&(i=this._proportionallyResizeElements,g=i.length&&/textarea/i.test(i[0].nodeName),h=g&&this._hasScroll(i[0],"left")?0:n.sizeDiff.height,m=g?0:n.sizeDiff.width,q={width:n.helper.width()-m,height:n.helper.height()-h},l=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,p=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null,k.animate||this.element.css(c.extend(q,{top:p,left:l})),n.helper.height(n.size.height),n.helper.width(n.size.width),this._helper&&!k.animate&&this._proportionallyResize()),c("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",j),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}
},_applyChanges:function(){var g={};return this.position.top!==this.prevPosition.top&&(g.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(g.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(g.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(g.height=this.size.height+"px"),this.helper.css(g),g},_updateVirtualBoundaries:function(i){var k,j,h,m,g,l=this.options;g={minWidth:this._isNumber(l.minWidth)?l.minWidth:0,maxWidth:this._isNumber(l.maxWidth)?l.maxWidth:1/0,minHeight:this._isNumber(l.minHeight)?l.minHeight:0,maxHeight:this._isNumber(l.maxHeight)?l.maxHeight:1/0},(this._aspectRatio||i)&&(k=g.minHeight*this.aspectRatio,h=g.minWidth/this.aspectRatio,j=g.maxHeight*this.aspectRatio,m=g.maxWidth/this.aspectRatio,k>g.minWidth&&(g.minWidth=k),h>g.minHeight&&(g.minHeight=h),j<g.maxWidth&&(g.maxWidth=j),m<g.maxHeight&&(g.maxHeight=m)),this._vBoundaries=g},_updateCache:function(g){this.offset=this.helper.offset(),this._isNumber(g.left)&&(this.position.left=g.left),this._isNumber(g.top)&&(this.position.top=g.top),this._isNumber(g.height)&&(this.size.height=g.height),this._isNumber(g.width)&&(this.size.width=g.width)},_updateRatio:function(i){var j=this.position,h=this.size,g=this.axis;return this._isNumber(i.height)?i.width=i.height*this.aspectRatio:this._isNumber(i.width)&&(i.height=i.width/this.aspectRatio),"sw"===g&&(i.left=j.left+(h.width-i.width),i.top=null),"nw"===g&&(i.top=j.top+(h.height-i.height),i.left=j.left+(h.width-i.width)),i},_respectSize:function(l){var i=this._vBoundaries,p=this.axis,r=this._isNumber(l.width)&&i.maxWidth&&i.maxWidth<l.width,m=this._isNumber(l.height)&&i.maxHeight&&i.maxHeight<l.height,j=this._isNumber(l.width)&&i.minWidth&&i.minWidth>l.width,q=this._isNumber(l.height)&&i.minHeight&&i.minHeight>l.height,h=this.originalPosition.left+this.originalSize.width,n=this.originalPosition.top+this.originalSize.height,k=/sw|nw|w/.test(p),g=/nw|ne|n/.test(p);return j&&(l.width=i.minWidth),q&&(l.height=i.minHeight),r&&(l.width=i.maxWidth),m&&(l.height=i.maxHeight),j&&k&&(l.left=h-i.minWidth),r&&k&&(l.left=h-i.maxWidth),q&&g&&(l.top=n-i.minHeight),m&&g&&(l.top=n-i.maxHeight),l.width||l.height||l.left||!l.top?l.width||l.height||l.top||!l.left||(l.left=null):l.top=null,l},_getPaddingPlusBorderDimensions:function(j){for(var h=0,k=[],l=[j.css("borderTopWidth"),j.css("borderRightWidth"),j.css("borderBottomWidth"),j.css("borderLeftWidth")],g=[j.css("paddingTop"),j.css("paddingRight"),j.css("paddingBottom"),j.css("paddingLeft")];h<4;h++){k[h]=parseFloat(l[h])||0,k[h]+=parseFloat(g[h])||0}return{height:k[0]+k[2],width:k[1]+k[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){for(var j,h=0,g=this.helper||this.element;h<this._proportionallyResizeElements.length;h++){j=this._proportionallyResizeElements[h],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(j)),j.css({height:g.height()-this.outerDimensions.height||0,width:g.width()-this.outerDimensions.width||0})}}},_renderProxy:function(){var g=this.element,h=this.options;this.elementOffset=g.offset(),this._helper?(this.helper=this.helper||c("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++h.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(h,g){return{width:this.originalSize.width+g}},w:function(i,g){var h=this.originalSize,j=this.originalPosition;return{left:j.left+g,width:h.width-g}},n:function(j,h,g){var i=this.originalSize,k=this.originalPosition;return{top:k.top+g,height:i.height-g}},s:function(i,h,g){return{height:this.originalSize.height+g}},se:function(i,h,g){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[i,h,g]))},sw:function(i,h,g){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[i,h,g]))},ne:function(i,h,g){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[i,h,g]))},nw:function(i,h,g){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[i,h,g]))}},_propagate:function(h,g){c.ui.plugin.call(this,h,[g,this.ui()]),"resize"!==h&&this._trigger(h,g,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),c.ui.plugin.add("resizable","animate",{stop:function(j){var p=c(this).resizable("instance"),l=p.options,i=p._proportionallyResizeElements,g=i.length&&/textarea/i.test(i[0].nodeName),h=g&&p._hasScroll(i[0],"left")?0:p.sizeDiff.height,n=g?0:p.sizeDiff.width,k={width:p.size.width-n,height:p.size.height-h},m=parseFloat(p.element.css("left"))+(p.position.left-p.originalPosition.left)||null,q=parseFloat(p.element.css("top"))+(p.position.top-p.originalPosition.top)||null;p.element.animate(c.extend(k,q&&m?{top:q,left:m}:{}),{duration:l.animateDuration,easing:l.animateEasing,step:function(){var o={width:parseFloat(p.element.css("width")),height:parseFloat(p.element.css("height")),top:parseFloat(p.element.css("top")),left:parseFloat(p.element.css("left"))};i&&i.length&&c(i[0]).css({width:o.width,height:o.height}),p._updateCache(o),p._propagate("resize",j)}})}}),c.ui.plugin.add("resizable","containment",{start:function(){var q,i,s,g,n,j,t,r=c(this).resizable("instance"),m=r.options,l=r.element,h=m.containment,k=h instanceof c?h.get(0):/parent/.test(h)?l.parent().get(0):h;k&&(r.containerElement=c(k),/document/.test(h)||h===document?(r.containerOffset={left:0,top:0},r.containerPosition={left:0,top:0},r.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}):(q=c(k),i=[],c(["Top","Right","Left","Bottom"]).each(function(p,o){i[p]=r._num(q.css("padding"+o))}),r.containerOffset=q.offset(),r.containerPosition=q.position(),r.containerSize={height:q.innerHeight()-i[3],width:q.innerWidth()-i[1]},s=r.containerOffset,g=r.containerSize.height,n=r.containerSize.width,j=r._hasScroll(k,"left")?k.scrollWidth:n,t=r._hasScroll(k)?k.scrollHeight:g,r.parentData={element:k,left:s.left,top:s.top,width:j,height:t}))},resize:function(h){var n,t,m,k,p=c(this).resizable("instance"),j=p.options,r=p.containerOffset,q=p.position,s=p._aspectRatio||h.shiftKey,g={top:0,left:0},i=p.containerElement,l=!0;i[0]!==document&&/static/.test(i.css("position"))&&(g=r),q.left<(p._helper?r.left:0)&&(p.size.width=p.size.width+(p._helper?p.position.left-r.left:p.position.left-g.left),s&&(p.size.height=p.size.width/p.aspectRatio,l=!1),p.position.left=j.helper?r.left:0),q.top<(p._helper?r.top:0)&&(p.size.height=p.size.height+(p._helper?p.position.top-r.top:p.position.top),s&&(p.size.width=p.size.height*p.aspectRatio,l=!1),p.position.top=p._helper?r.top:0),m=p.containerElement.get(0)===p.element.parent().get(0),k=/relative|absolute/.test(p.containerElement.css("position")),m&&k?(p.offset.left=p.parentData.left+p.position.left,p.offset.top=p.parentData.top+p.position.top):(p.offset.left=p.element.offset().left,p.offset.top=p.element.offset().top),n=Math.abs(p.sizeDiff.width+(p._helper?p.offset.left-g.left:p.offset.left-r.left)),t=Math.abs(p.sizeDiff.height+(p._helper?p.offset.top-g.top:p.offset.top-r.top)),n+p.size.width>=p.parentData.width&&(p.size.width=p.parentData.width-n,s&&(p.size.height=p.size.width/p.aspectRatio,l=!1)),t+p.size.height>=p.parentData.height&&(p.size.height=p.parentData.height-t,s&&(p.size.width=p.size.height*p.aspectRatio,l=!1)),l||(p.position.left=p.prevPosition.left,p.position.top=p.prevPosition.top,p.size.width=p.prevSize.width,p.size.height=p.prevSize.height)},stop:function(){var m=c(this).resizable("instance"),i=m.options,n=m.containerOffset,g=m.containerPosition,j=m.containerElement,k=c(m.helper),q=k.offset(),p=k.outerWidth()-m.sizeDiff.width,l=k.outerHeight()-m.sizeDiff.height;m._helper&&!i.animate&&/relative/.test(j.css("position"))&&c(this).css({left:q.left-g.left-n.left,width:p,height:l}),m._helper&&!i.animate&&/static/.test(j.css("position"))&&c(this).css({left:q.left-g.left-n.left,width:p,height:l})}}),c.ui.plugin.add("resizable","alsoResize",{start:function(){var g=c(this).resizable("instance"),h=g.options;c(h.alsoResize).each(function(){var i=c(this);i.data("ui-resizable-alsoresize",{width:parseFloat(i.width()),height:parseFloat(i.height()),left:parseFloat(i.css("left")),top:parseFloat(i.css("top"))})})},resize:function(h,j){var g=c(this).resizable("instance"),k=g.options,i=g.originalSize,m=g.originalPosition,l={height:g.size.height-i.height||0,width:g.size.width-i.width||0,top:g.position.top-m.top||0,left:g.position.left-m.left||0};c(k.alsoResize).each(function(){var p=c(this),q=c(this).data("ui-resizable-alsoresize"),o={},n=p.parents(j.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(n,function(r,t){var s=(q[t]||0)+(l[t]||0);s&&s>=0&&(o[t]=s||null)}),p.css(o)})},stop:function(){c(this).removeData("ui-resizable-alsoresize")}}),c.ui.plugin.add("resizable","ghost",{start:function(){var h=c(this).resizable("instance"),g=h.size;h.ghost=h.originalElement.clone(),h.ghost.css({opacity:0.25,display:"block",position:"relative",height:g.height,width:g.width,margin:0,left:0,top:0}),h._addClass(h.ghost,"ui-resizable-ghost"),c.uiBackCompat!==!1&&"string"==typeof h.options.ghost&&h.ghost.addClass(this.options.ghost),h.ghost.appendTo(h.helper)},resize:function(){var g=c(this).resizable("instance");g.ghost&&g.ghost.css({position:"relative",height:g.size.height,width:g.size.width})},stop:function(){var g=c(this).resizable("instance");g.ghost&&g.helper&&g.helper.get(0).removeChild(g.ghost.get(0))}}),c.ui.plugin.add("resizable","grid",{resize:function(){var j,p=c(this).resizable("instance"),t=p.options,m=p.size,n=p.originalSize,q=p.originalPosition,y=p.axis,g="number"==typeof t.grid?[t.grid,t.grid]:t.grid,w=g[0]||1,v=g[1]||1,l=Math.round((m.width-n.width)/w)*w,k=Math.round((m.height-n.height)/v)*v,r=n.width+l,u=n.height+k,i=t.maxWidth&&t.maxWidth<r,s=t.maxHeight&&t.maxHeight<u,x=t.minWidth&&t.minWidth>r,h=t.minHeight&&t.minHeight>u;
t.grid=g,x&&(r+=w),h&&(u+=v),i&&(r-=w),s&&(u-=v),/^(se|s|e)$/.test(y)?(p.size.width=r,p.size.height=u):/^(ne)$/.test(y)?(p.size.width=r,p.size.height=u,p.position.top=q.top-k):/^(sw)$/.test(y)?(p.size.width=r,p.size.height=u,p.position.left=q.left-l):((u-v<=0||r-w<=0)&&(j=p._getPaddingPlusBorderDimensions(this)),u-v>0?(p.size.height=u,p.position.top=q.top-k):(u=v-j.height,p.size.height=u,p.position.top=q.top+n.height-u),r-w>0?(p.size.width=r,p.position.left=q.left-l):(r=w-j.width,p.size.width=r,p.position.left=q.left+n.width-r))}});var d=(c.ui.resizable,/ui-corner-([a-z]){2,6}/g);c.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var h=this,g=[];c.each(this.options.items,function(k,i){var l,j={};if(i){return"controlgroupLabel"===k?(l=h.element.find(i),l.each(function(){var m=c(this);m.children(".ui-controlgroup-label-contents").length||m.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),h._addClass(l,null,"ui-widget ui-widget-content ui-state-default"),void (g=g.concat(l.get()))):void (c.fn[k]&&(j=h["_"+k+"Options"]?h["_"+k+"Options"]("middle"):{classes:{}},h.element.find(i).each(function(){var n=c(this),m=n[k]("instance"),o=c.widget.extend({},j);if("button"!==k||!n.parent(".ui-spinner").length){m||(m=n[k]()[k]("instance")),m&&(o.classes=h._resolveClassesValues(o.classes,m)),n[k](o);var p=n[k]("widget");c.data(p[0],"ui-controlgroup-data",m?m:n[k]("instance")),g.push(p[0])}})))}}),this.childWidgets=c(c.unique(g)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(g){this.childWidgets.each(function(){var h=c(this),i=h.data("ui-controlgroup-data");i&&i[g]&&i[g]()})},_updateCornerClass:function(i,h){var g="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",j=this._buildSimpleOptions(h,"label").classes.label;this._removeClass(i,null,g),this._addClass(i,null,j)},_buildSimpleOptions:function(h,i){var j="vertical"===this.options.direction,g={classes:{}};return g.classes[i]={middle:"",first:"ui-corner-"+(j?"top":"left"),last:"ui-corner-"+(j?"bottom":"right"),only:"ui-corner-all"}[h],g},_spinnerOptions:function(g){var h=this._buildSimpleOptions(g,"ui-spinner");return h.classes["ui-spinner-up"]="",h.classes["ui-spinner-down"]="",h},_buttonOptions:function(g){return this._buildSimpleOptions(g,"ui-button")},_checkboxradioOptions:function(g){return this._buildSimpleOptions(g,"ui-checkboxradio-label")},_selectmenuOptions:function(g){var h="vertical"===this.options.direction;return{width:!!h&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(h?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(h?"top":"left")},last:{"ui-selectmenu-button-open":h?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(h?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[g]}},_resolveClassesValues:function(i,h){var g={};return c.each(i,function(j){var k=h.options.classes[j]||"";k=c.trim(k.replace(d,"")),g[j]=(k+" "+i[j]).replace(/\s+/g," ")}),g},_setOption:function(g,h){return"direction"===g&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(g,h),"disabled"===g?void this._callChildMethod(h?"disable":"enable"):void this.refresh()},refresh:function(){var g,h=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),g=this.childWidgets,this.options.onlyVisible&&(g=g.filter(":visible")),g.length&&(c.each(["first","last"],function(k,l){var i=g[l]().data("ui-controlgroup-data");if(i&&h["_"+i.widgetName+"Options"]){var j=h["_"+i.widgetName+"Options"](1===g.length?"only":l);j.classes=h._resolveClassesValues(j.classes,i),i.element[i.widgetName](j)}else{h._updateCornerClass(g[l](),l)}}),this._callChildMethod("refresh"))}});c.widget("ui.checkboxradio",[c.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var h,j,i=this,g=this._super()||{};return this._readType(),j=this.element.labels(),this.label=c(j[j.length-1]),this.label.length||c.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){i.originalLabel+=3===this.nodeType?c(this).text():this.outerHTML}),this.originalLabel&&(g.label=this.originalLabel),h=this.element[0].disabled,null!=h&&(g.disabled=h),g},_create:function(){var g=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),g&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var g=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===g&&/radio|checkbox/.test(this.type)||c.error("Can't create checkboxradio on element.nodeName="+g+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var i,g=this.element[0].name,h="input[name='"+c.ui.escapeSelector(g)+"']";return g?(i=this.form.length?c(this.form[0].elements).filter(h):c(h).filter(function(){return 0===c(this).form().length}),i.not(this.element)):c([])},_toggleClasses:function(){var g=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",g),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",g)._toggleClass(this.icon,null,"ui-icon-blank",!g),"radio"===this.type&&this._getRadioGroup().each(function(){var h=c(this).checkboxradio("instance");h&&h._removeClass(h.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(g,h){if("label"!==g||h){return this._super(g,h),"disabled"===g?(this._toggleClass(this.label,null,"ui-state-disabled",h),void (this.element[0].disabled=h)):void this.refresh()}},_updateIcon:function(h){var g="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=c("<span>"),this.iconSpace=c("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(g+=h?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,h?"ui-icon-blank":"ui-icon-check")):g+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",g),h||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var g=this.label.contents().not(this.element[0]);this.icon&&(g=g.not(this.icon[0])),this.iconSpace&&(g=g.not(this.iconSpace[0])),g.remove(),this.label.append(this.options.label)},refresh:function(){var h=this.element[0].checked,g=this.element[0].disabled;this._updateIcon(h),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",h),null!==this.options.label&&this._updateLabel(),g!==this.options.disabled&&this._setOptions({disabled:g})}}]);c.ui.checkboxradio;c.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var h,g=this._super()||{};return this.isInput=this.element.is("input"),h=this.element[0].disabled,null!=h&&(g.disabled=h),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(g.label=this.originalLabel),g},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(g){g.keyCode===c.ui.keyCode.SPACE&&(g.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())
},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(i,k){var h="iconPosition"!==i,g=h?this.options.iconPosition:k,j="top"===g||"bottom"===g;this.icon?h&&this._removeClass(this.icon,null,this.options.icon):(this.icon=c("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),h&&this._addClass(this.icon,null,k),this._attachIcon(g),j?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=c("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(g))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(g){this.icon[/^(?:end|bottom)/.test(g)?"before":"after"](this.iconSpace)},_attachIcon:function(g){this.element[/^(?:end|bottom)/.test(g)?"append":"prepend"](this.icon)},_setOptions:function(h){var i=void 0===h.showLabel?this.options.showLabel:h.showLabel,g=void 0===h.icon?this.options.icon:h.icon;i||g||(h.showLabel=!0),this._super(h)},_setOption:function(g,h){"icon"===g&&(h?this._updateIcon(g,h):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===g&&this._updateIcon(g,h),"showLabel"===g&&(this._toggleClass("ui-button-icon-only",null,!h),this._updateTooltip()),"label"===g&&(this.isInput?this.element.val(h):(this.element.html(h),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(g,h),"disabled"===g&&(this._toggleClass(null,"ui-state-disabled",h),this.element[0].disabled=h,h&&this.element.blur())},refresh:function(){var g=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");g!==this.options.disabled&&this._setOptions({disabled:g}),this._updateTooltip()}}),c.uiBackCompat!==!1&&(c.widget("ui.button",c.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(g,h){return"text"===g?void this._super("showLabel",h):("showLabel"===g&&(this.options.text=h),"icon"===g&&(this.options.icons.primary=h),"icons"===g&&(h.primary?(this._super("icon",h.primary),this._super("iconPosition","beginning")):h.secondary&&(this._super("icon",h.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),c.fn.button=function(g){return function(){return !this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?g.apply(this,arguments):(c.ui.checkboxradio||c.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(c.fn.button),c.fn.buttonset=function(){return c.ui.controlgroup||c.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});c.ui.button;c.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(h){var g=c(this).css(h).offset().top;g<0&&c(this).css("top",h.top-g)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&c.fn.draggable&&this._makeDraggable(),this.options.resizable&&c.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var g=this.options.appendTo;return g&&(g.jquery||g.nodeType)?c(g):this.document.find(g||"body").eq(0)},_destroy:function(){var h,g=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),h=g.parent.children().eq(g.index),h.length&&h[0]!==this.element[0]?h.before(this.element):g.parent.append(this.element)},widget:function(){return this.uiDialog},disable:c.noop,enable:c.noop,close:function(h){var g=this;this._isOpen&&this._trigger("beforeClose",h)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||c.ui.safeBlur(c.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){g._trigger("close",h)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(k,g){var j=!1,i=this.uiDialog.siblings(".ui-front:visible").map(function(){return +c(this).css("z-index")}).get(),h=Math.max.apply(null,i);return h>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",h+1),j=!0),j&&!g&&this._trigger("focus",k),j},open:function(){var g=this;return this._isOpen?void (this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=c(c.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){g._focusTabbable(),g._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var g=this._focusedElement;g||(g=this.element.find("[autofocus]")),g.length||(g=this.element.find(":tabbable")),g.length||(g=this.uiDialogButtonPane.find(":tabbable")),g.length||(g=this.uiDialogTitlebarClose.filter(":tabbable")),g.length||(g=this.uiDialog),g.eq(0).trigger("focus")},_keepFocus:function(g){function h(){var j=c.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===j||c.contains(this.uiDialog[0],j);i||this._focusTabbable()}g.preventDefault(),h.call(this),this._delay(h)},_createWrapper:function(){this.uiDialog=c("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(i){if(this.options.closeOnEscape&&!i.isDefaultPrevented()&&i.keyCode&&i.keyCode===c.ui.keyCode.ESCAPE){return i.preventDefault(),void this.close(i)}if(i.keyCode===c.ui.keyCode.TAB&&!i.isDefaultPrevented()){var h=this.uiDialog.find(":tabbable"),j=h.filter(":first"),g=h.filter(":last");i.target!==g[0]&&i.target!==this.uiDialog[0]||i.shiftKey?i.target!==j[0]&&i.target!==this.uiDialog[0]||!i.shiftKey||(this._delay(function(){g.trigger("focus")}),i.preventDefault()):(this._delay(function(){j.trigger("focus")}),i.preventDefault())}},mousedown:function(g){this._moveToTop(g)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var g;this.uiDialogTitlebar=c("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(h){c(h.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=c("<button type='button'></button>").button({label:c("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(h){h.preventDefault(),this.close(h)}}),g=c("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(g,"ui-dialog-title"),this._title(g),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":g.attr("id")})},_title:function(g){this.options.title?g.text(this.options.title):g.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=c("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=c("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()
},_createButtons:function(){var h=this,g=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),c.isEmptyObject(g)||c.isArray(g)&&!g.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(c.each(g,function(i,j){var k,l;j=c.isFunction(j)?{click:j,text:i}:j,j=c.extend({type:"button"},j),k=j.click,l={icon:j.icon,iconPosition:j.iconPosition,showLabel:j.showLabel,icons:j.icons,text:j.text},delete j.click,delete j.icon,delete j.iconPosition,delete j.showLabel,delete j.icons,"boolean"==typeof j.text&&delete j.text,c("<button></button>",j).button(l).appendTo(h.uiButtonSet).on("click",function(){k.apply(h.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function h(j){return{position:j.position,offset:j.offset}}var i=this,g=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(j,k){i._addClass(c(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",j,h(k))},drag:function(j,k){i._trigger("drag",j,h(k))},stop:function(j,k){var m=k.offset.left-i.document.scrollLeft(),l=k.offset.top-i.document.scrollTop();g.position={my:"left top",at:"left"+(m>=0?"+":"")+m+" top"+(l>=0?"+":"")+l,of:i.window},i._removeClass(c(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",j,h(k))}})},_makeResizable:function(){function j(m){return{originalPosition:m.originalPosition,originalSize:m.originalSize,position:m.position,size:m.size}}var l=this,i=this.options,k=i.resizable,g=this.uiDialog.css("position"),h="string"==typeof k?k:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:h,start:function(m,n){l._addClass(c(this),"ui-dialog-resizing"),l._blockFrames(),l._trigger("resizeStart",m,j(n))},resize:function(m,n){l._trigger("resize",m,j(n))},stop:function(m,n){var q=l.uiDialog.offset(),p=q.left-l.document.scrollLeft(),o=q.top-l.document.scrollTop();i.height=l.uiDialog.height(),i.width=l.uiDialog.width(),i.position={my:"left top",at:"left"+(p>=0?"+":"")+p+" top"+(o>=0?"+":"")+o,of:l.window},l._removeClass(c(this),"ui-dialog-resizing"),l._unblockFrames(),l._trigger("resizeStop",m,j(n))}}).css("position",g)},_trackFocus:function(){this._on(this.widget(),{focusin:function(g){this._makeFocusTarget(),this._focusedElement=c(g.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var h=this._trackingInstances(),g=c.inArray(this,h);g!==-1&&h.splice(g,1)},_trackingInstances:function(){var g=this.document.data("ui-dialog-instances");return g||(g=[],this.document.data("ui-dialog-instances",g)),g},_minHeight:function(){var g=this.options;return"auto"===g.height?g.minHeight:Math.min(g.minHeight,g.height)},_position:function(){var g=this.uiDialog.is(":visible");g||this.uiDialog.show(),this.uiDialog.position(this.options.position),g||this.uiDialog.hide()},_setOptions:function(i){var j=this,h=!1,g={};c.each(i,function(k,l){j._setOption(k,l),k in j.sizeRelatedOptions&&(h=!0),k in j.resizableRelatedOptions&&(g[k]=l)}),h&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",g)},_setOption:function(i,j){var h,k,g=this.uiDialog;"disabled"!==i&&(this._super(i,j),"appendTo"===i&&this.uiDialog.appendTo(this._appendTo()),"buttons"===i&&this._createButtons(),"closeText"===i&&this.uiDialogTitlebarClose.button({label:c("<a>").text(""+this.options.closeText).html()}),"draggable"===i&&(h=g.is(":data(ui-draggable)"),h&&!j&&g.draggable("destroy"),!h&&j&&this._makeDraggable()),"position"===i&&this._position(),"resizable"===i&&(k=g.is(":data(ui-resizable)"),k&&!j&&g.resizable("destroy"),k&&"string"==typeof j&&g.resizable("option","handles",j),k||j===!1||this._makeResizable()),"title"===i&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var g,i,j,h=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),h.minWidth>h.width&&(h.width=h.minWidth),g=this.uiDialog.css({height:"auto",width:h.width}).outerHeight(),i=Math.max(0,h.minHeight-g),j="number"==typeof h.maxHeight?Math.max(0,h.maxHeight-g):"none","auto"===h.height?this.element.css({minHeight:i,maxHeight:j,height:"auto"}):this.element.height(Math.max(0,h.height-g)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var g=c(this);return c("<div>").css({position:"absolute",width:g.outerWidth(),height:g.outerHeight()}).appendTo(g.parent()).offset(g.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(g){return !!c(g.target).closest(".ui-dialog").length||!!c(g.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var g=!0;this._delay(function(){g=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(h){g||this._allowInteraction(h)||(h.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=c("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var g=this.document.data("ui-dialog-overlays")-1;g?this.document.data("ui-dialog-overlays",g):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),c.uiBackCompat!==!1&&c.widget("ui.dialog",c.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(g,h){"dialogClass"===g&&this.uiDialog.removeClass(this.options.dialogClass).addClass(h),this._superApply(arguments)}});c.ui.dialog,c.widget("ui.slider",c.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var k,g,h=this.options,m=this.element.find(".ui-slider-handle"),l="<span tabindex='0'></span>",j=[];for(g=h.values&&h.values.length||1,m.length>g&&(m.slice(g).remove(),m=m.slice(0,g)),k=m.length;k<g;k++){j.push(l)}this.handles=m.add(c(j.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(n){c(this).data("ui-slider-handle-index",n).attr("tabIndex",0)})},_createRange:function(){var g=this.options;g.range?(g.range===!0&&(g.values?g.values.length&&2!==g.values.length?g.values=[g.values[0],g.values[0]]:c.isArray(g.values)&&(g.values=g.values.slice(0)):g.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=c("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==g.range&&"max"!==g.range||this._addClass(this.range,"ui-slider-range-"+g.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(i){var m,q,h,k,p,r,l,g,n=this,j=this.options;return !j.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),m={x:i.pageX,y:i.pageY},q=this._normValueFromMouse(m),h=this._valueMax()-this._valueMin()+1,this.handles.each(function(o){var s=Math.abs(q-n.values(o));(h>s||h===s&&(o===n._lastChangedValue||n.values(o)===j.min))&&(h=s,k=c(this),p=o)}),r=this._start(i,p),r!==!1&&(this._mouseSliding=!0,this._handleIndex=p,this._addClass(k,null,"ui-state-active"),k.trigger("focus"),l=k.offset(),g=!c(i.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=g?{left:0,top:0}:{left:i.pageX-l.left-k.width()/2,top:i.pageY-l.top-k.height()/2-(parseInt(k.css("borderTopWidth"),10)||0)-(parseInt(k.css("borderBottomWidth"),10)||0)+(parseInt(k.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(i,p,q),this._animateOff=!0,!0))},_mouseStart:function(){return !0},_mouseDrag:function(i){var g={x:i.pageX,y:i.pageY},h=this._normValueFromMouse(g);return this._slide(i,this._handleIndex,h),!1},_mouseStop:function(g){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(g,this._handleIndex),this._change(g,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(h){var g,k,j,i,l;return"horizontal"===this.orientation?(g=this.elementSize.width,k=h.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(g=this.elementSize.height,k=h.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),j=k/g,j>1&&(j=1),j<0&&(j=0),"vertical"===this.orientation&&(j=1-j),i=this._valueMax()-this._valueMin(),l=this._valueMin()+j*i,this._trimAlignValue(l)
},_uiHash:function(i,j,g){var h={handle:this.handles[i],handleIndex:i,value:void 0!==j?j:this.value()};return this._hasMultipleValues()&&(h.value=void 0!==j?j:this.values(i),h.values=g||this.values()),h},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(h,g){return this._trigger("start",h,this._uiHash(g))},_slide:function(l,j,i){var m,g,k=this.value(),h=this.values();this._hasMultipleValues()&&(g=this.values(j?0:1),k=this.values(j),2===this.options.values.length&&this.options.range===!0&&(i=0===j?Math.min(g,i):Math.max(g,i)),h[j]=i),i!==k&&(m=this._trigger("slide",l,this._uiHash(j,i,h)),m!==!1&&(this._hasMultipleValues()?this.values(j,i):this.value(i)))},_stop:function(h,g){this._trigger("stop",h,this._uiHash(g))},_change:function(h,g){this._keySliding||this._mouseSliding||(this._lastChangedValue=g,this._trigger("change",h,this._uiHash(g)))},value:function(g){return arguments.length?(this.options.value=this._trimAlignValue(g),this._refreshValue(),void this._change(null,0)):this._value()},values:function(h,l){var k,g,j;if(arguments.length>1){return this.options.values[h]=this._trimAlignValue(l),this._refreshValue(),void this._change(null,h)}if(!arguments.length){return this._values()}if(!c.isArray(arguments[0])){return this._hasMultipleValues()?this._values(h):this.value()}for(k=this.options.values,g=arguments[0],j=0;j<k.length;j+=1){k[j]=this._trimAlignValue(g[j]),this._change(null,j)}this._refreshValue()},_setOption:function(h,j){var g,k=0;switch("range"===h&&this.options.range===!0&&("min"===j?(this.options.value=this._values(0),this.options.values=null):"max"===j&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),c.isArray(this.options.values)&&(k=this.options.values.length),this._super(h,j),h){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(j),this.handles.css("horizontal"===j?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),g=k-1;g>=0;g--){this._change(null,g)}this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(g){this._super(g),this._toggleClass(null,"ui-state-disabled",!!g)},_value:function(){var g=this.options.value;return g=this._trimAlignValue(g)},_values:function(g){var k,j,h;if(arguments.length){return k=this.options.values[g],k=this._trimAlignValue(k)}if(this._hasMultipleValues()){for(j=this.options.values.slice(),h=0;h<j.length;h+=1){j[h]=this._trimAlignValue(j[h])}return j}return[]},_trimAlignValue:function(j){if(j<=this._valueMin()){return this._valueMin()}if(j>=this._valueMax()){return this._valueMax()}var g=this.options.step>0?this.options.step:1,i=(j-this._valueMin())%g,h=j-i;return 2*Math.abs(i)>=g&&(h+=i>0?g:-g),parseFloat(h.toFixed(5))},_calculateNewMax:function(){var g=this.options.max,h=this._valueMin(),i=this.options.step,j=Math.round((g-h)/i)*i;g=j+h,g>this.options.max&&(g-=i),this.max=parseFloat(g.toFixed(this._precision()))},_precision:function(){var g=this._precisionOf(this.options.step);return null!==this.options.min&&(g=Math.max(g,this._precisionOf(this.options.min))),g},_precisionOf:function(h){var i=h.toString(),g=i.indexOf(".");return g===-1?0:i.length-g-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(g){"vertical"===g&&this.range.css({width:"",left:""}),"horizontal"===g&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var l,k,p,m,q,j=this.options.range,i=this.options,n=this,h=!this._animateOff&&i.animate,g={};this._hasMultipleValues()?this.handles.each(function(o){k=(n.values(o)-n._valueMin())/(n._valueMax()-n._valueMin())*100,g["horizontal"===n.orientation?"left":"bottom"]=k+"%",c(this).stop(1,1)[h?"animate":"css"](g,i.animate),n.options.range===!0&&("horizontal"===n.orientation?(0===o&&n.range.stop(1,1)[h?"animate":"css"]({left:k+"%"},i.animate),1===o&&n.range[h?"animate":"css"]({width:k-l+"%"},{queue:!1,duration:i.animate})):(0===o&&n.range.stop(1,1)[h?"animate":"css"]({bottom:k+"%"},i.animate),1===o&&n.range[h?"animate":"css"]({height:k-l+"%"},{queue:!1,duration:i.animate}))),l=k}):(p=this.value(),m=this._valueMin(),q=this._valueMax(),k=q!==m?(p-m)/(q-m)*100:0,g["horizontal"===this.orientation?"left":"bottom"]=k+"%",this.handle.stop(1,1)[h?"animate":"css"](g,i.animate),"min"===j&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:k+"%"},i.animate),"max"===j&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:100-k+"%"},i.animate),"min"===j&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:k+"%"},i.animate),"max"===j&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:100-k+"%"},i.animate))},_handleEvents:{keydown:function(k){var l,i,h,j,g=c(k.target).data("ui-slider-handle-index");switch(k.keyCode){case c.ui.keyCode.HOME:case c.ui.keyCode.END:case c.ui.keyCode.PAGE_UP:case c.ui.keyCode.PAGE_DOWN:case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(k.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(c(k.target),null,"ui-state-active"),l=this._start(k,g),l===!1)){return}}switch(j=this.options.step,i=h=this._hasMultipleValues()?this.values(g):this.value(),k.keyCode){case c.ui.keyCode.HOME:h=this._valueMin();break;case c.ui.keyCode.END:h=this._valueMax();break;case c.ui.keyCode.PAGE_UP:h=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case c.ui.keyCode.PAGE_DOWN:h=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:if(i===this._valueMax()){return}h=this._trimAlignValue(i+j);break;case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(i===this._valueMin()){return}h=this._trimAlignValue(i-j)}this._slide(k,g,h)},keyup:function(h){var g=c(h.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(h,g),this._change(h,g),this._removeClass(c(h.target),null,"ui-state-active"))}}});c.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var g=/#.*$/;return function(i){var k,j;k=i.href.replace(g,""),j=location.href.replace(g,"");try{k=decodeURIComponent(k)}catch(h){}try{j=decodeURIComponent(j)}catch(h){}return i.hash.length>1&&k===j}}(),_create:function(){var h=this,g=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,g.collapsible),this._processTabs(),g.active=this._initialActive(),c.isArray(g.disabled)&&(g.disabled=c.unique(g.disabled.concat(c.map(this.tabs.filter(".ui-state-disabled"),function(i){return h.tabs.index(i)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(g.active):this.active=c(),this._refresh(),this.active.length&&this.load(g.active)},_initialActive:function(){var h=this.options.active,g=this.options.collapsible,i=location.hash.substring(1);return null===h&&(i&&this.tabs.each(function(j,k){if(c(k).attr("aria-controls")===i){return h=j,!1}}),null===h&&(h=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==h&&h!==-1||(h=!!this.tabs.length&&0)),h!==!1&&(h=this.tabs.index(this.tabs.eq(h)),h===-1&&(h=!g&&0)),!g&&h===!1&&this.anchors.length&&(h=0),h},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):c()}},_tabKeydown:function(i){var h=c(c.ui.safeActiveElement(this.document[0])).closest("li"),g=this.tabs.index(h),j=!0;if(!this._handlePageNav(i)){switch(i.keyCode){case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:g++;break;case c.ui.keyCode.UP:case c.ui.keyCode.LEFT:j=!1,g--;break;case c.ui.keyCode.END:g=this.anchors.length-1;break;case c.ui.keyCode.HOME:g=0;break;case c.ui.keyCode.SPACE:return i.preventDefault(),clearTimeout(this.activating),void this._activate(g);case c.ui.keyCode.ENTER:return i.preventDefault(),clearTimeout(this.activating),void this._activate(g!==this.options.active&&g);default:return}i.preventDefault(),clearTimeout(this.activating),g=this._focusNextTab(g,j),i.ctrlKey||i.metaKey||(h.attr("aria-selected","false"),this.tabs.eq(g).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",g)},this.delay))}},_panelKeydown:function(g){this._handlePageNav(g)||g.ctrlKey&&g.keyCode===c.ui.keyCode.UP&&(g.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(g){return g.altKey&&g.keyCode===c.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):g.altKey&&g.keyCode===c.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(h,i){function j(){return h>g&&(h=0),h<0&&(h=g),h}for(var g=this.tabs.length-1;c.inArray(j(),this.options.disabled)!==-1;){h=i?h+1:h-1}return h},_focusNextTab:function(g,h){return g=this._findNextTab(g,h),this.tabs.eq(g).trigger("focus"),g},_setOption:function(g,h){return"active"===g?void this._activate(h):(this._super(g,h),"collapsible"===g&&(this._toggleClass("ui-tabs-collapsible",null,h),h||this.options.active!==!1||this._activate(0)),"event"===g&&this._setupEvents(h),void ("heightStyle"===g&&this._setupHeightStyle(h)))},_sanitizeSelector:function(g){return g?g.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""
},refresh:function(){var h=this.options,g=this.tablist.children(":has(a[href])");h.disabled=c.map(g.filter(".ui-state-disabled"),function(i){return g.index(i)}),this._processTabs(),h.active!==!1&&this.anchors.length?this.active.length&&!c.contains(this.tablist[0],this.active[0])?this.tabs.length===h.disabled.length?(h.active=!1,this.active=c()):this._activate(this._findNextTab(Math.max(0,h.active-1),!1)):h.active=this.tabs.index(this.active):(h.active=!1,this.active=c()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var i=this,j=this.tabs,h=this.anchors,g=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(k){c(this).is(".ui-state-disabled")&&k.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){c(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return c("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=c(),this.anchors.each(function(p,n){var k,l,o,m=c(n).uniqueId().attr("id"),q=c(n).closest("li"),r=q.attr("aria-controls");i._isLocal(n)?(k=n.hash,o=k.substring(1),l=i.element.find(i._sanitizeSelector(k))):(o=q.attr("aria-controls")||c({}).uniqueId()[0].id,k="#"+o,l=i.element.find(k),l.length||(l=i._createPanel(o),l.insertAfter(i.panels[p-1]||i.tablist)),l.attr("aria-live","polite")),l.length&&(i.panels=i.panels.add(l)),r&&q.data("ui-tabs-aria-controls",r),q.attr({"aria-controls":o,"aria-labelledby":m}),l.attr("aria-labelledby",m)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),j&&(this._off(j.not(this.tabs)),this._off(h.not(this.anchors)),this._off(g.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(g){return c("<div>").attr("id",g).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(k){var j,g,h;for(c.isArray(k)&&(k.length?k.length===this.anchors.length&&(k=!0):k=!1),h=0;g=this.tabs[h];h++){j=c(g),k===!0||c.inArray(h,k)!==-1?(j.attr("aria-disabled","true"),this._addClass(j,null,"ui-state-disabled")):(j.removeAttr("aria-disabled"),this._removeClass(j,null,"ui-state-disabled"))}this.options.disabled=k,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,k===!0)},_setupEvents:function(h){var g={};h&&c.each(h.split(" "),function(j,i){g[i]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(i){i.preventDefault()}}),this._on(this.anchors,g),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(g){var i,h=this.element.parent();"fill"===g?(i=h.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var k=c(this),j=k.css("position");"absolute"!==j&&"fixed"!==j&&(i-=k.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=c(this).outerHeight(!0)}),this.panels.each(function(){c(this).height(Math.max(0,i-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")):"auto"===g&&(i=0,this.panels.each(function(){i=Math.max(i,c(this).height("").height())}).height(i))},_eventHandler:function(g){var p=this.options,k=this.active,l=c(g.currentTarget),j=l.closest("li"),n=j[0]===k[0],h=n&&p.collapsible,i=h?c():this._getPanelForTab(j),m=k.length?this._getPanelForTab(k):c(),o={oldTab:k,oldPanel:m,newTab:h?c():j,newPanel:i};g.preventDefault(),j.hasClass("ui-state-disabled")||j.hasClass("ui-tabs-loading")||this.running||n&&!p.collapsible||this._trigger("beforeActivate",g,o)===!1||(p.active=!h&&this.tabs.index(j),this.active=n?c():j,this.xhr&&this.xhr.abort(),m.length||i.length||c.error("jQuery UI Tabs: Mismatching fragment identifier."),i.length&&this.load(this.tabs.index(j),g),this._toggle(g,o))},_toggle:function(m,l){function i(){k.running=!1,k._trigger("activate",m,l)}function h(){k._addClass(l.newTab.closest("li"),"ui-tabs-active","ui-state-active"),g.length&&k.options.show?k._show(g,k.options.show,i):(g.show(),i())}var k=this,g=l.newPanel,j=l.oldPanel;this.running=!0,j.length&&this.options.hide?this._hide(j,this.options.hide,function(){k._removeClass(l.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),h()}):(this._removeClass(l.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),j.hide(),h()),j.attr("aria-hidden","true"),l.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),g.length&&j.length?l.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===c(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr("aria-hidden","false"),l.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(h){var g,i=this._findActive(h);i[0]!==this.active[0]&&(i.length||(i=this.active),g=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:g,currentTarget:g,preventDefault:c.noop}))},_findActive:function(g){return g===!1?c():this.tabs.eq(g)},_getIndex:function(g){return"string"==typeof g&&(g=this.anchors.index(this.anchors.filter("[href$='"+c.ui.escapeSelector(g)+"']"))),g},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){c.data(this,"ui-tabs-destroy")?c(this).remove():c(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var g=c(this),h=g.data("ui-tabs-aria-controls");h?g.attr("aria-controls",h).removeData("ui-tabs-aria-controls"):g.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(g){var h=this.options.disabled;h!==!1&&(void 0===g?h=!1:(g=this._getIndex(g),h=c.isArray(h)?c.map(h,function(i){return i!==g?i:null}):c.map(this.tabs,function(i,j){return j!==g?j:null})),this._setOptionDisabled(h))},disable:function(g){var h=this.options.disabled;if(h!==!0){if(void 0===g){h=!0}else{if(g=this._getIndex(g),c.inArray(g,h)!==-1){return}h=c.isArray(h)?c.merge([g],h).sort():[g]}this._setOptionDisabled(h)}},load:function(j,n){j=this._getIndex(j);var m=this,k=this.tabs.eq(j),i=k.find(".ui-tabs-anchor"),h=this._getPanelForTab(k),l={tab:k,panel:h},g=function(p,o){"abort"===o&&m.panels.stop(!1,!0),m._removeClass(k,"ui-tabs-loading"),h.removeAttr("aria-busy"),p===m.xhr&&delete m.xhr};this._isLocal(i[0])||(this.xhr=c.ajax(this._ajaxSettings(i,n,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(k,"ui-tabs-loading"),h.attr("aria-busy","true"),this.xhr.done(function(p,o,q){setTimeout(function(){h.html(p),m._trigger("load",n,l),g(q,o)},1)}).fail(function(p,o){setTimeout(function(){g(p,o)},1)})))},_ajaxSettings:function(g,j,i){var h=this;return{url:g.attr("href").replace(/#.*$/,""),beforeSend:function(l,k){return h._trigger("beforeLoad",j,c.extend({jqXHR:l,ajaxSettings:k},i))}}},_getPanelForTab:function(g){var h=c(g).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+h))}}),c.uiBackCompat!==!1&&c.widget("ui.tabs",c.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});c.ui.tabs;c.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var g=c(this).attr("title")||"";return c("<a>").text(g).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(h,i){var g=(h.attr("aria-describedby")||"").split(/\s+/);g.push(i),h.data("ui-tooltip-id",i).attr("aria-describedby",c.trim(g.join(" ")))},_removeDescribedBy:function(i){var j=i.data("ui-tooltip-id"),h=(i.attr("aria-describedby")||"").split(/\s+/),g=c.inArray(j,h);g!==-1&&h.splice(g,1),i.removeData("ui-tooltip-id"),h=c.trim(h.join(" ")),h?i.attr("aria-describedby",h):i.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=c("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=c([])},_setOption:function(g,i){var h=this;this._super(g,i),"content"===g&&c.each(this.tooltips,function(k,j){h._updateContent(j.element)})},_setOptionDisabled:function(g){this[g?"_disable":"_enable"]()},_disable:function(){var g=this;c.each(this.tooltips,function(j,i){var h=c.Event("blur");h.target=h.currentTarget=i.element[0],g.close(h,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var h=c(this);if(h.is("[title]")){return h.data("ui-tooltip-title",h.attr("title")).removeAttr("title")}}))},_enable:function(){this.disabledTitles.each(function(){var g=c(this);g.data("ui-tooltip-title")&&g.attr("title",g.data("ui-tooltip-title"))}),this.disabledTitles=c([])},open:function(h){var g=this,i=c(h?h.target:this.element).closest(this.options.items);
i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),h&&"mouseover"===h.type&&i.parents().each(function(){var j,k=c(this);k.data("ui-tooltip-open")&&(j=c.Event("blur"),j.target=j.currentTarget=this,g.close(j,!0)),k.attr("title")&&(k.uniqueId(),g.parents[this.id]={element:this,title:k.attr("title")},k.attr("title",""))}),this._registerCloseHandlers(h,i),this._updateContent(i,h))},_updateContent:function(l,k){var j,g=this.options.content,i=this,h=k?k.type:null;return"string"==typeof g||g.nodeType||g.jquery?this._open(k,l,g):(j=g.call(l[0],function(m){i._delay(function(){l.data("ui-tooltip-open")&&(k&&(k.type=h),this._open(k,l,m))})}),void (j&&this._open(k,l,j)))},_open:function(h,k,l){function j(p){m.of=p,o.is(":hidden")||o.position(m)}var g,o,n,i,m=c.extend({},this.options.position);if(l){if(g=this._find(k)){return void g.tooltip.find(".ui-tooltip-content").html(l)}k.is("[title]")&&(h&&"mouseover"===h.type?k.attr("title",""):k.removeAttr("title")),g=this._tooltip(k),o=g.tooltip,this._addDescribedBy(k,o.attr("id")),o.find(".ui-tooltip-content").html(l),this.liveRegion.children().hide(),i=c("<div>").html(o.find(".ui-tooltip-content").html()),i.removeAttr("name").find("[name]").removeAttr("name"),i.removeAttr("id").find("[id]").removeAttr("id"),i.appendTo(this.liveRegion),this.options.track&&h&&/^mouse/.test(h.type)?(this._on(this.document,{mousemove:j}),j(h)):o.position(c.extend({of:k},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(n=this.delayedShow=setInterval(function(){o.is(":visible")&&(j(m.of),clearInterval(n))},c.fx.interval)),this._trigger("open",h,{tooltip:o})}},_registerCloseHandlers:function(h,i){var g={keyup:function(j){if(j.keyCode===c.ui.keyCode.ESCAPE){var k=c.Event(j);k.currentTarget=i[0],this.close(k,!0)}}};i[0]!==this.element[0]&&(g.remove=function(){this._removeTooltip(this._find(i).tooltip)}),h&&"mouseover"!==h.type||(g.mouseleave="close"),h&&"focusin"!==h.type||(g.focusout="close"),this._on(!0,i,g)},close:function(h){var j,g=this,k=c(h?h.currentTarget:this.element),i=this._find(k);return i?(j=i.tooltip,void (i.closing||(clearInterval(this.delayedShow),k.data("ui-tooltip-title")&&!k.attr("title")&&k.attr("title",k.data("ui-tooltip-title")),this._removeDescribedBy(k),i.hiding=!0,j.stop(!0),this._hide(j,this.options.hide,function(){g._removeTooltip(c(this))}),k.removeData("ui-tooltip-open"),this._off(k,"mouseleave focusout keyup"),k[0]!==this.element[0]&&this._off(k,"remove"),this._off(this.document,"mousemove"),h&&"mouseleave"===h.type&&c.each(this.parents,function(m,l){c(l.element).attr("title",l.title),delete g.parents[m]}),i.closing=!0,this._trigger("close",h,{tooltip:j}),i.hiding||(i.closing=!1)))):void k.removeData("ui-tooltip-open")},_tooltip:function(g){var i=c("<div>").attr("role","tooltip"),h=c("<div>").appendTo(i),j=i.uniqueId().attr("id");return this._addClass(h,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(g)),this.tooltips[j]={element:g,tooltip:i}},_find:function(g){var h=g.data("ui-tooltip-id");return h?this.tooltips[h]:null},_removeTooltip:function(g){g.remove(),delete this.tooltips[g.attr("id")]},_appendTo:function(h){var g=h.closest(".ui-front, dialog");return g.length||(g=this.document[0].body),g},_destroy:function(){var g=this;c.each(this.tooltips,function(k,j){var i=c.Event("blur"),h=j.element;i.target=i.currentTarget=h[0],g.close(i,!0),c("#"+k).remove(),h.data("ui-tooltip-title")&&(h.attr("title")||h.attr("title",h.data("ui-tooltip-title")),h.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),c.uiBackCompat!==!1&&c.widget("ui.tooltip",c.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var g=this._superApply(arguments);return this.options.tooltipClass&&g.tooltip.addClass(this.options.tooltipClass),g}});c.ui.tooltip});var fluid_2_0_0=fluid_2_0_0||{},fluid=fluid||fluid_2_0_0;!function(d,f){function m(s,r,q,p){for(var n=s[q],o=0;o<p.length-1;++o){n=p[o+1](n,q)}r[q]=n}function g(r,o,n,q){for(var p=0;p<n;++p){r=q(r,o[p],p,f.makeArray(o))}return r}function a(p,o,n,t){for(var s=[],q=0;q<p.length;++q){var r=g(p[q],o,n,t[q]);void 0!==r&&s.push(r)}return s}f.version="Infusion 2.0.0",f.Error=Error,f.environment={fluid:f},f.global=f.global||"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},f.invokeLater=function(n){return setTimeout(n,1)},f.defeatLogging=!0,f.activityTracing=!1,f.activityTrace=[];var l=/(%\w+)/g;f.renderOneActivity=function(t,n){for(var s=n===!0?[]:["    while "],r=t.message,p=l.lastIndex=0;;){var o=l.exec(r);if(!o){break}var q=o[1].substring(1);s.push(r.substring(p,o.index)),s.push(t.args[q]),p=l.lastIndex}return p<r.length&&s.push(r.substring(p)),s},f.renderActivity=function(o,n){return n=n||f.renderOneActivity,f.transform(o,n)},f.singleThreadLocal=function(o){var n=o();return function(p){return void 0===p?n:n=p}},f.threadLocal=f.singleThreadLocal,f.globalThreadLocal=f.threadLocal(function(){return{}}),f.getActivityStack=function(){var n=f.globalThreadLocal();return n.activityStack||(n.activityStack=[]),n.activityStack},f.describeActivity=f.getActivityStack,f.logActivity=function(n){n=n||f.describeActivity();var o=f.renderActivity(n).reverse();f.log("Current activity: "),f.each(o,function(p){f.doLog(p)})},f.pushActivity=function(p,q,o){var n={type:p,message:q,args:o,time:(new Date).getTime()};f.activityTracing&&f.activityTrace.push(n),f.passLogLevel(f.logLevel.TRACE)&&f.doLog(f.renderOneActivity(n,!0));var r=f.getActivityStack();r.push(n)},f.popActivity=function(o){o=o||1,f.activityTracing&&f.activityTrace.push({pop:o});var p=f.getActivityStack(),n=p.length-o;p.length=n<0?0:n},f.FluidError=function(){var n=Error.apply(this,arguments);this.message=n.message;try{throw n}catch(n){this.stack=n.stack}return this},f.FluidError.prototype=Object.create(Error.prototype),f.logFailure=function(n,o){f.log.apply(null,[f.logLevel.FAIL,"ASSERTION FAILED: "].concat(n)),f.logActivity(o)},f.renderLoggingArg=function(n){return f.isPrimitive(n)||!f.isPlainObject(n)?n:JSON.stringify(n)},f.builtinFail=function(n){var o=f.transform(n,f.renderLoggingArg).join("");throw new f.FluidError("Assertion failure - check console for more details: "+o)},f.fail=function(){var n=f.makeArray(arguments),o=f.makeArray(f.describeActivity());f.popActivity(o.length),f.failureEvent?f.failureEvent.fire(n,o):(f.logFailure(n,o),f.builtinFail(n,o))},f.expect=function(o,p,n){f.transform(f.makeArray(n),function(q){"undefined"==typeof p[q]&&f.fail(o+" missing required parameter "+q)})},f.isLogging=function(){return b[0].priority>f.logLevel.IMPORTANT.priority},f.isLogLevel=function(n){return f.isMarker(n)&&void 0!==n.priority},f.passLogLevel=function(n){return n.priority<=b[0].priority},f.setLogging=function(o){var n;"boolean"==typeof o?n=f.logLevel[o?"INFO":"IMPORTANT"]:f.isLogLevel(o)?n=o:f.fail("Unrecognised fluid logging level ",o),b.unshift(n),f.defeatLogging=!f.isLogging()},f.setLogLevel=f.setLogging,f.popLogging=function(){var n=1===b.length?b[0]:b.shift();return f.defeatLogging=!f.isLogging(),n},f.doLog=function(n){"undefined"!=typeof console&&(console.debug?console.debug.apply(console,n):"function"==typeof console.log&&console.log.apply(console,n))},f.log=function(){var q=f.makeArray(arguments),n=f.logLevel.INFO;if(f.isLogLevel(q[0])&&(n=q.shift()),f.passLogLevel(n)){var p=f.renderTimestamp(new Date)+":  ",o=[p].concat(q);f.doLog(o)}},f.isValue=function(n){return void 0!==n&&null!==n},f.isPrimitive=function(n){var o=typeof n;return !n||"string"===o||"boolean"===o||"number"===o||"function"===o},f.isArrayable=function(n){return n&&(n.jquery||"[object Array]"===Object.prototype.toString.call(n))},f.isPlainObject=function(o,n){var p=Object.prototype.toString.call(o);return"[object Array]"===p?!n:"[object Object]"===p&&(!o.constructor||!o.constructor.prototype||Object.prototype.hasOwnProperty.call(o.constructor.prototype,"isPrototypeOf"))},f.typeCode=function(n){return f.isPrimitive(n)||!f.isPlainObject(n)?"primitive":f.isArrayable(n)?"array":"object"},f.isIoCReference=function(n){return"string"==typeof n&&"{"===n.charAt(0)&&n.indexOf("}")>0},f.isDOMNode=function(n){return n&&"number"==typeof n.nodeType},f.isComponent=function(n){return n&&n.constructor===f.componentConstructor},f.isUncopyable=function(n){return f.isPrimitive(n)||!f.isPlainObject(n)},f.isApplicable=function(n){return n.apply&&"function"==typeof n.apply},f.identity=function(n){return n},f.notImplemented=function(){f.fail("This operation is not implemented")},f.firstDefined=function(o,n){return void 0===o?n:o},f.freshContainer=function(n){return f.isArrayable(n)?[]:{}},f.copyRecurse=function(o,n){return n.length>f.strategyRecursionBailout&&f.fail("Runaway recursion encountered in fluid.copy - reached path depth of "+f.strategyRecursionBailout+" via path of "+n.join(".")+"this object is probably circularly connected. Either adjust your object structure to remove the circularity or increase fluid.strategyRecursionBailout"),f.isUncopyable(o)?o:f.transform(o,function(r,p){n.push(p);var q=f.copyRecurse(r,n);return n.pop(),q})},f.copy=function(n){return f.copyRecurse(n,[])},f.extend=d.extend,f.makeArray=function(n){var p=[];if(null!==n&&void 0!==n){if(f.isPrimitive(n)||"number"!=typeof n.length){p.push(n)}else{for(var o=0;o<n.length;++o){p[o]=n[o]}}}return p},f.pushArray=function(n,q,o){var p=n[q]?n[q]:n[q]=[];f.isArrayable(o)?p.push.apply(p,o):p.push(o)},f.transform=function(q){if(f.isPrimitive(q)){return q}var p=f.freshContainer(q);if(f.isArrayable(q)){for(var o=0;o<q.length;++o){m(q,p,o,arguments)}}else{for(var n in q){m(q,p,n,arguments)}}return p},f.each=function(q,p){if(f.isArrayable(q)){for(var o=0;o<q.length;++o){p(q[o],o)}}else{for(var n in q){p(q[n],n)}}},f.make_find=function(o){var n=!o&&void 0;return function(u,t,p){var q;if(f.isArrayable(u)){for(var s=0;s<u.length;++s){if(q=t(u[s],s),q!==n){return o?u[s]:q
}}}else{for(var r in u){if(q=t(u[r],r),q!==n){return o?u[r]:q}}}return p}},f.find=f.make_find(!1),f.find_if=f.make_find(!0),f.accumulate=function(q,p,n){for(var o=0;o<q.length;++o){n=p(q[o],n,o)}return n},f.add=function(o,n){return o+n},f.remove_if=function(q,p,r){if(f.isArrayable(q)){for(var o=q.length-1;o>=0;--o){p(q[o],o)&&(r&&r.unshift(q[o]),q.splice(o,1))}}else{for(var n in q){p(q[n],n)&&(r&&(r[n]=q[n]),delete q[n])}}return r||q},f.generate=function(s,r,q){for(var p=[],o=0;o<s;++o){p[o]=q?r(o):r}return p},f.iota=function(p,q){q=q||0;for(var o=[],n=0;n<p;++n){o[o.length]=q++}return o},f.getMembers=function(o,n){return f.transform(o,function(p){return f.get(p,n)})},f.filterKeys=function(p,o,n){return f.remove_if(d.extend({},p),function(r,q){return n^o.indexOf(q)===-1})},f.censorKeys=function(n,o){return f.filterKeys(n,o,!0)},f.makeFlatten=function(n){return function(p){var o=[];return f.each(p,function(){o.push(arguments[n])}),o}},f.keys=f.makeFlatten(1),f.values=f.makeFlatten(0),f.contains=function(o,n){return o?f.isArrayable(o)?o.indexOf(n)!==-1:f.find(o,function(p){if(n===p){return !0}}):void 0},f.keyForValue=function(o,n){return f.find(o,function(p,q){if(n===p){return q}})},f.arrayToHash=function(o){var n={};return f.each(o,function(p){n[p]=!0}),n},f.stableSort=function(r,q){for(var p=0;p<r.length;p++){var o,n=r[p];for(o=p;o>0&&q(n,r[o-1])<0;o--){r[o]=r[o-1]}r[o]=n}},f.hashToArray=function(q,n,p){var o=[];return f.each(q,function(s,r){var t={};t[n]=r,p?t=p(t,s,r)||t:d.extend(!0,t,s),o.push(t)}),o},f.flatten=function(o){var n=[];return f.each(o,function(p){f.isArrayable(p)?n=n.concat(p):n.push(p)}),n},f.clear=function(o){if(f.isArrayable(o)){o.length=0}else{for(var n in o){delete o[n]}}},f.compareStringLength=function(n){return n?function(p,o){return p.length-o.length}:function(p,o){return o.length-p.length}},f.parseInteger=function(n){return isFinite(n)&&n%1===0?Number(n):NaN},f.freezeRecursive=function(n){return f.isPlainObject(n)?(f.each(n,function(o){f.freezeRecursive(o)}),Object.freeze(n)):n},f.marker=function(){},f.makeMarker=function(p,n){var o=Object.create(f.marker.prototype);return o.value=p,d.extend(o,n),Object.freeze(o)},f.VALUE=f.makeMarker("VALUE"),f.NO_VALUE=f.makeMarker("NO_VALUE"),f.EXPAND=f.makeMarker("EXPAND"),f.isMarker=function(n,o){return n instanceof f.marker&&(!o||n.value===o.value)},f.logLevelsSpec={FATAL:0,FAIL:5,WARN:10,IMPORTANT:12,INFO:15,TRACE:20},f.logLevel=f.transform(f.logLevelsSpec,function(o,n){return f.makeMarker(n,{priority:o})});var b=[f.logLevel.IMPORTANT];f.model={},f.model.copyModel=function(o,n){f.clear(o),d.extend(!0,o,n)},f.model.parseEL=function(n){return""===n?[]:String(n).split(".")},f.model.composePath=function(n,o){return""===n?o:""===o?n:n+"."+o},f.model.composeSegments=function(){return f.makeArray(arguments).join(".")},f.lastDotIndex=function(n){return n.lastIndexOf(".")},f.model.getToTailPath=function(o){var n=f.lastDotIndex(o);return n===-1?"":o.substring(0,n)},f.model.getTailPath=function(o){var n=f.lastDotIndex(o);return o.substring(n+1)},f.path=f.model.composeSegments,f.composePath=f.model.composePath,f.requireDataBinding=function(){f.fail("Please include DataBinding.js in order to operate complex model accessor configuration")},f.model.setWithStrategy=f.model.getWithStrategy=f.requireDataBinding,f.model.resolvePathSegment=function(n,p,o,q){return !q&&n.resolvePathSegment?n.resolvePathSegment(p):o&&void 0===n[p]?n[p]={}:n[p]},f.model.parseToSegments=function(n,o,p){return"number"==typeof n||"string"==typeof n?o(n):p?f.makeArray(n):n},f.model.pathToSegments=function(o,n){var p=n&&n.parser?n.parser.parse:f.model.parseEL;return f.model.parseToSegments(o,p)},f.model.accessImpl=function(u,t,o,q,s,n,v){var p=f.model.pathToSegments(t,q),w=0;s&&(w=s.length,p=s.concat(p));var r=o===f.NO_VALUE?0:1;return u=v(u,p,w,q,r),o===f.NO_VALUE||o===f.VALUE?n?{root:u,segs:p}:u:void (u[p[p.length-1]]=o)},f.model.accessSimple=function(o,q,r,n,p,s){return f.model.accessImpl(o,q,r,n,p,s,f.model.traverseSimple)},f.model.traverseSimple=function(t,n,v,p,r){for(var u=p,o=n.length-r,q=0;q<o;++q){if(!t){return t}var s=n[q];t=p&&p[s]?p[s]:f.model.resolvePathSegment(t,s,1===r,u),p=null}return t},f.model.setSimple=function(o,q,r,n,p){f.model.accessSimple(o,q,r,n,p,!1)},f.model.getSimple=function(o,q,n,p){return null===q||void 0===q||0===q.length?o:f.model.accessSimple(o,q,f.NO_VALUE,n,p,!1)},f.getImmediate=function(p,o,r){for(var n=void 0===r?o.length:r+1,q=0;q<n;++q){p=p?p[o[q]]:void 0}return p},f.decodeAccessorArg=function(n){return n&&n!==f.model.defaultGetConfig&&n!==f.model.defaultSetConfig?"environment"===n.type?n.value:void 0:null},f.set=function(n,r,s,o,q){var p=f.decodeAccessorArg(o);void 0===p?f.model.setWithStrategy(n,r,s,o,q):f.model.setSimple(n,r,s,p,q)},f.get=function(n,r,o,q){var p=f.decodeAccessorArg(o);return void 0===p?f.model.getWithStrategy(n,r,o,q):f.model.accessImpl(n,r,f.NO_VALUE,p,null,!1,f.model.traverseSimple)},f.getGlobalValue=function(o,n){if(o){return n=n||f.environment,f.get(f.global,o,{type:"environment",value:n})}},f.bind=function(o,p,n){return o[p].apply(o,f.makeArray(n))},f.invokeGlobalFunction=function(o,p,n){var q=f.getGlobalValue(o,n);return q?q.apply(null,f.isArrayable(p)?p:f.makeArray(p)):void f.fail("Error invoking global function: "+o+" could not be located")},f.registerGlobalFunction=function(n,p,o){o=o||f.environment,f.set(f.global,n,p,{type:"environment",value:o})},f.setGlobalValue=f.registerGlobalFunction,f.registerNamespace=function(p,n){n=n||f.environment;var o=f.getGlobalValue(p,n);return o||(o={},f.setGlobalValue(p,o,n)),o},f.dumpEl=f.identity,f.renderTimestamp=f.identity,f.generateUniquePrefix=function(){return Math.floor(1000000000000*Math.random()).toString(36)+"-"};var i=f.generateUniquePrefix();f.fluidInstance=i;var j=1;f.allocateGuid=function(){return i+j++},f.registerNamespace("fluid.event"),f.extremePriority=4000000000,f.priorityTypes={first:-1,last:1,before:0,after:0},f.extremalPriorities={none:0,testing:10,authoring:20},f.parsePriorityConstraint=function(s,q,o){var n=s.split(":"),p=n[0],r=f.priorityTypes[p];return void 0===r&&f.fail("Invalid constraint type in priority field "+s+": the only supported values are "+f.keys(f.priorityTypes).join(", ")+" or numeric"),q&&0===r&&f.fail("Constraint type in priority field "+s+" is not supported in a "+o+" record - you must use either a numeric value or first, last"),{type:n[0],target:n[1]}},f.parsePriority=function(o,r,p,n){o=o||0;var q={count:r||0,fixed:null,constraint:null,site:n};"number"==typeof o?q.fixed=-o:q.constraint=f.parsePriorityConstraint(o,p,n);var u=q.constraint?f.priorityTypes[q.constraint.type]:0;if(0!==u){var s=q.constraint.target||"none",t=f.extremalPriorities[s];void 0===t&&f.fail("Unrecognised extremal priority target "+s+": the currently supported values are "+f.keys(f.extremalPriorities).join(", ")+": register your value in fluid.extremalPriorities"),q.fixed=u*(f.extremePriority+t)}return null!==q.fixed&&(q.fixed+=q.count/1024),q},f.renderPriority=function(n){return n.constraint?n.constraint.target?n.constraint.type+":"+n.constraint.target:n.constraint.type:Math.floor(n.fixed)},f.compareByPriority=function(o,n){return null!==o.priority.fixed&&null!==n.priority.fixed?o.priority.fixed-n.priority.fixed:(null===o.priority.fixed)-(null===n.priority.fixed)},f.honourConstraint=function(q,v,s){var n=q[s].priority.constraint,t=f.find(q,function(x,w){return x.namespace===n.target?w:void 0},-1);if(t===-1){return !0}if(t>=v){return !1}for(var p="after"===n.type?1:0,r=t+p,u=q[s],o=s;o>=r;--o){q[o]=q[o-1]}return q[r]=u,!0},f.sortByPriority=function(s){f.stableSort(s,f.compareByPriority);for(var o=f.find(s,function(u,t){return u.priority.constraint&&0===f.priorityTypes[u.priority.constraint.type]?t:void 0},s.length);;){if(o===s.length){return s}for(var n=o,r=o;r<s.length;++r){var p=f.honourConstraint(s,o,r);p&&++o}if(o===n){var q=s.slice(o);f.fail("Could not find targets for any constraints in "+q[0].priority.site+" ",q,": none of the targets ("+f.getMembers(q,"priority.constraint.target").join(", ")+") matched any namespaces of the elements in (",s.slice(0,o),") - this is caused by either an invalid or circular reference")}}},f.parsePriorityRecords=function(n,o){var p=f.hashToArray(n,"namespace",function(s,r,q){d.extend(s,r),s.priority=f.parsePriority(r.priority,q,!1,o)});return f.sortByPriority(p),p},f.event.identifyListener=function(o,n){return"string"==typeof o||o.$$fluid_guid||n||(o.$$fluid_guid=f.allocateGuid()),o.$$fluid_guid},f.event.impersonateListener=function(o,n){f.event.identifyListener(o),n.$$fluid_guid=o.$$fluid_guid},f.event.sortListeners=function(n){var o=[];return f.each(n,function(r){for(var s,q=0;q<r.length;++q){var p=r[q];p.softNamespace||s||(s=p)}s?o.push(s):o=o.concat(r)}),f.sortByPriority(o)},f.event.resolveListener=function(o){var n=o.globalName||("string"==typeof o?o:null);if(n){var p=f.getGlobalValue(n);p?o=p:f.fail("Unable to look up name "+n+" as a global function")}return o},f.nameComponent=function(n){return n?"component with typename "+n.typeName+" and id "+n.id:"[unknown component]"},f.event.nameEvent=function(o,n){return n+" of "+f.nameComponent(o)},f.makeEventFirer=function(o){o=o||{};var p,n=o.name||"<anonymous>",q=function(){p.listeners={},p.byId={},p.sortedListeners=[],p.addListener=function(w,u,s,x,t){var r;if(p.destroyed&&f.fail("Cannot add listener to destroyed event firer "+p.name),w){f.isPlainObject(w,!0)&&!f.isApplicable(w)&&(r=w,w=r.listener,u=r.namespace,s=r.priority,x=r.softNamespace,t=r.listenerId),"string"==typeof w&&(w={globalName:w});var y=t||f.event.identifyListener(w);u=u||y,r=d.extend(r||{},{namespace:u,listener:w,softNamespace:x,listenerId:t,priority:f.parsePriority(s,p.sortedListeners.length,!1,"listeners")}),p.byId[y]=r;var v=p.listeners[u]=f.makeArray(p.listeners[u]);v[x?"push":"unshift"](r),p.sortedListeners=f.event.sortListeners(p.listeners)}},p.addListener.apply(null,arguments)};return p={eventId:f.allocateGuid(),name:n,ownerId:o.ownerId,typeName:"fluid.event.firer",destroy:function(){p.destroyed=!0
},addListener:function(){q.apply(null,arguments)},removeListener:function(t){if(p.listeners){var s,w,r;"string"==typeof t?(s=t,r=p.listeners[s],r||(w=s,s=null)):"function"==typeof t&&(w=f.event.identifyListener(t,!0),w||f.fail("Cannot remove unregistered listener function ",t," from event "+p.name));var v=p.byId[w],u=v&&v.softNamespace;s=s||v&&v.namespace||w,delete p.byId[w],r=p.listeners[s],r&&(u?f.remove_if(r,function(x){return x.listener.$$fluid_guid===w||x.listenerId===w}):r.shift(),0===r.length&&delete p.listeners[s]),p.sortedListeners=f.event.sortListeners(p.listeners)}},fire:function(){var u=p.sortedListeners;if(u&&!p.destroyed){f.log(f.logLevel.TRACE,"Firing event "+n+" to list of "+u.length+" listeners");for(var t=0;t<u.length;++t){var r=u[t];r.listener=f.event.resolveListener(r.listener);var w,v=r.listener,s=v.apply(null,arguments);if((o.preventable&&s===!1||p.destroyed)&&(w=!1),void 0!==w){return w}}}}}},f.fireEvent=function(p,n,o){var q=p.events[n];q&&q.fire.apply(null,f.makeArray(o))},f.event.addListenerToFirer=function(p,q,o,r){if(r=r||f.identity,f.isArrayable(q)){for(var n=0;n<q.length;++n){f.event.addListenerToFirer(p,q[n],o,r)}}else{"function"==typeof q||"string"==typeof q?r(p).addListener(q,o):q&&"object"==typeof q&&r(p).addListener(q.listener,o||q.namespace,q.priority,q.softNamespace,q.listenerId)}},f.event.resolveListenerRecord=function(n){return{records:n}},f.expandImmediate=function(n){f.fail("fluid.expandImmediate could not be loaded - please include FluidIoC.js in order to operate IoC-driven event with descriptor "+n)},f.mergeListeners=function(p,n,o){f.each(o,function(u,r){var t,s;if(f.isIoCReference(r)){t=f.expandImmediate(r,p),t||f.fail("Error in listener record: key "+r+' could not be looked up to an event firer - did you miss out "events." when referring to an event firer?')}else{var v=r.indexOf(".");v!==-1&&(s=r.substring(v+1),r=r.substring(0,v)),n[r]||f.fail("Listener registered for event "+r+" which is not defined for this component"),t=n[r]}var q=f.event.resolveListenerRecord(u,p,r,s,!0);f.event.addListenerToFirer(t,q.records,s,q.adderWrapper)})},f.eventFromRecord=function(n,o,q){var p,r=n&&("string"!=typeof n||f.isIoCReference(n));return r?f.event.resolveEvent?p=f.event.resolveEvent(q,o,n):f.fail("fluid.event.resolveEvent could not be loaded - please include FluidIoC.js in order to operate IoC-driven event with descriptor ",n):p=f.makeEventFirer({name:f.event.nameEvent(q,o),preventable:"preventable"===n,ownerId:q.id}),p},f.instantiateFirers=function(o,n){f.each(n.events,function(p,q){o.events[q]=f.eventFromRecord(p,q,o)})},f.mergeListenerPolicy=function(q,p,o){"string"!=typeof o&&f.fail("Error in listeners declaration - the keys in this structure must resolve to event names - got "+o+" from ",p);var n=!f.isIoCReference(o)&&o.indexOf(".")!==-1;return n?p||q:f.arrayConcatPolicy(q,p)},f.makeMergeListenersPolicy=function(o,n){return function(q,p){return q=q||{},n&&(f.isArrayable(p)||"string"==typeof p.target)?q[""]=o(q[""],p,""):f.each(p,function(s,r){q[r]=o(q[r],s,r)}),q}},f.validateListenersImplemented=function(n){var o=[];return f.each(n.events,function(q,p){f.each(q.sortedListeners,function(r){r.listener!==f.notImplemented&&"fluid.notImplemented"!==r.listener.globalName||o.push({name:p,namespace:r.namespace,componentSource:f.model.getSimple(n.options.listeners,[p+"."+r.namespace,0,"componentSource"])})})}),o},f.unique=function(n){return f.remove_if(n,function(p,o){return !p||o>0&&p===n[o-1]})},f.arrayConcatPolicy=function(o,n){return f.makeArray(o).concat(f.makeArray(n))},f.failureEvent=f.makeEventFirer({name:"failure event"}),f.failureEvent.addListener(f.builtinFail,"fail"),f.failureEvent.addListener(f.logFailure,"log","before:fail"),f.pushSoftFailure=function(n){"function"==typeof n?f.failureEvent.addListener(n,"fail"):n===-1?f.failureEvent.removeListener("fail"):"boolean"==typeof n&&f.fail("pushSoftFailure with boolean value is no longer supported")},f.componentConstructor=function(){},f.typeTag=function(n){var o=Object.create(f.componentConstructor.prototype);return o.typeName=n,o.id=f.allocateGuid(),o};var e=1,c={};f.defaultsStore={},f.resolveGradesImpl=function(p,n){n=f.makeArray(n);for(var r=n.length-1;r>=0;--r){var o=n[r];if(o&&!p.gradeHash[o]){var t=f.isIoCReference(o),v=(t?null:f.rawDefaults(o))||{},s=c[o]||e-1;p.lastTick=Math.max(p.lastTick,s),p.gradeHash[o]=!0,p.gradeChain.push(o);for(var u=f.makeArray(v.gradeNames),q=u.length-1;q>=0;--q){f.resolveGradesImpl(p,u[q])}}}return p},f.resolveGradeStructure=function(p,n){var o={lastTick:0,gradeChain:[],gradeHash:{}};return f.resolveGradesImpl(o,[p].concat(f.makeArray(n))),o.gradeChain.reverse(),o},f.hasGrade=function(n,o){return !(!n||!n.gradeNames)&&f.contains(n.gradeNames,o)},f.resolveGrade=function(t,s,o){var r=f.resolveGradeStructure(s,o),u=f.transform(r.gradeChain,f.rawDefaults,f.copy);f.remove_if(u,function(v){return !v});for(var q={},p=0;p<u.length;++p){u[p]&&u[p].mergePolicy&&(q=d.extend(!0,q,u[p].mergePolicy))}u=[q,{}].concat(u);var n=f.merge.apply(null,u);return n.gradeNames=r.gradeChain,f.freezeRecursive(n),{defaults:n,lastTick:r.lastTick}},f.mergedDefaultsCache={},f.gradeNamesToKey=function(o,n){return o+"|"+n.join("|")},f.getMergedDefaults=function(t,o){o=f.makeArray(o);var r=f.gradeNamesToKey(t,o),n=f.mergedDefaultsCache[r];if(n){for(var q=0,u=n.defaults.gradeNames||[],p=0;p<u.length;++p){q=Math.max(q,c[u[p]]||0)}q>n.lastTick&&(f.log(f.logLevel.TRACE,"Clearing cache for component "+t+" with gradeNames ",u),n=null)}if(!n){var s=f.rawDefaults(t);if(!s){return s}n=f.mergedDefaultsCache[r]=f.resolveGrade(s,t,o)}return n.defaults},f.upgradePrimitiveFunc=function(p,n){if(p&&f.isPrimitive(p)){var o={};return o[n||("string"==typeof p&&"{"!==p.charAt(0)?"funcName":"func")]=p,o.args=f.NO_VALUE,o}return p},f.annotateListeners=function(n,o){o.listeners=f.transform(o.listeners,function(p){var q=f.makeArray(p);return f.transform(q,function(r){return r=f.upgradePrimitiveFunc(r,"listener"),r.componentSource=n,r})}),o.invokers=f.transform(o.invokers,function(p){return p=f.upgradePrimitiveFunc(p),p&&(p.componentSource=n),p})},f.rawDefaults=function(n){var o=f.defaultsStore[n];return o&&o.options},f.registerRawDefaults=function(o,p){f.pushActivity("registerRawDefaults","registering defaults for grade %componentName with options %options",{componentName:o,options:p});var n=f.expandCompact?f.expandCompact(p):f.copy(p);f.annotateListeners(o,n);var q=f.getCallerInfo&&f.getCallerInfo(6);f.defaultsStore[o]={options:n,callerInfo:q},c[o]=e++,f.popActivity()},f.doIndexDefaults=function(t,o,r,s){for(var u=f.makeArray(s.gradeNames),q=0;q<u.length;++q){if(!f.hasGrade(o,u[q])){return}}for(var n="function"==typeof s.indexFunc?s.indexFunc:f.getGlobalValue(s.indexFunc),v=n(o)||[],p=0;p<v.length;++p){f.pushArray(r,v[p],t)}},f.indexDefaults=function(r,q){var n={};for(var p in f.defaultsStore){var o=f.getMergedDefaults(p);f.doIndexDefaults(p,o,n,q)}return n},f.defaults=function(o,p){if(void 0===p){return f.getMergedDefaults(o)}p&&p.options&&f.fail("Probable error in options structure for "+o+' with option named "options" - perhaps you meant to write these options at top level in fluid.defaults? - ',p),f.registerRawDefaults(o,p);var n=f.getMergedDefaults(o);f.hasGrade(n,"fluid.function")||f.makeComponentCreator(o)},f.makeComponentCreator=function(n){var o=function(){var t=f.getMergedDefaults(n);if(t.gradeNames&&0!==t.gradeNames.length){if(t.initFunction){return f.initComponent(n,arguments)}for(var r=[],s=0;s<t.gradeNames.length;++s){var u=t.gradeNames[s],q=f.rawDefaults(u);q||r.push(u)}0===r.length?f.fail("Cannot make component creator for type "+n+" which does not have an initFunction defined"):f.fail("The grade hierarchy of component with type "+n+" is incomplete - it inherits from the following grade(s): "+r.join(", ")+" for which the grade definitions are corrupt or missing. Please check the files which might include these grades and ensure they are readable and have been loaded by this instance of Infusion")}else{f.fail("Cannot make component creator for type "+n+" which does not have any gradeNames defined")}},p=f.getGlobalValue(n);p&&d.extend(o,p),f.setGlobalValue(n,o)},f.emptyPolicy=f.freezeRecursive({}),f.derefMergePolicy=function(n){return(n?n["*"]:f.emptyPolicy)||f.emptyPolicy},f.compileMergePolicy=function(o){var q={},p={},n={builtins:q,defaultValues:p};return o?(f.each(o,function(w,u){var r={},v=!0;if("function"==typeof w){r.func=w}else{if("object"==typeof w){r=w}else{if(f.isDefaultValueMergePolicy(w)){f.set(p,u,"{that}.options."+w),n.hasDefaults=!0,v=!1}else{for(var t=w.split(/\s*,\s*/),s=0;s<t.length;++s){r[t[s]]=!0}}}}v&&f.set(q,f.composePath(u,"*"),r)}),n):n},f.isDefaultValueMergePolicy=function(n){return"string"==typeof n&&n.indexOf(",")===-1&&!/replace|nomerge|noexpand/.test(n)},f.mergeOneImpl=function(v,r,s,n,u,t,p){var q=v,o=f.isPrimitive(v);return void 0!==r&&(u.func||null===r||!f.isPlainObject(r)||u.nomerge?(n[s]=void 0,q=u.func?u.func.call(null,v,r,p[t-1],p,t):r):o&&(q=v=f.freshContainer(r))),q},f.fetchMergeChildren=function(t,r,p,o,s,v){for(var u=f.derefMergePolicy(s),q=o.length-1;q>=0;--q){var n=o[q];if(void 0!==n&&(f.each(n,function(x,w){var y=f.concreteTrundler(s,w);w in t&&(!v.evaluateFully||void 0!==y||f.isPrimitive(t[w]))||(p[r]=w,v.strategy(t,w,r+1,p,o,s))}),u.replace)){break}}return t},f.inEvaluationMarker=Object.freeze({__CURRENTLY_IN_EVALUATION__:!0}),f.strategyRecursionBailout=50,f.makeMergeStrategy=function(n){var o=function(B,q,A,t,p,D){if(A>f.strategyRecursionBailout&&f.fail("Overflow/circularity in options merging, current path is ",t," at depth ",A,' - please protect components from merging using the "nomerge" merge policy'),!f.isPrimitive(B)){f.isTracing&&f.tracing.pathCount.push(f.path(t.slice(0,A)));var C;if(q in B){if(C=B[q],!n.evaluateFully){return C}}else{B!==f.inEvaluationMarker&&(B[q]=f.inEvaluationMarker)}void 0===p&&(t=f.makeArray(t),p=a(n.sources,t,A-1,n.sourceStrategies),D=g(n.mergePolicy,t,A-1,f.concreteTrundler));
var s,y,v,u=f.concreteTrundler(D,q),E=f.derefMergePolicy(u);E.replace?(s=1-p.length,y=0,v=-1):(s=0,y=p.length-1,v=1);for(var F,r=[],z=s;z<=y;++z){var x=v*z,w=n.sourceStrategies[x](p[x],q,A,t);if(void 0!==w&&(f.isPrimitive(w)||(r[x]=w),void 0===C)){if(v===-1){F=B[q]=w;break}F=f.mergeOneImpl(F,w,z,r,E,A,t,n),B!==f.inEvaluationMarker&&(B[q]=F)}}return void 0!==C&&(F=C),r.length>0&&f.isPlainObject(F)&&f.fetchMergeChildren(F,A,t,r,u,n),void 0===C&&0===r.length&&delete B[q],F}};return n.strategy=o,o},f.driveStrategy=function(n,o,q){o=f.makeArray(o);for(var p=0;p<o.length;++p){if(!n){return}n=q(n,o[p],p+1,o)}return n},f.concreteTrundler=function(o,n){return o?o[n]:void 0},f.merge=function(q){var o=Array.prototype.slice.call(arguments,1),p=f.compileMergePolicy(q).builtins,n=f.makeMergeOptions(p,o,{});return n.initter(),n.target},f.simpleGingerBlock=function(n,p){var o={target:n,simple:!0,strategy:f.concreteTrundler,initter:f.identity,recordType:p,priority:f.mergeRecordTypes[p]};return o},f.makeMergeOptions=function(q,o,p){var n={mergePolicy:q,sources:o};return n=d.extend(n,p),n.target=n.target||f.freshContainer(n.sources[0]),n.sourceStrategies=n.sourceStrategies||f.generate(n.sources.length,f.concreteTrundler),n.initter=function(){n.evaluateFully=!0,f.fetchMergeChildren(n.target,0,[],n.sources,n.mergePolicy,n)},f.makeMergeStrategy(n),n},f.transformOptions=function(o,p){f.expect("Options transformation record",p,["transformer","config"]);var n=f.getGlobalValue(p.transformer);return n.call(null,o,p.config)},f.findMergeBlocks=function(n,o){return f.remove_if(f.makeArray(n),function(p){return p.recordType!==o})},f.transformOptionsBlocks=function(o,p,n){f.each(n,function(r){var q=f.findMergeBlocks(o,r);f.each(q,function(t){var s=t.source?"source":"target";t[t.simple||"target"===s?"target":"source"]=f.transformOptions(t[s],p)})})},f.dedupeDistributionNamespaces=function(o){var n={};f.remove_if(o,function(q){var p=q.namespace;if(p){if(n[p]&&n[p]!==q.contextThat.id){return !0}n[p]=q.contextThat.id}})},f.deliverOptionsStrategy=f.identity,f.computeComponentAccessor=f.identity,f.computeDynamicComponents=f.identity,f.mergeRecordTypes={defaults:1000,defaultValueMerge:900,subcomponentRecord:800,user:700,distribution:100},f.model.applyChangeRequest=function(o,r){var n=r.segs;if(0===n.length){"ADD"===r.type?d.extend(!0,o,r.value):f.clear(o)}else{if("ADD"===r.type){f.model.setSimple(o,r.segs,r.value)}else{for(var p=0;p<n.length-1;++p){if(o=o[n[p]],!o){return}}var q=n[n.length-1];delete o[q]}}},f.destroyValue=function(o,n){o&&f.model.applyChangeRequest(o,{type:"DELETE",segs:n})},f.mergeComponentOptions=function(u,y,q,r){function z(){E=f.driveStrategy(p,"mergePolicy",n.strategy),E=d.extend({},f.rootMergePolicy,E),w=f.compileMergePolicy(E),d.extend(!0,v,w.builtins)}var s=f.rawDefaults(y),x=f.getMergedDefaults(y,s&&s.gradeNames?null:r.gradeNames),v={},C=[];C=f.expandComponentOptions?C.concat(f.expandComponentOptions(v,x,q,u)):C.concat([f.simpleGingerBlock(x,"defaults"),f.simpleGingerBlock(q,"user")]);var p={},A=[],o=[],D={target:p,sourceStrategies:A},t=function(){f.each(C,function(F){f.isPrimitive(F.priority)&&(F.priority=f.parsePriority(F.priority,0,!1,"options distribution"))}),f.sortByPriority(C),f.dedupeDistributionNamespaces(C),A.length=0,o.length=0,f.each(C,function(F){A.push(F.strategy),o.push(F.target)})};t();var n=f.makeMergeOptions(v,o,D);n.mergeBlocks=C,n.updateBlocks=t,n.destroyValue=function(F){for(var G=0;G<C.length;++G){f.destroyValue(C[G].target,F)}f.destroyValue(D.target,F)};var w,E;z(),n.computeMergePolicy=z,w.hasDefaults&&(f.generateExpandBlock?(C.push(f.generateExpandBlock({options:w.defaultValues,recordType:"defaultValueMerge",priority:f.mergeRecordTypes.defaultValueMerge},u,{})),t()):f.fail("Cannot operate mergePolicy ",E," for component ",u," without including FluidIoC.js")),u.options=p,f.driveStrategy(p,"gradeNames",n.strategy),f.deliverOptionsStrategy(u,p,n),f.computeComponentAccessor(u,q&&q.localRecord);var B=f.driveStrategy(p,"transformOptions",n.strategy);return B&&(f.transformOptionsBlocks(C,B,["user","subcomponentRecord"]),t()),D.target.mergePolicy||z(),n},f.defaults("fluid.function",{}),f.invokeGradedFunction=function(p,n){var q=f.defaults(p);q&&q.argumentMap&&f.hasGrade(q,"fluid.function")||f.fail("Cannot look up name "+p+" to a function with registered argumentMap - got defaults ",q);var o=[];return f.each(q.argumentMap,function(s,r){o[s]=n[r]}),f.invokeGlobalFunction(p,o)},f.noNamespaceDistributionPrefix="no-namespace-distribution-",f.mergeOneDistribution=function(q,p,n){var o=p.namespace||n||f.noNamespaceDistributionPrefix+f.allocateGuid();p.namespace=o,q[o]=d.extend(!0,{},q[o],p)},f.distributeOptionsPolicy=function(p,o){if(p=p||{},f.isArrayable(o)){for(var n=0;n<o.length;++n){f.mergeOneDistribution(p,o[n])}}else{"string"==typeof o.target?f.mergeOneDistribution(p,o):f.each(o,function(r,q){f.mergeOneDistribution(p,r,q)})}return p},f.mergingArray=function(){},f.mergingArray.prototype=[],f.membersMergePolicy=function(o,n){return o=o||{},f.each(n,function(q,p){o[p]||(o[p]=new f.mergingArray),q instanceof f.mergingArray?o[p].push.apply(o[p],q):void 0!==q&&o[p].push(q)}),o},f.invokerStrategies=f.arrayToHash(["func","funcName","listener","this","method"]),f.invokersMergePolicy=function(o,n){return o=o||{},f.each(n,function(t,p){if(!t){return void (o[p]=t)}t=f.upgradePrimitiveFunc(t);var r=o[p];r||(r=o[p]={});for(var q in f.invokerStrategies){if(q in t){for(var s in f.invokerStrategies){r[s]=void 0}}}d.extend(r,t)}),o},f.rootMergePolicy={gradeNames:f.arrayConcatPolicy,distributeOptions:f.distributeOptionsPolicy,members:{noexpand:!0,func:f.membersMergePolicy},invokers:{noexpand:!0,func:f.invokersMergePolicy},transformOptions:"replace",listeners:f.makeMergeListenersPolicy(f.mergeListenerPolicy)},f.defaults("fluid.component",{initFunction:"fluid.initLittleComponent",mergePolicy:f.rootMergePolicy,argumentMap:{options:0},events:{onCreate:null,onDestroy:null,afterDestroy:null}}),f.defaults("fluid.emptySubcomponent",{gradeNames:["fluid.component"]}),f.computeNickName=function(o){var n=f.model.parseEL(o);return n[n.length-1]},f.defaults("fluid.typeFount",{gradeNames:["fluid.component"]}),f.initLittleComponent=function(p,u,t,s){var r=f.typeTag(p);r.lifecycleStatus="constructing",t=t||{gradeNames:"fluid.component"},r.destroy=f.makeRootDestroy(r);var n=f.mergeComponentOptions(r,p,u,t);n.exceptions={members:{model:!0,modelRelay:!0}};var o=r.options;r.events={},(s||f.identity)(r,o,n.strategy),f.computeDynamicComponents(r,n);for(var q=0;q<n.mergeBlocks.length;++q){n.mergeBlocks[q].initter()}return n.initter(),delete o.mergePolicy,f.instantiateFirers(r,o),f.mergeListeners(r,r.events,o.listeners),r},f.diagnoseFailedView=f.identity,f.makeRootDestroy=function(n){return function(){f.doDestroy(n),f.fireEvent(n,"afterDestroy",[n,"",null])}},f.isDestroyed=function(n){return"destroyed"===n.lifecycleStatus},f.doDestroy=function(q,n,p){f.fireEvent(q,"onDestroy",[q,n||"",p]),q.lifecycleStatus="destroyed";for(var o in q.events){"afterDestroy"!==o&&"function"==typeof q.events[o].destroy&&q.events[o].destroy()}q.applier&&q.applier.destroy()},f.initComponent=function(n,r){var p=f.defaults(n);p.gradeNames||f.fail("Cannot initialise component "+n+" which has no gradeName registered");var q,o=[n].concat(f.makeArray(r));f.pushActivity("initComponent","constructing component of type %componentName with arguments %initArgs",{componentName:n,initArgs:r}),q=f.invokeGlobalFunction(p.initFunction,o),f.diagnoseFailedView(n,q,p,o),f.initDependents&&f.initDependents(q);var s=f.validateListenersImplemented(q);return s.length>0&&f.fail(f.transform(s,function(t){return["Error constructing component ",q," - the listener for event "+t.name+" with namespace "+t.namespace+((t.componentSource?" which was defined in grade "+t.componentSource:"")+" needs to be overridden with a concrete implementation")]})).join("\n"),"constructing"===q.lifecycleStatus&&(q.lifecycleStatus="constructed"),q.events.onCreate.fire(q),f.popActivity(),q},f.initSubcomponentImpl=function(q,p,n){var o;if("function"!=typeof p){var r="string"==typeof p?p:p.type;o="fluid.emptySubcomponent"===r?null:f.invokeGlobalFunction(r,n)}else{o=p.apply(null,n)}return o};var h="(?:[\\w\\u00c0-\\uFFFF*_-";f.simpleCSSMatcher={regexp:new RegExp("([#.]?)("+h+"]|\\\\.)+)","g"),charToTag:{"":"tag","#":"id",".":"clazz"}},f.IoCSSMatcher={regexp:new RegExp("([&#]?)("+h+"]|\\.|\\/)+)","g"),charToTag:{"":"context","&":"context","#":"id"}};var k=new RegExp("\\s*(>)?\\s*","g");f.parseSelector=function(x,s){var p=[];x=x.trim();var w=s.regexp;w.lastIndex=0;for(var v=0;;){for(var r=[],u=!0;;){var z=w.exec(x);if(!z){break}if(z.index!==v){if(!u){break}f.fail("Error in selector string - cannot match child selector expression starting at "+x.substring(v))}var t={},y=z[2],o=s.charToTag[z[1]];o&&(t[o]=y),r[r.length]=t,v=w.lastIndex,u=!1}k.lastIndex=v;var n={predList:r},q=k.exec(x);if(q&&q.index===v||f.fail("Error in selector string - can not match child selector expression at "+x.substring(v)),">"===q[1]&&(n.child=!0),p[p.length]=n,k.lastIndex>=x.length){break}v=k.lastIndex,w.lastIndex=k.lastIndex}return p},f.stringToRegExp=function(o,n){return new RegExp(o.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n)},f.stringTemplate=function(r,n){var s=f.keys(n);s=s.sort(f.compareStringLength());for(var p=0;p<s.length;++p){var o=s[p],q=f.stringToRegExp("%"+o,"g");r=r.replace(q,n[o])}return r}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.promise=function(){var c={onResolve:[],onReject:[]};return c.then=function(d,e){return d&&("resolve"===c.disposition?d(c.value):c.onResolve.push(d)),e&&("reject"===c.disposition?e(c.value):c.onReject.push(e)),c},c.resolve=function(d){return c.disposition?a.fail("Error: resolving promise ",c,' which has already received "'+c.disposition+'"'):c.complete("resolve",c.onResolve,d),c},c.reject=function(d){return c.disposition?a.fail("Error: rejecting promise ",c,'which has already received "'+c.disposition+'"'):c.complete("reject",c.onReject,d),c
},c.complete=function(g,e,d){c.disposition=g,c.value=d;for(var f=0;f<e.length;++f){e[f](d)}},c},a.isPromise=function(c){return c&&"function"==typeof c.then},a.toPromise=function(c){if(a.isPromise(c)){return c}var d=a.promise();return d.resolve(c),d},a.promise.follow=function(c,d){c.then(d.resolve,d.reject)},a.promise.map=function(e,d){var f=a.toPromise(e),c=a.promise();return f.then(function(h){var g=d(h);a.isPromise(g)?a.promise.follow(g,c):c.resolve(g)},function(g){c.reject(g)}),c},a.promise.makeSequencer=function(d,c,e){return a.isArrayable(d)||a.fail("fluid.promise sequence algorithms must be supplied an array as source"),{sources:d,resolvedSources:[],index:0,strategy:e,options:c,returns:[],promise:a.promise()}},a.promise.progressSequence=function(c,d){c.returns.push(d),c.index++,a.promise.resumeSequence(c)},a.promise.processSequenceReject=function(g,e){for(var f=g.index-1;f>=0;--f){var c=g.resolvedSources[f],d=a.isPromise(c)&&"function"==typeof c.accumulateRejectionReason?c.accumulateRejectionReason:a.identity;e=d(e)}g.promise.reject(e)},a.promise.resumeSequence=function(c){if(c.index===c.sources.length){c.promise.resolve(c.strategy.resolveResult(c))}else{var d=c.strategy.invokeNext(c);c.resolvedSources[c.index]=d,a.isPromise(d)?d.then(function(e){a.promise.progressSequence(c,e)},function(e){a.promise.processSequenceReject(c,e)}):a.promise.progressSequence(c,d)}},a.promise.makeSequenceStrategy=function(){return{invokeNext:function(c){var d=c.sources[c.index];return"function"==typeof d?d(c.options):d},resolveResult:function(c){return c.returns}}},a.promise.sequence=function(e,d){var c=a.promise.makeSequencer(e,d,a.promise.makeSequenceStrategy());return a.promise.resumeSequence(c),c.promise},a.promise.makeTransformerStrategy=function(){return{invokeNext:function(d){var c=d.sources[d.index];c.listener=a.event.resolveListener(c.listener);var e=c.listener(d.returns[d.index],d.options);return e},resolveResult:function(c){return c.returns[c.index]}}},a.promise.makeTransformer=function(e,f,d){e.unshift({listener:function(){return f}});var c=a.promise.makeSequencer(e,d,a.promise.makeTransformerStrategy());return c.returns.push(null),a.promise.resumeSequence(c),c},a.promise.filterNamespaces=function(c,d){return d?a.remove_if(a.makeArray(c),function(e){return e.namespace&&!e.softNamespace&&!a.contains(d,e.namespace)}):c},a.promise.fireTransformEvent=function(f,g,d){d=d||{};var e=d.reverse?a.makeArray(f.sortedListeners).reverse():a.makeArray(f.sortedListeners);e=a.promise.filterNamespaces(e,d.filterNamespaces);var c=a.promise.makeTransformer(e,g,d);return c.promise}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(h,f){function g(j,i){return j=h(j),j.trigger("fluid-"+i),j.triggerHandler(i),j[i](),j}f.uaMatch=function(j){j=j.toLowerCase();var i=/(chrome)[ \/]([\w.]+)/.exec(j)||/(webkit)[ \/]([\w.]+)/.exec(j)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(j)||/(msie) ([\w.]+)/.exec(j)||j.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(j)||[];return{browser:i[1]||"",version:i[2]||"0"}};var a,d;h.browser||(navigator.userAgent.match(/Trident\/7\./)?d={msie:!0,version:11}:(a=f.uaMatch(navigator.userAgent),d={},a.browser&&(d[a.browser]=!0,d.version=a.version),d.chrome?d.webkit=!0:d.webkit&&(d.safari=!0)),h.browser=d);var b="fluid-scoped-data";f.getScopedData=function(k,i){var j=h(k).data(b);return j?j[i]:void 0},f.setScopedData=function(k,i,j){h(k).each(function(){var l=h.data(this,b)||{};l[i]=j,h.data(this,b,l)})};var c=null;h(document).on("focusin",function(i){c=i.target}),f.getLastFocusedElement=function(){return c};var e="enablement";f.enabled=function(j,i){return j=h(j),void 0===i?f.getScopedData(j,e)!==!1:(h("*",j).add(j).each(function(){void 0!==f.getScopedData(this,e)?f.setScopedData(this,e,i):/select|textarea|input/i.test(this.nodeName)&&h(this).prop("disabled",!i)}),void f.setScopedData(j,e,i))},f.initEnablement=function(i){f.setScopedData(i,e,!0)},f.resolveEventTarget=function(i){for(;i.originalEvent&&i.originalEvent.target;){i=i.originalEvent}return i.target},h.each(["focus","blur"],function(k,j){f[j]=function(i){return g(i,j)}}),f.changeElementValue=function(i,j){i=h(i),i.val(j).change()}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(c,b){b.dom=b.dom||{};var a=function(d){if(d.node.firstChild){return d.node=d.node.firstChild,d.depth+=1,d}for(;d.node;){if(d.node.nextSibling){return d.node=d.node.nextSibling,d}d.node=d.node.parentNode,d.depth-=1}return d};b.dom.iterateDom=function(h,g,f){for(var i,e={node:h,depth:0},d=h;null!==e.node&&e.depth>=0&&e.depth<b.dom.iterateDom.DOM_BAIL_DEPTH;){if(i=null,(1===e.node.nodeType||f)&&(i=g(e.node,e.depth)),i){if("delete"===i){e.node.parentNode.removeChild(e.node),e.node=d}else{if("stop"===i){return e.node}}}d=e.node,e=a(e)}},b.dom.iterateDom.DOM_BAIL_DEPTH=256,b.dom.isContainer=function(d,e){for(;e;e=e.parentNode){if(d===e){return !0}}return !1},b.dom.getElementText=function(f){for(var d=f.childNodes,g="",e=0;e<d.length;++e){var h=d[e];3===h.nodeType&&(g+=h.nodeValue)}return g}}(jQuery,fluid_2_0_0),fluid_2_0_0=fluid_2_0_0||{},function(c,b){var d=/(\\u[\dabcdef]{4}|\\x[\dabcdef]{2})/g;b.unescapeProperties=function(f){f=f.replace(d,function(j){var k=j.substring(2),i=parseInt(k,16);return String.fromCharCode(i)});for(var h=0;;){var e=f.indexOf("\\",h);if(e===-1){break}if(e===f.length-1){return[f.substring(0,f.length-1),!0]}var g=f.charAt(e+1);"n"===g&&(g="\n"),"r"===g&&(g="\r"),"t"===g&&(g="\t"),f=f.substring(0,e)+g+f.substring(e+2),h=e+1}return[f,!1]};var a=/[^\\][\s:=]/;b.parseJavaProperties=function(l){var f={};l=l.replace(/\r\n/g,"\n"),l=l.replace(/\r/g,"\n");for(var m,k,e,o,j,p=l.split("\n"),g=0;g<p.length;++g){var n=c.trim(p[g]);if(n&&"#"!==n.charAt(0)&&"!"!==n.charAt(0)){if(m){j=b.unescapeProperties(n)}else{e="";var h=n.search(a);h===-1?(k=n,o=""):(k=c.trim(n.substring(0,h+1)),o=c.trim(n.substring(h+2)),":"!==o.charAt(0)&&"="!==o.charAt(0)||(o=c.trim(o.substring(1)))),k=b.unescapeProperties(k)[0],j=b.unescapeProperties(o)}m=j[1],j[1]?e+=j[0]:f[k]=e+j[0]}}return f},b.formatMessage=function(g,e){if(!e){return g}"string"==typeof e&&(e=[e]);for(var f=0;f<e.length;++f){g=g.replace("{"+f+"}",e[f])}return g}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{},fluid=fluid||fluid_2_0_0;!function(c,b){function a(j,g,o){function h(i){o.output+=i}var f=g+o.indentChars,e="function"==typeof j;if(void 0!==o.maxRenderChars&&o.output.length>o.maxRenderChars){return !0}if(null===j){h("null")}else{if(void 0===j){h("undefined")}else{if(j===b.SYNTHETIC_PROPERTY){h("[Synthetic property]")}else{if(b.isPrimitive(j)&&!e){h(JSON.stringify(j))}else{if(o.stack.indexOf(j)!==-1){return void h("(CIRCULAR)")}o.stack.push(j);var k;if(b.isArrayable(j)){if(0===j.length){h("[]")}else{for(h("[\n"+f),k=0;k<j.length;++k){if(a(j[k],f,o)){return !0}k!==j.length-1&&h(",\n"+f)}h("\n"+g+"]")}}else{h("{"+(e?" Function":"")+"\n"+f);var n=b.keys(j);for(k=0;k<n.length;++k){var m=n[k],l=b.getSafeProperty(j,m);if(h(JSON.stringify(m)+": "),a(l,f,o)){return !0}k!==n.length-1&&h(",\n"+f)}h("\n"+g+"}")}o.stack.pop()}}}}}b.renderTimestamp=function(e){var f=function(h,i){i||(i=2);var g=void 0===h?"":h.toString();return"00000".substring(5-i+g.length)+g};return f(e.getHours())+":"+f(e.getMinutes())+":"+f(e.getSeconds())+"."+f(e.getMilliseconds(),3)},b.isTracing=!1,b.registerNamespace("fluid.tracing"),b.tracing.pathCount=[],b.tracing.summarisePathCount=function(e){e=e||b.tracing.pathCount;for(var h={},g=0;g<e.length;++g){var j=e[g];h[j]?++h[j]:h[j]=1}var f=[];return b.each(h,function(i,k){f.push({path:k,count:i})}),f.sort(function(k,i){return i.count-k.count}),f},b.tracing.condensePathCount=function(g,e){g=b.makeArray(g);var h={};b.each(g,function(i){h[i]=0});var f=[];return b.each(e,function(i){var j=i.path;b.find(g,function(k){if(0===j.indexOf(k)){return h[k]+=i.count,!0}})||f.push(i)}),b.each(h,function(i,j){f.unshift({path:j,count:i})}),f},b.detectStackStyle=function(g){var f="other",h={offset:0};return g.arguments?f="chrome":"undefined"!=typeof window&&window.opera&&g.stacktrace?f="opera10":g.stack?(f="firefox",h.offset=g.stack.indexOf("Trace exception")===-1?1:0):"undefined"==typeof window||!window.opera||"stacktrace" in g||(f="opera"),h.style=f,h},b.obtainException=function(){try{throw new Error("Trace exception")}catch(f){return f}};var d=b.detectStackStyle(b.obtainException());b.registerNamespace("fluid.exceptionDecoders"),b.decodeStack=function(){if("firefox"!==d.style){return null}var f=b.obtainException();return b.exceptionDecoders[d.style](f)},b.exceptionDecoders.firefox=function(h){var g="at ",f=h.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^\(/gm,"{anonymous}(").split("\n");return b.transform(f,function(e){e=e.replace(/\)/g,"");var i=e.indexOf(g);return i===-1?[e]:[e.substring(i+g.length),e.substring(0,i)]})},b.getCallerInfo=function(i){i=(i||3)-d.offset;var e=b.decodeStack(),g=e&&e[i][0];if(g){var h=g.lastIndexOf("/");h===-1&&(h=0);var f=g.indexOf(":",h);return{path:g.substring(0,h),filename:g.substring(h+1,f),index:g.substring(f+1)}}return null},b.generatePadding=function(h,g){for(var f="",e=0;e<g;++e){f+=h}return f},b.SYNTHETIC_PROPERTY={},b.getSafeProperty=function(f,e){var g=Object.getOwnPropertyDescriptor(f,e);return g&&!g.get?f[e]:b.SYNTHETIC_PROPERTY},b.prettyPrintJSON=function(f,e){return e=c.extend({indent:4,stack:[],output:""},e),e.indentChars=b.generatePadding(" ",e.indent),a(f,"",e),e.output},b.dumpEl=function(f){var g;if(!f){return"null"}if(3===f.nodeType||8===f.nodeType){return"[data: "+f.data+"]"}if(9===f.nodeType){return"[document: location "+f.location+"]"}if(!f.nodeType&&b.isArrayable(f)){g="[";for(var e=0;e<f.length;++e){g+=b.dumpEl(f[e]),e<f.length-1&&(g+=", ")}return g+"]"}return f=c(f),g=f.get(0).tagName,f.id&&(g+="#"+f.id),f.attr("class")&&(g+="."+f.attr("class")),g}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(e,c){function f(m,j,h,l){for(var k=0;k<h;++k){m=l(m,j[k],k,c.makeArray(j))}return m}c.visitComponentChildren=function(l,m,k,h){h=h||[];
for(var j in l){var i=l[j];if(!(!c.isComponent(i)||k.visited&&k.visited[i.id])){if(h.push(j),k.visited&&(k.visited[i.id]=!0),m(i,j,h,h.length-1)){return !0}k.flat||c.visitComponentChildren(i,m,k,h),h.pop()}}},c.getContextHash=function(i,h){var j=i.idToShadow[h.id];return j&&j.contextHash},c.componentHasGrade=function(i,j){var h=c.getContextHash(c.globalInstantiator,i);return !(!h||!h[j])},c.visitComponentsForMatching=function(l,h,m){var n=c.getInstantiator(l);h=e.extend({visited:{},instantiator:n},h);var i=[l],k=[c.getContextHash(n,l)],j=function(q,p,o){i.length=1,k.length=1;for(var r=0;r<o.length;++r){var s=i[r][o[r]];i[r+1]=s,k[r+1]=c.getContextHash(n,s)||{}}return m(q,i,k,o,o.length)};c.visitComponentChildren(l,j,h,[])},c.getMemberNames=function(k,i){var j=k.idToPath(i[i.length-1].id),h=k.parseEL(j);return h.unshift.apply(h,c.generate(i.length-h.length,"")),h},c.visitComponentsForVisibility=function(o,l,n,h){h=h||{visited:{},flat:!0,instantiator:o};for(var k=c.getMemberNames(o,l),j=l.length-1;j>=0;--j){var m=l[j];if(h.visited[m.id]=!0,n(m,k[j],k,j)){return}if(c.visitComponentChildren(m,n,h,k)){return}k.pop()}},c.mountStrategy=function(j,h,i){var k=j.length;return function(p,n,o,l){if(!(o<=j.length)){for(var m=0;m<j.length;++m){if(l[m]!==j[m]){return}}return i(p,n,o-j.length,l.slice(k))}}},c.invokerFromRecord=function(k,i,j){c.pushActivity("makeInvoker","beginning instantiation of invoker with name %name and record %record as child of %that",{name:i,record:k,that:j});var h=k?c.makeInvoker(j,k,i):void 0;return c.popActivity(),h},c.memberFromRecord=function(h,k,n){for(var m,l=0;l<h.length;++l){var j=c.expandImmediate(h[l],n);m=c.isPlainObject(m)?e.extend(!0,m,j):j}return m},c.recordStrategy=function(k,i,m,h,n,l,j){return l=l||[],{strategy:function(r,p,q){if(1===q){var o=c.driveStrategy(i,[h,p],m);if(void 0!==o){c.set(r,[p],c.inEvaluationMarker);var s=n(o,p,k);return c.set(r,[p],s),s}}},initter:function(){var o=c.driveStrategy(i,h,m)||{};for(var p in o){j&&j[p]||c.getForComponent(k,l.concat([p]))}}}},c.instantiateFirers=function(i){var j=c.shadowForComponent(i),h=c.get(j,["eventStrategyBlock","initter"])||c.identity;h()},c.makeDistributionRecord=function(i,o,n,k,j,l){l=l||"distribution",c.pushActivity("makeDistributionRecord","Making distribution record from source record %sourceRecord path %sourcePath to target path %targetSegs",{sourceRecord:o,sourcePath:n,targetSegs:k});var m=c.copy(c.get(o,n));c.each(j,function(p){c.model.applyChangeRequest(m,{segs:p,type:"DELETE"})});var h={options:{}};return c.model.applyChangeRequest(h,{segs:k,type:"ADD",value:m}),c.checkComponentRecord(h),c.popActivity(),e.extend(h,{contextThat:i,recordType:l})},c.filterBlocks=function(i,l,h,k,j,n){var m=[];return c.each(l,function(q){var p=c.get(q.source,h);if(p){m.push(c.makeDistributionRecord(i,q.source,h,k,j,q.recordType));var o=e.extend({},p);n&&c.model.applyChangeRequest(q.source,{segs:h,type:"DELETE"}),c.each(j,function(r){var s=c.get(o,r);c.set(q.source,h.concat(r),s)})}}),m},c.noteCollectedDistribution=function(i,j,h){c.model.setSimple(i,["collectedDistributions",j,h.id],!0)},c.isCollectedDistribution=function(i,j,h){return c.model.getSimple(i,["collectedDistributions",j,h.id])},c.clearCollectedDistributions=function(h,i){c.model.applyChangeRequest(h,{segs:["collectedDistributions",i],type:"DELETE"})},c.collectDistributions=function(p,j,h,m,n,l,k){var o=l[l.length-1];!c.isCollectedDistribution(j,o,h)&&c.matchIoCSelector(h.selector,m,n,l,k)&&(p.push.apply(p,h.blocks),c.noteCollectedDistribution(j,o,h))},c.registerCollectedClearer=function(j,h,i){!j.collectedClearer&&h&&(j.collectedClearer=function(){c.clearCollectedDistributions(h,i)})},c.receiveDistributions=function(t,j,r,q){var p=c.getInstantiator(t||q),k=p.getThatStack(t||q);k.unshift(c.rootComponent);var s=c.getMemberNames(p,k),m=c.transform(k,function(i){return p.idToShadow[i.id]}),o=m[m.length-(t?1:2)],h=c.getMembers(m,"contextHash");t?(s.push(r),h.push(c.gradeNamesToHash(j)),k.push(q)):c.registerCollectedClearer(m[m.length-1],o,s[s.length-1]);for(var l=[],n=0;n<k.length-1;++n){c.each(m[n].distributions,function(i){c.collectDistributions(l,o,i,k,h,s,n)})}return l},c.computeTreeDistance=function(k,j){for(var h=0;h<k.length&&h<j.length&&k[h]===j[h];){++h}return k.length+j.length-2*h},c.computeDistributionPriority=function(k,h){if(!h.priority){var l=c.getInstantiator(k),o=l.getThatStack(k),n=c.getMemberNames(l,o),j=l.getThatStack(h.contextThat),i=c.getMemberNames(l,j),m=c.computeTreeDistance(n,i);h.priority=c.mergeRecordTypes.distribution-m}return h},c.applyDistributions=function(i,k,l){var j=c.transform(k,function(m){return c.generateExpandBlock(m,i,l.mergePolicy)},function(m){return c.computeDistributionPriority(i,m)}),h=l.mergeOptions;return h.mergeBlocks.push.apply(h.mergeBlocks,j),h.updateBlocks(),j},c.matchIoCSelector=function(o,m,h,u,q){for(var v=m.length-1,k=o.length-1;;){for(var t=v===m.length-1||o[k].child,s=m[v],n=o[k],r=!0,p=0;p<n.predList.length;++p){var l=n.predList[p];if(l.context&&!h[v][l.context]&&u[v]!==l.context){r=!1;break}if(l.id&&s.id!==l.id){r=!1;break}}if(0===k&&v>q&&t&&(r=!1),r){if(0===k){return !0}--v,--k}else{if(t){return !1}--v}if(v<q){return !1}}},c.queryIoCSelector=function(i,h,l){var j=c.parseSelector(h,c.IoCSSMatcher),k=[];return c.visitComponentsForMatching(i,{flat:l},function(q,o,p,n,m){c.matchIoCSelector(j,o,p,n,m)&&k.push(q)}),k},c.isIoCSSSelector=function(h){return h.indexOf(" ")!==-1},c.pushDistributions=function(j,i,k,l){var n=c.shadowForComponent(j),m=c.allocateGuid(),h={id:m,target:k,selector:i,blocks:l};return Object.freeze(h),Object.freeze(h.blocks),c.pushArray(n,"distributions",h),m},c.clearDistribution=function(h,j){var i=c.shadowForComponent(h);c.remove_if(i.distributions,function(k){return k.id===j})},c.clearDistributions=function(h){c.each(h.outDistributions,function(i){c.clearDistribution(i.targetComponent,i.distributionId)})},c.extractSelectorHead=function(j){var i=j[0].predList,h=i[0].context;return i.length=0,h},c.parseExpectedOptionsPath=function(i,j){var h=c.model.parseEL(i);return"options"!==h[0]&&c.fail("Error in options distribution path ",i," - only "+j+' paths beginning with "options" are supported'),h.slice(1)},c.replicateProperty=function(j,i,h){void 0!==j[i]&&c.each(h,function(k){k[i]=j[i]})},c.undistributableOptions=["gradeNames","distributeOptions","argumentMap","initFunction","mergePolicy","progressiveCheckerOptions"],c.distributeOptions=function(j,k){var i=c.shadowForComponent(j),h=c.driveStrategy(j.options,"distributeOptions",k);c.each(h,function(u){c.pushActivity("distributeOptions","parsing distributeOptions block %record %that ",{that:j,record:u}),"string"!=typeof u.target&&c.fail("Error in options distribution record ",u,' a member named "target" must be supplied holding an IoC reference'),"string"==typeof u.source^void 0===u.record&&c.fail("Error in options distribution record ",u,': must supply either a member "source" holding an IoC reference or a member "record" holding a literal record');var y,q,n,r=c.parseContextReference(u.target);if(c.isIoCSSSelector(r.context)){q=c.parseSelector(r.context,c.IoCSSMatcher);var m=c.extractSelectorHead(q);"/"===m?y=c.rootComponent:n=m}else{n=r.context}y=y||c.resolveContext(n,j),y||c.fail("Error in options distribution record ",u," - could not resolve context {"+n+"} to a root component");var x,t=c.model.parseEL(r.path);if(void 0!==u.record){x=[c.makeDistributionRecord(j,u.record,[],t,[])]}else{var l=c.parseContextReference(u.source);"that"!==l.context&&c.fail("Error in options distribution record ",u," only a context of {that} is supported");var p=c.parseExpectedOptionsPath(l.path,"source"),o=c.makeArray(u.exclusions).concat(0===p.length?c.undistributableOptions:[]),v=c.transform(o,function(z){return c.model.parseEL(z)});x=c.filterBlocks(j,i.mergeOptions.mergeBlocks,p,t,v,u.removeSource),i.mergeOptions.updateBlocks()}if(c.replicateProperty(u,"priority",x),c.replicateProperty(u,"namespace",x),q){var w=c.pushDistributions(y,q,u.target,x);i.outDistributions=i.outDistributions||[],i.outDistributions.push({targetComponent:y,distributionId:w})}else{var s=c.shadowForComponent(y);c.applyDistributions(j,x,s)}c.popActivity()})},c.gradeNamesToHash=function(i){var h={};return c.each(i,function(j){h[j]=!0,h[c.computeNickName(j)]=!0}),h},c.cacheShadowGrades=function(i,j){var h=c.gradeNamesToHash(i.options.gradeNames);h[j.memberName]||(h[j.memberName]="memberName"),j.contextHash=h,c.each(h,function(l,k){j.ownScope[k]=i,j.parentShadow&&"fluid.rootComponent"!==j.parentShadow.that.type&&(j.parentShadow.childrenScope[k]=i)})},c.deliverOptionsStrategy=function(i,j,h){var k=c.shadowForComponent(i,k);c.cacheShadowGrades(i,k),k.mergeOptions=h},c.collectDistributedGrades=function(k){var j=c.receiveDistributions(null,null,null,k.that);if(j.length>0){var h=c.applyDistributions(k.that,j,k.shadow),i=c.transform(c.getMembers(h,["source","gradeNames"]),c.makeArray);c.accumulateDynamicGrades(k,c.flatten(i))}},c.applyDynamicGrades=function(i){i.oldGradeNames=c.makeArray(i.gradeNames);var h=c.copy(c.getMergedDefaults(i.that.typeName,i.gradeNames));i.gradeNames.length=0,i.gradeNames.push.apply(i.gradeNames,h.gradeNames),c.each(i.gradeNames,function(k){c.isIoCReference(k)||(i.seenGrades[k]=!0)});var j=i.shadow;c.cacheShadowGrades(i.that,j),j.mergeOptions.destroyValue(["mergePolicy"]),j.mergeOptions.destroyValue(["components"]),j.mergeOptions.destroyValue(["invokers"]),i.defaultsBlock.source=h,j.mergeOptions.updateBlocks(),j.mergeOptions.computeMergePolicy(),c.accumulateDynamicGrades(i,h.gradeNames)},c.accumulateDynamicGrades=function(h,i){c.each(i,function(j){h.seenGrades[j]||(c.isIoCReference(j)?(h.rawDynamic.push(j),h.seenGrades[j]=!0):c.contains(h.oldGradeNames,j)||h.plainDynamic.push(j))})},c.computeDynamicGrades=function(j,n,l){delete j.options.gradeNames;var i=c.driveStrategy(j.options,"gradeNames",l);i.length=0;var m=c.findMergeBlocks(n.mergeOptions.mergeBlocks,"defaults")[0],k={that:j,shadow:n,defaultsBlock:m,gradeNames:i,seenGrades:{},plainDynamic:[],rawDynamic:[]};
for(c.each(n.mergeOptions.mergeBlocks,function(o){i.push.apply(i,c.makeArray(o.target&&o.target.gradeNames)),c.applyDynamicGrades(k)}),c.collectDistributedGrades(k);;){for(;k.plainDynamic.length>0;){i.push.apply(i,k.plainDynamic),k.plainDynamic.length=0,c.applyDynamicGrades(k),c.collectDistributedGrades(k)}if(!(k.rawDynamic.length>0)){break}var h=c.expandImmediate(k.rawDynamic.shift(),j,n.localDynamic);"function"==typeof h&&(h=h()),h&&(k.plainDynamic=k.plainDynamic.concat(h))}n.collectedClearer&&(n.collectedClearer(),delete n.collectedClearer)},c.computeDynamicComponentKey=function(i,h){return i+(0===h?"":"-"+h)},c.registerDynamicRecord=function(m,n,l,h,k){var i=c.computeDynamicComponentKey(n,l),j=c.copy(h);return delete j[k],c.set(m.options,["components",i],j),i},c.computeDynamicComponents=function(k,h){var l=c.shadowForComponent(k),j=l.subcomponentLocal={},i=c.driveStrategy(k.options,"dynamicComponents",h.strategy);c.each(i,function(m,q){if(m.sources||m.createOnEvent||c.fail("Cannot process dynamicComponents record ",m,' without a "sources" or "createOnEvent" entry'),m.sources){var n=c.expandOptions(m.sources,k);c.each(n,function(t,s){var r=c.registerDynamicRecord(k,q,s,m,"sources");j[r]={source:t,sourcePath:s}})}else{if(m.createOnEvent){var o=c.event.expandOneEvent(k,m.createOnEvent);c.set(l,["dynamicComponentCount",q],0);var p=function(){var s=c.registerDynamicRecord(k,q,l.dynamicComponentCount[q]++,m,"createOnEvent"),r={arguments:c.makeArray(arguments)};c.initDependent(k,s,r)};o.addListener(p),c.recordListener(o,p,l)}}})},c.computeComponentAccessor=function(l,q){var k=c.globalInstantiator,o=c.shadowForComponent(l);o.localDynamic=q;var r=l.options,i=o.mergeOptions.strategy,p=c.mountStrategy(["options"],r,i);o.invokerStrategy=c.recordStrategy(l,r,i,"invokers",c.invokerFromRecord),o.eventStrategyBlock=c.recordStrategy(l,r,i,"events",c.eventFromRecord,["events"]);var h=c.mountStrategy(["events"],l,o.eventStrategyBlock.strategy,["events"]);if(o.memberStrategy=c.recordStrategy(l,r,i,"members",c.memberFromRecord,null,{model:!0,modelRelay:!0}),o.getConfig={strategies:[c.model.funcResolverStrategy,c.makeGingerStrategy(l),p,o.invokerStrategy.strategy,o.memberStrategy.strategy,h]},c.computeDynamicGrades(l,o,i,o.mergeOptions.mergeBlocks),c.distributeOptions(l,i),o.contextHash["fluid.resolveRoot"]){var m;if(o.contextHash["fluid.resolveRootSingle"]){var j=c.getForComponent(l,["options","singleRootType"]);j||c.fail("Cannot register object with grades "+Object.keys(o.contextHash).join(", ")+" as fluid.resolveRootSingle since it has not defined option singleRootType"),m=c.typeNameToMemberName(j)}else{m=c.computeGlobalMemberName(l)}var n=c.resolveRootComponent;n[m]&&k.clearComponent(n,m),k.recordKnownComponent(n,l,m,!1)}return o.getConfig},c.shadowForComponent=function(h){var i=c.getInstantiator(h);return i&&h?i.idToShadow[h.id]:null},c.getForComponent=function(i,j){var k=c.shadowForComponent(i),h=k?k.getConfig:void 0;return c.get(i,j,h)},c.makeGingerStrategy=function(h){var i=c.getInstantiator(h);return function(o,m,n,k){var j=o[m];if(j===c.inEvaluationMarker&&n===k.length&&c.fail('Error in component configuration - a circular reference was found during evaluation of path segment "'+m+'": for more details, see the activity records following this message in the console, or issue fluid.setLogging(fluid.logLevel.TRACE) when running your application'),n>1){return j}if(void 0===j&&o.hasOwnProperty(m)){return c.NO_VALUE}if(void 0===j){var l=i.idToShadow[o.id].path,p=i.composePath(l,m);j=i.pathToComponent[p]}if(void 0===j){var q=c.getForComponent(o,["options","components",m]);q&&(q.createOnEvent&&c.fail('Error resolving path segment "'+m+'" of path '+k.join(".")+" since component with record ",q,' has annotation "createOnEvent" - this very likely represents an implementation error. Either alter the reference so it does not  match this component, or alter your workflow to ensure that the component is instantiated by the time this reference resolves'),c.initDependent(o,m),j=o[m])}return j}},c.frameworkGrades=["fluid.component","fluid.modelComponent","fluid.viewComponent","fluid.rendererComponent"],c.filterBuiltinGrades=function(h){return c.remove_if(c.makeArray(h),function(i){return c.frameworkGrades.indexOf(i)!==-1})},c.dumpGradeNames=function(h){return h.options&&h.options.gradeNames?" gradeNames: "+JSON.stringify(c.filterBuiltinGrades(h.options.gradeNames)):""},c.dumpThat=function(h){return'{ typeName: "'+h.typeName+'"'+c.dumpGradeNames(h)+" id: "+h.id+"}"},c.dumpThatStack=function(h,j){var i=c.transform(h,function(k){var l=j.idToPath(k.id);return c.dumpThat(k)+(l?" - path: "+l:"")});return i.join("\n")},c.dumpComponentPath=function(h){var i=c.pathForComponent(h);return i?c.pathUtil.composeSegments(i):"** no path registered for component **"},c.resolveContext=function(h,o,m){if("that"===h){return o}if("object"==typeof h){var i=c.resolveContext(h.context,o,m);c.isComponent(i)||c.triggerMismatchedPathError(h.context,o);var l=c.getForComponent(i,h.path),p=c.expandOptions(l,o);return c.isComponent(p)||c.fail("Unable to resolve recursive context expression "+c.renderContextReference(h)+": the directly resolved value of "+l+" did not resolve to a component in the scope of component ",o,": got ",p),p}var k,n=c.globalInstantiator;if(m){var q=n.idToShadow[o.id];return q.ownScope[h]}var j=n.getFullStack(o);return c.visitComponentsForVisibility(n,j,function(s,r){var t=c.shadowForComponent(s);return h===r||t&&t.contextHash&&t.contextHash[h]||h===s.typeName?(k=s,!0):c.getForComponent(s,["options","components",h])&&!s[h]?(k=c.getForComponent(s,h),!0):void 0}),k},c.triggerMismatchedPathError=function(i,h){var j=c.renderContextReference(i);c.fail("Failed to resolve reference "+j+" - could not match context with name "+i.context+" from component "+c.dumpThat(h)+" at path "+c.dumpComponentPath(h)+" component: ",h)},c.makeStackFetcher=function(h,i,j){var k=function(m){h&&"destroyed"===h.lifecycleStatus&&c.fail("Cannot resolve reference "+c.renderContextReference(m)+" from component "+c.dumpThat(h)+" which has been destroyed");var n=m.context;if(i&&n in i){return c.get(i[n],m.path)}var l=c.resolveContext(n,h,j);return l||""===m.path||c.triggerMismatchedPathError(m,h),c.getForComponent(l,m.path)};return k},c.makeStackResolverOptions=function(h,i,j){return e.extend(c.copy(c.rawDefaults("fluid.makeExpandOptions")),{localRecord:i||{},fetcher:c.makeStackFetcher(h,i,j),contextThat:h,exceptions:{members:{model:!0,modelRelay:!0}}})},c.clearListeners=function(h){c.each(h.listeners,function(i){i.event.removeListener(i.listenerId||i.listener)}),delete h.listeners},c.recordListener=function(i,j,k,h){i.ownerId!==k.that.id&&c.pushArray(k,"listeners",{event:i,listener:j,listenerId:h})},c.constructScopeObjects=function(j,i,l,k){var h=i?j.idToShadow[i.id]:null;k.childrenScope=h?Object.create(h.ownScope):{},k.ownScope=Object.create(k.childrenScope),k.parentShadow=h},c.clearChildrenScope=function(i,h,k,j){c.each(j.contextHash,function(m,l){h.childrenScope[l]===k&&delete h.childrenScope[l]})},c.instantiator=function(){function i(m,l,o,k,q){var p;if(q){p=h.idToShadow[l.id]={},p.that=l,p.path=o,p.memberName=k,c.constructScopeObjects(h,m,l,p)}else{p=h.idToShadow[l.id],p.injectedPaths=p.injectedPaths||{},p.injectedPaths[o]=!0;var j=h.idToShadow[m.id],n=c.keys(p.contextHash);c.remove_if(n,function(r){return p.contextHash&&"memberName"===p.contextHash[r]}),n.push(k),c.each(n,function(r){j.childrenScope[r]||(j.childrenScope[r]=l)})}h.pathToComponent[o]&&c.fail("Error during instantiation - path "+o+" which has just created component "+c.dumpThat(l)+" has already been used for component "+c.dumpThat(h.pathToComponent[o])+" - this is a circular instantiation or other oversight. Please clear the component using instantiator.clearComponent() before reusing the path."),h.pathToComponent[o]=l}var h=c.typeTag("instantiator");return e.extend(h,{lifecycleStatus:"constructed",pathToComponent:{},idToShadow:{},modelTransactions:{init:{}},composePath:c.model.composePath,composeSegments:c.model.composeSegments,parseEL:c.model.parseEL,events:{onComponentAttach:c.makeEventFirer({name:"instantiator's onComponentAttach event"}),onComponentClear:c.makeEventFirer({name:"instantiator's onComponentClear event"})}}),h.idToPath=function(k){var j=h.idToShadow[k];return j?j.path:""},h.getThatStack=function(l){var p=h.idToShadow[l.id];if(p){for(var o=p.path,k=h.parseEL(o),j=h.pathToComponent[""],n=[],m=0;m<k.length;++m){j=j[k[m]],n.push(j)}return n}return[]},h.getFullStack=function(j){var k=j?h.getThatStack(j):[];return k.unshift(c.resolveRootComponent),k},h.recordRoot=function(j){i(null,j,"","",!0)},h.recordKnownComponent=function(m,l,k,o){if(m[k]=l,c.isComponent(l)||"instantiator"===l.type){var j=h.idToShadow[m.id].path,n=h.composePath(j,k);i(m,l,n,k,o),h.events.onComponentAttach.fire(l,n,h,o)}else{c.fail("Cannot record non-component with value ",l,' at path "'+k+'" of parent ',m)}},h.clearConcreteComponent=function(j){c.each(j.childShadow.injectedPaths,function(n,l){var k=c.model.getToTailPath(l),m=h.pathToComponent[k];h.clearComponent(m,c.model.getTailPath(l),j.child)}),c.clearDistributions(j.childShadow),c.clearListeners(j.childShadow),c.fireEvent(j.child,"afterDestroy",[j.child,j.name,j.component]),delete h.idToShadow[j.child.id]},h.clearComponent=function(o,j,l,s,n,r){var q=h.idToShadow[o.id];s=s||{flat:!0,instantiator:h,destroyRecs:[]},l=l||o[j],r=r||q.path,void 0===r&&c.fail("Cannot clear component "+j+" from component ",o," which was not created by this instantiator");var p=h.composePath(r,j),k=h.idToShadow[l.id];if(k){var m=k.path===p;h.events.onComponentClear.fire(l,p,o,m),m?(c.visitComponentChildren(l,function(x,u,t,w){var v=h.composeSegments.apply(null,t.slice(0,w));h.clearComponent(l,u,null,s,!0,v)},s,h.parseEL(p)),c.doDestroy(l,j,o),s.destroyRecs.push({child:l,childShadow:k,name:j,component:o})):c.remove_if(k.injectedPaths,function(u,t){return t===p}),c.clearChildrenScope(h,q,l,k),delete h.pathToComponent[p],n||(delete o[j],c.each(s.destroyRecs,h.clearConcreteComponent))
}},h},c.globalInstantiator=c.instantiator(),c.getInstantiator=function(h){var i=c.globalInstantiator;return h&&i.idToShadow[h.id]?i:null},c.defaults("fluid.resolveRoot"),c.defaults("fluid.resolveRootSingle",{gradeNames:"fluid.resolveRoot"}),c.constructRootComponents=function(j){c.rootComponent=j.rootComponent=c.typeTag("fluid.rootComponent"),j.recordRoot(c.rootComponent),c.resolveRootComponent=j.resolveRootComponent=c.typeTag("fluid.resolveRootComponent"),j.recordKnownComponent(c.rootComponent,c.resolveRootComponent,"resolveRootComponent",!0);var h=j.idToShadow[c.rootComponent.id],i=j.idToShadow[c.resolveRootComponent.id];i.ownScope=h.ownScope,i.childrenScope=h.childrenScope,j.recordKnownComponent(c.resolveRootComponent,j,"instantiator",!0),i.childrenScope.instantiator=j},c.constructRootComponents(c.globalInstantiator),c.expandOptions=function(j,m,l,h,n){if(!j){return j}c.pushActivity("expandOptions","expanding options %args for component %that ",{that:m,args:j});var k=c.makeStackResolverOptions(m,h);k.mergePolicy=l;var i=n&&n.defer?c.makeExpandOptions(j,k):c.expand(j,k);return c.popActivity(),i},c.localRecordExpected=c.arrayToHash(["type","options","container","createOnEvent","priority","recordType"]),c.checkComponentRecord=function(h){c.each(h,function(j,i){c.localRecordExpected[i]||c.fail("Probable error in subcomponent record ",h,' - key "'+i+'" found, where the only legal options are '+c.keys(c.localRecordExpected).join(", "))})},c.mergeRecordsToList=function(i,h){var j=[];return c.each(h,function(l,k){if(l.recordType=k,"distributions"===k){j.push.apply(j,c.transform(l,function(m){return c.computeDistributionPriority(i,m)}))}else{if(!l.options){return}l.priority=c.mergeRecordTypes[k],void 0===l.priority&&c.fail("Merge record with unrecognised type "+k+": ",l),j.push(l)}}),j};var a=function(h){return c.each(["gradeNames","mergePolicy","argumentMap","components","dynamicComponents","events","listeners","modelListeners","modelRelay","distributeOptions","transformOptions"],function(i){c.set(h,[i,"*","noexpand"],!0)}),h};c.generateExpandBlock=function(i,l,k,h){var j=c.expandOptions(i.options,i.contextThat||l,k,h,{defer:!0});return j.priority=i.priority,j.namespace=i.namespace,j.recordType=i.recordType,j};var d=function(k,j,m,l){var o=c.copy(j);a(k);var n=c.shadowForComponent(l);n.mergePolicy=k;var i={defaults:{options:o}};e.extend(i,m.mergeRecords),i.subcomponentRecord&&c.checkComponentRecord(i.subcomponentRecord);var p=c.mergeRecordsToList(l,i),h=c.transform(p,function(q){return c.generateExpandBlock(q,l,k,m.localRecord)});return h};c.fabricateDestroyMethod=function(i,h,j,k){return function(){j.clearComponent(i,h,k)}},c.computeGlobalMemberName=function(h){var i=c.computeNickName(h.typeName);return i+"-"+h.id},c.typeNameToMemberName=function(h){return h.replace(/\./g,"_")},c.expandComponentOptions=function(k,l,n,j){var h=n,m=n&&n.marker===c.EXPAND?n.instantiator:null;c.pushActivity("expandComponentOptions","expanding component options %options with record %record for component %that",{options:m?n.mergeRecords.user:n,record:h,that:j}),m||(m=c.globalInstantiator,h={mergeRecords:{user:{options:c.expandCompact(n,!0)}},memberName:c.computeGlobalMemberName(j),instantiator:m,parentThat:c.rootComponent}),j.destroy=c.fabricateDestroyMethod(h.parentThat,h.memberName,m,j),m.recordKnownComponent(h.parentThat,j,h.memberName,!0);var i=d(k,l,h,j);return c.popActivity(),i},c.assembleCreatorArguments=function(p,o,t){var l=c.defaults(o);l&&l.argumentMap||c.fail("Error in assembleCreatorArguments: cannot look up component type name "+o+" to a component creator grade with an argumentMap");var k={},n=p?c.receiveDistributions(p,l.gradeNames,t.memberName,k):[];c.each(n,function(u){c.computeDistributionPriority(p,u),c.isPrimitive(u.priority)&&(u.priority=c.parsePriority(u.priority,0,!1,"options distribution"))}),c.sortByPriority(n);var q=t.localDynamic,s=e.extend({},c.censorKeys(t.componentRecord,["type"]),q),h=l.argumentMap,r=Object.keys(h).concat(["type"]);c.each(r,function(u){for(var v=0;v<n.length;++v){void 0!==n[v][u]&&(s[u]=n[v][u])}}),o=s.type||o,delete s.type,delete s.options;var j={distributions:n};void 0!==t.componentRecord&&(j.subcomponentRecord=e.extend({},t.componentRecord));var m=[];c.each(h,function(w,v){var u;if("options"===v){u={marker:c.EXPAND,localRecord:q,mergeRecords:j,instantiator:c.getInstantiator(p),parentThat:p,memberName:t.memberName}}else{var x=s[v];u=c.expandImmediate(x,p,s)}m[w]=u});var i={args:m,funcName:o};return i},c.initDependent=function(j,h,q){if(!j[h]){var o,l=j.options.components[h],i=c.globalInstantiator,m=i.idToShadow[j.id],n=q||m.subcomponentLocal&&m.subcomponentLocal[h];if(c.pushActivity("initDependent",'instantiating dependent component at path "%path" with record %record as child of %parent',{path:m.path+"."+h,record:l,parent:j}),"string"==typeof l||l.expander){j[h]=c.inEvaluationMarker,o=c.expandImmediate(l,j),o?i.recordKnownComponent(j,o,h,!1):delete j[h]}else{if(l.type){var k=c.expandImmediate(l.type,j,n);k||c.fail("Error in subcomponent record: ",l.type," could not be resolved to a type for component ",h," of parent ",j);var p=c.assembleCreatorArguments(j,k,{componentRecord:l,memberName:h,localDynamic:n});o=c.initSubcomponentImpl(j,{type:p.funcName},p.args)}else{c.fail("Unrecognised material in place of subcomponent "+h+' - no "type" field found')}}return c.popActivity(),o}},c.bindDeferredComponent=function(k,h,i){var j=c.makeArray(i.createOnEvent);c.each(j,function(l){var m=c.isIoCReference(l)?c.expandOptions(l,k):k.events[l];m&&m.addListener||c.fail("Error instantiating createOnEvent component with name "+h+" of parent ",k," since event specification "+l+" could not be expanded to an event - got ",m),m.addListener(function(){c.pushActivity("initDeferred","instantiating deferred component %componentName of parent %that due to event %eventName",{componentName:h,that:k,eventName:l}),k[h]&&c.globalInstantiator.clearComponent(k,h);var n={arguments:c.makeArray(arguments)};c.initDependent(k,h,n),c.popActivity()},null,i.priority)})},c.priorityForComponent=function(h){return h.priority?h.priority:"fluid.typeFount"===h.type||c.hasGrade(c.defaults(h.type),"fluid.typeFount")?"first":void 0},c.initDependents=function(k){c.pushActivity("initDependents","instantiating dependent components for component %that",{that:k});var l=c.shadowForComponent(k);if(l.memberStrategy.initter(),l.invokerStrategy.initter(),c.getForComponent(k,"modelRelay"),c.getForComponent(k,"model"),!c.isDestroyed(k)){var i=k.options,j=i.components||{},h=[];c.each(j,function(n,m){if(n.createOnEvent){c.bindDeferredComponent(k,m,n)}else{var o=c.priorityForComponent(n);h.push({namespace:m,priority:c.parsePriority(o)})}}),c.sortByPriority(h),c.each(h,function(m){c.initDependent(k,m.namespace)}),l.subcomponentLocal&&c.clear(l.subcomponentLocal),k.lifecycleStatus="constructed",c.assessTreeConstruction(k,l),c.popActivity()}},c.assessTreeConstruction=function(j,l){var k=c.globalInstantiator,h=k.getThatStack(j),i=c.find_if(h,function(m){return"constructing"===m.lifecycleStatus});i?j.lifecycleStatus="constructed":c.markSubtree(k,j,l.path,"treeConstructed")},c.markSubtree=function(k,h,j,i){h.lifecycleStatus=i,c.visitComponentChildren(h,function(p,l){var m=k.composePath(j,l),o=k.idToShadow[p.id],n=o&&o.path===m;n&&c.markSubtree(k,p,m,i)},{flat:!0})},c.pathForComponent=function(h,i){i=i||c.getInstantiator(h)||c.globalInstantiator;var j=i.idToShadow[h.id];return j?i.parseEL(j.path):null},c.construct=function(j,i,k){var h=c.destroy(j,k);return c.set(h.parent,["options","components",h.memberName],{type:i.type,options:i}),c.initDependent(h.parent,h.memberName)},c.destroy=function(l,m){m=m||c.globalInstantiator;var h=c.model.parseToSegments(l,m.parseEL,!0);0===h.length&&c.fail("Cannot destroy the root component");var k=h.pop(),i=m.composeSegments.apply(null,h),j=m.pathToComponent[i];return j||c.fail("Cannot modify component with nonexistent parent at path ",l),j[k]&&j[k].destroy(),{parent:j,memberName:k}},c.constructSingle=function(j,l,o){o=o||c.globalInstantiator,j=j||"";var i=c.model.parseToSegments(j,o.parseEL,!0);"string"==typeof l&&(l={type:l});var n=l.type;n||c.fail("Cannot construct singleton object without a type entry"),l=e.extend({},l);var k=l.gradeNames=c.makeArray(l.gradeNames);k.unshift(n),l.type="fluid.component";var h=0===i.length;h&&k.push("fluid.resolveRoot");var m=c.typeNameToMemberName(l.singleRootType||n);i.push(m),c.construct(i,l,o)},c.destroySingle=function(j,i,l){l=l||c.globalInstantiator;var h=c.model.parseToSegments(j,l.parseEL,!0),k=c.typeNameToMemberName(i);h.push(k),c.destroy(h,l)},c.makeGradeLinkage=function(j,h,i){c.defaults(j,{gradeNames:"fluid.component",distributeOptions:{record:i,target:"{/ "+h.join("&")+"}.options.gradeNames"}}),c.constructSingle([],j)},c.componentForPath=function(h){return c.globalInstantiator.pathToComponent[c.isArrayable(h)?h.join("."):h]},c["debugger"]=function(){},c.defaults("fluid.debuggingProbe",{gradeNames:["fluid.component"]}),c.probeToDistribution=function(j){var l=c.globalInstantiator,i=c.parseContextReference(j.target),h=c.model.parseToSegments(i.path,l.parseEL,!0);"options"!==h[0]&&h.unshift("options");var k=c.parsePriority(j.priority);return k.constraint&&!k.constraint.target&&(k.constraint.target="authoring"),{target:"{/ "+i.context+"}."+l.composeSegments.apply(null,h),record:{func:j.func,funcName:j.funcName,args:j.args,priority:c.renderPriority(k)}}},c.registerProbes=function(h){var i=c.transform(h,c.probeToDistribution),j="fluid_debuggingProbe_"+c.allocateGuid();return c.construct([j],{type:"fluid.debuggingProbe",distributeOptions:i}),j},c.deregisterProbes=function(h){c.destroy([h])},c.thisistToApplicable=function(h,i,j){return{apply:function(m,k){var n=c.expandOptions(i,j);"string"==typeof n&&(n=c.getGlobalValue(n)),n||c.fail("Could not resolve reference "+i+" to a value");var l=n[h.method];return"function"!=typeof l&&c.fail("Object ",n," at reference "+i+" has no member named "+h.method+" which is a function "),c.log("Applying arguments ",k," to method "+h.method+" of instance ",n),l.apply(n,k)
}}},c.changeToApplicable=function(h,i){return{apply:function(n,m,j,p){var k=c.parseValidModelReference(i,"changePath listener record",h.changePath),o=c.expandOptions(h.value,i,{},c.extend(j,{arguments:m})),l=p&&p.source&&p.source.length?c.makeArray(h.source).concat(p.source):h.source;k.applier.change(k.modelSegs,o,h.type,l)}}},c.recordToApplicable=function(h,k,i){if(void 0!==h.changePath){return c.changeToApplicable(h,k,i)}var j=h["this"];return h.method^j&&c.fail("Record ",k,' must contain both entries "method" and "this" if it contains either'),h.method?c.thisistToApplicable(h,j,k):null},c.getGlobalValueNonComponent=function(j,h){var i=c.defaults(j);return i&&c.hasGrade(i,"fluid.component")&&c.fail("Error in function specification - cannot invoke function "+j+" in the context of "+h+": component creator functions can only be used as subcomponents"),c.getGlobalValue(j)},c.makeInvoker=function(m,n,i){n=c.upgradePrimitiveFunc(n),void 0===n.args||n.args===c.NO_VALUE||c.isArrayable(n.args)||(n.args=c.makeArray(n.args));var l=c.recordToApplicable(n,m),j=c.preExpand(n.args),h={},k=c.makeStackResolverOptions(m,h,!0);return l=l||(n.funcName?c.getGlobalValueNonComponent(n.funcName,"an invoker"):c.expandImmediate(n.func,m)),l&&l.apply?l===c.notImplemented&&c.fail("Error constructing component ",m," - the invoker named "+i+" which was defined in grade "+n.componentSource+" needs to be overridden with a concrete implementation"):c.fail("Error in invoker record: could not resolve members func, funcName or method to a function implementation - got "+l+" from ",n),function(){c.defeatLogging===!1&&c.pushActivity("invokeInvoker","invoking invoker with name %name and record %record from path %path holding component %that",{name:i,record:n,path:c.dumpComponentPath(m),that:m});var o,p;return"destroyed"===m.lifecycleStatus?c.log(c.logLevel.WARN,"Ignoring call to invoker "+i+" of component ",m," which has been destroyed"):(h.arguments=arguments,void 0===n.args||n.args===c.NO_VALUE?p=arguments:(c.expandImmediateImpl(j,k),p=j.source),o=l.apply(null,p)),c.defeatLogging===!1&&c.popActivity(),o}},c.event.makeTrackedListenerAdder=function(h){var i=c.shadowForComponent(h);return function(j){return{addListener:function(n,m,k,o,l){c.recordListener(j,n,i,l),j.addListener.apply(null,arguments)}}}},c.event.listenerEngine=function(i,l,j){function h(){var m=c.find(i,function(p,o){if(void 0===k[o]){return !0}});if(!m){var n=k;k={},l(n)}}var k={};c.each(i,function(n,m){j(n).addListener(function(){k[m]=c.makeArray(arguments),h()})})},c.event.dispatchListener=function(n,i,m,k,j){void 0===k.args||k.args===c.NO_VALUE||c.isArrayable(k.args)||(k.args=c.makeArray(k.args)),i=c.event.resolveListener(i);var l=c.preExpand(k.args),p={},o=c.makeStackResolverOptions(n,p,!0),h=function(){c.defeatLogging===!1&&c.pushActivity("dispatchListener","firing to listener to event named %eventName of component %that",{eventName:m,that:n});var s,q=j?arguments[0]:arguments;p.arguments=q,void 0!==k.args&&k.args!==c.NO_VALUE?(c.expandImmediateImpl(l,o),s=l.source):s=q;var r=i.apply(null,s);return c.defeatLogging===!1&&c.popActivity(),r};return c.event.impersonateListener(i,h),h},c.event.resolveSoftNamespace=function(i){if("string"!=typeof i){return null}var h=Math.max(i.lastIndexOf("."),i.lastIndexOf("}"));return i.substring(h+1)},c.event.resolveListenerRecord=function(l,o,n,k,m){var p=function(r,q){c.fail("Error in listener record - could not resolve reference ",r,' to a listener or firer. Did you miss out "events." when referring to an event firer?'+q)};c.pushActivity("resolveListenerRecord","resolving listener record for event named %eventName for component %that",{eventName:n,that:o});var j=c.makeArray(l),i=c.transform(j,function(q){var r=c.isPrimitive(q)||q.expander?{listener:q}:c.copy(q),u=c.recordToApplicable(q,o,m);u?r.listener=u:r.listener=r.listener||r.func||r.funcName,r.listener||p(q,' Listener record must contain a member named "listener", "func", "funcName" or "method"');var v=q.method?c.event.resolveSoftNamespace(q["this"])+"."+q.method:c.event.resolveSoftNamespace(r.listener);r.namespace||k||!v||(r.softNamespace=!0,r.namespace=(q.componentSource?q.componentSource:o.typeName)+"."+v);var t=r.listener=c.expandOptions(r.listener,o);t||p(q,"");var s=!1;return"fluid.event.firer"===t.typeName&&(t=t.fire,s=!0),r.listener=m&&(r.args&&"fluid.notImplemented"!==t||s)?c.event.dispatchListener(o,t,n,r):t,r.listenerId=c.allocateGuid(),r}),h={records:i,adderWrapper:m?c.event.makeTrackedListenerAdder(o):null};return c.popActivity(),h},c.event.expandOneEvent=function(j,i){var h;return h="string"==typeof i&&"{"!==i.charAt(0)?c.getForComponent(j,["events",i]):c.expandOptions(i,j),h&&"fluid.event.firer"===h.typeName||c.fail("Error in event specification - could not resolve base event reference ",i," to an event firer: got ",h),h},c.event.expandEvents=function(i,h){return"string"==typeof h?c.event.expandOneEvent(i,h):c.transform(h,function(j){return c.event.expandOneEvent(i,j)})},c.event.resolveEvent=function(n,m,j){c.pushActivity("resolveEvent","resolving event with name %eventName attached to component %that",{eventName:m,that:n});var i=c.event.makeTrackedListenerAdder(n);"string"==typeof j&&(j={event:j});var h="fluid.event.firer"===j.typeName?j:j.event||j.events;h||c.fail("Event specification for event with name "+m+" does not include a base event specification: ",j);var k,p="fluid.event.firer"===h.typeName?h:c.event.expandEvents(n,h),l="fluid.event.firer"!==p.typeName,o=j.args||l;if(o){k=c.makeEventFirer({name:" [composite] "+c.event.nameEvent(n,m)});var q=c.event.dispatchListener(n,k.fire,m,j,l);l?c.event.listenerEngine(p,q,i):i(p).addListener(q)}else{k={typeName:"fluid.event.firer"},k.fire=function(){var r=c.makeArray(arguments);c.pushActivity("fireSynthetic","firing synthetic event %eventName ",{eventName:m});var s=p.fire.apply(null,r);return c.popActivity(),s},k.addListener=function(v,u,r,w,t){var s=c.event.dispatchListener(n,v,m,j);i(p).addListener(s,u,r,w,t)},k.removeListener=function(r){p.removeListener(r)}}return c.popActivity(),k},c.withEnvironment=function(i,k,h){var j;h=h||c.globalThreadLocal();try{for(j in i){h[j]=i[j]}return e.extend(h,i),k()}finally{for(j in i){delete h[j]}}},c.fetchContextReference=function(h,k,j,m,n){m&&(h=m(h,j));var l=h.context?j[h.context]:k;if(!l){var i=n&&n(h);return i||l}return h.noDereference?h.path:c.get(l,h.path)},c.makeEnvironmentFetcher=function(i,j,h,k){return h=h||c.globalThreadLocal,function(l){var m=h();return c.fetchContextReference(l,i,m,j,k)}},c.coerceToPrimitive=function(h){return"false"!==h&&("true"===h||(isFinite(h)?Number(h):h))},c.compactStringToRec=function(l,o){var p=l.indexOf("("),j=l.indexOf(")");if((p===-1^j===-1||p>j)&&c.fail("Badly-formed compact "+o+" record without matching parentheses: "+l),p!==-1&&j!==-1){var h=l.substring(j+1);""!==e.trim(h)&&c.fail("Badly-formed compact "+o+" record "+l+" - unexpected material following close parenthesis: "+h);var k=l.substring(0,p),m=l.substring(p+1,j),n=c.transform(m.split(","),e.trim,c.coerceToPrimitive),i=c.upgradePrimitiveFunc(k,null);return i.args=n,i}return"expander"===o&&c.fail("Badly-formed compact expander record without parentheses: "+l),l},c.expandPrefix="@expand:",c.expandCompactString=function(h,i){var j=h;if(0===h.indexOf(c.expandPrefix)){var k=h.substring(c.expandPrefix.length);j={expander:c.compactStringToRec(k,"expander")}}else{i&&(j=c.compactStringToRec(h,i))}return j};var g={listeners:"listener",modelListeners:"modelListener"},b=e.extend({invokers:"invoker"},g);c.expandCompactRec=function(h,l,j){c.guardCircularExpansion(h,h.length);var i=h.length>0?h[h.length-1]:"",k=b[i];!k&&h.length>1&&(k=g[h[h.length-2]]),c.each(j,function(n,m){return c.isPlainObject(n)?(l[m]=c.freshContainer(n),h.push(m),c.expandCompactRec(h,l[m],n),void h.pop()):("string"==typeof n&&(n=c.expandCompactString(n,k)),void (l[m]=n))})},c.expandCompact=function(h){var i={};return c.expandCompactRec([],i,h),i},c.extractEL=function(i,h){if("ALL"===h.ELstyle){return i}if(1===h.ELstyle.length){if(i.charAt(0)===h.ELstyle){return i.substring(1)}}else{if("${}"===h.ELstyle){var k=i.indexOf("${"),j=i.lastIndexOf("}");if(0===k&&j!==-1){return i.substring(2,j)}}}},c.extractELWithContext=function(i,h){var j=c.extractEL(i,h);return c.isIoCReference(j)?c.parseContextReference(j):j?{path:j}:j},c.parseContextReference=function(l,m,i){m=m||0;var o,j,n,k="{"===l.charAt(m+1);k?(n=c.parseContextReference(l,m+1,"}"),o=n.endpos):o=l.indexOf("}",m+1),o===-1&&c.fail('Cannot parse context reference "'+l+'": Malformed context reference without }'),j=k?n:l.substring(m+1,o);var h=i?l.indexOf(i,o+1):l.length,p=l.substring(o+1,h);return"."===p.charAt(0)&&(p=p.substring(1)),{context:j,path:p,endpos:h}},c.renderContextReference=function(h){var i=h.context;return"{"+("string"==typeof i?i:c.renderContextReference(i))+"}"+(h.path?"."+h.path:"")},c.resolveContextValue=function(j,i){function l(p){c.pushActivity("resolveContextValue","resolving context value %parsed",{parsed:p});var q=i.fetcher(p);return c.pushActivity("resolvedContextValue","resolved value %parsed to value %value",{parsed:p,value:q}),c.popActivity(2),q}var h;if(i.bareContextRefs&&c.isIoCReference(j)){return h=c.parseContextReference(j),l(h)}if(i.ELstyle&&"${}"!==i.ELstyle&&(h=c.extractELWithContext(j,i))){return l(h)}for(;"string"==typeof j;){var o=j.indexOf("${"),n=j.indexOf("}",o+2);if(o===-1||n===-1){break}"{"===j.charAt(o+2)?(h=c.parseContextReference(j,o+2,"}"),n=h.endpos):h={path:j.substring(o+2,n)};var k=l(h),m=0===o&&n===j.length-1;if(void 0===k||null===k){return k}j=m?k:j.substring(0,o)+k+j.substring(n+1)}return j},c.fetchExpandChildren=function(o,l,h,n,m,k){if(n.expander){var j=c.expandExpander(o,n,k);if(c.isPrimitive(j)||!c.isPlainObject(j)||c.isArrayable(j)^c.isArrayable(o)){return j}e.extend(!0,o,j)}return c.each(n,function(p,i){void 0===p?o[i]=void 0:"expander"!==i&&(h[l]=i,c.getImmediate(k.exceptions,h,l)!==!0&&k.strategy(o,i,l+1,h,n,m))}),o},c.isUnexpandable=function(h){return c.isPrimitive(h)||!c.isPlainObject(h)
},c.expandSource=function(s,o,l,k,q,h,p,j){var m,n,r=c.derefMergePolicy(p);return"string"!=typeof h||r.noexpand?r.noexpand||c.isUnexpandable(h)?m=h:h.expander?m=c.expandExpander(q,h,s):(m=c.freshContainer(h),n=!0):s.defaultEL&&"{"!==h.charAt(0)?m=h:(c.pushActivity("expandContextValue","expanding context value %source held at path %path",{source:h,path:c.path.apply(null,k.slice(0,l))}),m=c.resolveContextValue(h,s),c.popActivity(1)),m!==c.NO_VALUE&&q(m),n&&j(m,h,l,k,p),m},c.guardCircularExpansion=function(h,j){j>c.strategyRecursionBailout&&c.fail("Overflow/circularity in options expansion, current path is ",h," at depth ",j,' - please ensure options are not circularly connected, or protect from expansion using the "noexpand" policy or expander')},c.makeExpandStrategy=function(h){var i=function(n,m,l,k,o){return c.fetchExpandChildren(n,l||0,k||[],m,o,h)},j=function(p,l,o,m,k,q){function r(t){p[l]=t}if(c.guardCircularExpansion(m,o),p){if(p.hasOwnProperty(l)){return p[l]}void 0===k&&(k=f(h.source,m,o-1,h.sourceStrategy),q=f(h.mergePolicy,m,o-1,c.concreteTrundler));var n=h.sourceStrategy(k,l,o,m),s=c.concreteTrundler(q,l);return c.expandSource(h,p,o,m,r,n,s,i)}};return h.recurse=i,h.strategy=j,j},c.defaults("fluid.makeExpandOptions",{ELstyle:"${}",bareContextRefs:!0,target:c.inCreationMarker}),c.makeExpandOptions=function(i,h){return h=e.extend({},c.rawDefaults("fluid.makeExpandOptions"),h),h.defaultEL="${}"===h.ELStyle&&h.bareContextRefs,h.expandSource=function(j){return c.expandSource(h,null,0,[],c.identity,j,h.mergePolicy,!1)},c.isUnexpandable(i)?(h.strategy=c.concreteTrundler,h.initter=c.identity,"string"==typeof i?h.target=h.expandSource(i):h.target=i):(h.source=i,h.target=c.freshContainer(i),h.sourceStrategy=h.sourceStrategy||c.concreteTrundler,c.makeExpandStrategy(h),h.initter=function(){h.target=c.fetchExpandChildren(h.target,0,[],h.source,h.mergePolicy,h)}),h},c.expand=function(j,h){var i=c.makeExpandOptions(j,h);return i.initter(),i.target},c.preExpandRecurse=function(i,m,l,o,n){function k(p){i.expanders.push({expander:p,holder:l,member:o}),delete l[o]}if(c.guardCircularExpansion(n,n.length),c.isIoCReference(m)){var j=c.parseContextReference(m),h=c.model.parseEL(j.path);k({typeFunc:c.expander.fetch,context:j.context,segs:h})}else{c.isPlainObject(m)&&(m.expander?(m.expander.typeFunc=c.getGlobalValue(m.expander.type||"fluid.invokeFunc"),k(m.expander)):c.each(m,function(q,p){n.push(p),c.preExpandRecurse(i,q,m,p,n),n.pop()}))}},c.preExpand=function(i){var h={expanders:[],source:c.isUnexpandable(i)?i:c.copy(i)};return c.preExpandRecurse(h,h.source,h,"source",[]),h},c.expandImmediate=function(l,k,i){var j=c.makeStackResolverOptions(k,i,!0),h=c.preExpand(l);return c.expandImmediateImpl(h,j),h.source},c.expandImmediateImpl=function(j,k){for(var h=j.expanders,l=0;l<h.length;++l){var m=h[l];m.holder[m.member]=m.expander.typeFunc(null,m,k)}},c.expandExpander=function(k,i,h){var j=c.getGlobalValue(i.expander.type||"fluid.invokeFunc");return j||c.fail("Unknown expander with type "+i.expander.type),j(k,i,h)},c.registerNamespace("fluid.expander"),c.expander.fetch=function(r,h,t){var s=t.localRecord,j=h.expander.context,k=h.expander.segs,l=void 0!==s[j],o=t.contextThat.lifecycleStatus,n="treeConstructed"===o||"destroyed"===o,q=l?s[j]:c.resolveContext(j,t.contextThat,n);if(q){var p=q;if(l||"constructing"!==q.lifecycleStatus){for(var m=0;m<k.length;++m){p=p?p[k[m]]:void 0}}else{p=c.getForComponent(q,k)}return void 0!==p||l||(p=c.getForComponent(q,k)),p}k.length>0&&c.triggerMismatchedPathError(h.expander,t.contextThat)},c.invokeFunc=function(n,l,j){var m=l.expander,i=c.makeArray(m.args);m.args=i,j.recurse?i=j.recurse([],i):(m=c.expandImmediate(m,j.contextThat,j.localRecord),i=m.args);var h=m.func||m.funcName,k=(j.expandSource?j.expandSource(h):h)||c.recordToApplicable(m,j.contextThat);return"string"==typeof k&&(k=c.getGlobalValue(k)),k||c.fail("Error in expander record ",m,": "+h+" could not be resolved to a function for component ",j.contextThat),k.apply(null,i)},c.noexpand=function(i,h){return h.expander.value?h.expander.value:h.expander.tree}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(c,b){b.model.makeEnvironmentStrategy=function(d){return function(e,g,f){return 0===f&&d[g]?d[g]:void 0}},b.model.defaultCreatorStrategy=function(d,e){if(void 0===d[e]){return d[e]={},d[e]}},b.model.defaultFetchStrategy=function(d,e){return d[e]},b.model.funcResolverStrategy=function(d,e){if(d.resolvePathSegment){return d.resolvePathSegment(e)}},b.model.traverseWithStrategy=function(n,d,o,e,l){for(var f=e.strategies,g=d.length-l,k=o;k<g;++k){if(!n){return n}for(var m,h=0;h<f.length&&(m=f[h](n,d[k],k+1,d),void 0===m);++h){}m===b.NO_VALUE&&(m=void 0),n=m}return n},b.model.getValueAndSegments=function(d,g,e,f){return b.model.accessWithStrategy(d,g,b.NO_VALUE,e,f,!0)},b.model.makeTrundler=function(d){return function(e,f){return b.model.getValueAndSegments(e.root,f,d,e.segs)}},b.model.getWithStrategy=function(d,g,e,f){return b.model.accessWithStrategy(d,g,b.NO_VALUE,e,f)},b.model.setWithStrategy=function(d,g,h,e,f){b.model.accessWithStrategy(d,g,h,e,f)},b.model.accessWithStrategy=function(l,k,e,f,i,d){if(b.isPrimitive(k)||b.isArrayable(k)){return b.model.accessImpl(l,k,e,f,i,d,b.model.traverseWithStrategy)}var m=k.type||"default",g=f.resolvers[m];g||b.fail("Unable to find resolver of type "+m);var j=b.model.makeTrundler(f),h={root:l,segs:i};return h=g(h,k,j),k.path&&h&&(h=j(h,k.path)),d?h:h?h.root:void 0},b.registerNamespace("fluid.pathUtil"),b.pathUtil.getPathSegmentImpl=function(f,j,e){var g=null;f&&(g="");for(var h=!1,d=j.length;e<d;++e){var k=j.charAt(e);if(h){h=!1,null!==g&&(g+=k)}else{if("."===k){break}"\\"===k?h=!0:null!==g&&(g+=k)}}return null!==g&&(f[0]=g),e};var a=[];b.pathUtil.parseEL=function(h){for(var g=[],e=0,d=h.length;e<d;){var f=b.pathUtil.getPathSegmentImpl(a,h,e);g.push(a[0]),e=f+1}return g},b.pathUtil.composeSegment=function(f,e){e=e.toString();for(var d=0;d<e.length;++d){var g=e.charAt(d);"."!==g&&"\\"!==g&&"}"!==g||(f+="\\"),f+=g}return f},b.pathUtil.escapeSegment=function(d){return b.pathUtil.composeSegment("",d)},b.pathUtil.composePath=function(d,e){return 0!==d.length&&(d+="."),b.pathUtil.composeSegment(d,e)},b.pathUtil.composeSegments=function(){for(var e="",d=0;d<arguments.length;++d){e=b.pathUtil.composePath(e,arguments[d])}return e},b.pathUtil.matchSegments=function(g,e,h,d){if(d-h!==g.length){return !1}for(var f=h;f<d;++f){if(e[f]!==g[f-h]){return !1}}return !0},b.model.unescapedParser={parse:b.model.parseEL,compose:b.model.composeSegments},b.model.defaultGetConfig={parser:b.model.unescapedParser,strategies:[b.model.funcResolverStrategy,b.model.defaultFetchStrategy]},b.model.defaultSetConfig={parser:b.model.unescapedParser,strategies:[b.model.funcResolverStrategy,b.model.defaultFetchStrategy,b.model.defaultCreatorStrategy]},b.model.escapedParser={parse:b.pathUtil.parseEL,compose:b.pathUtil.composeSegments},b.model.escapedGetConfig={parser:b.model.escapedParser,strategies:[b.model.defaultFetchStrategy]},b.model.escapedSetConfig={parser:b.model.escapedParser,strategies:[b.model.defaultFetchStrategy,b.model.defaultCreatorStrategy]},b.initRelayModel=function(d){return b.deenlistModelComponent(d),d.model},b.isModelComplete=function(d){return"model" in d&&d.model!==b.inEvaluationMarker},b.enlistModelComponent=function(d){var f=b.getInstantiator(d),e=f.modelTransactions.init[d.id];return e||(e={that:d,applier:b.getForComponent(d,"applier"),complete:b.isModelComplete(d)},f.modelTransactions.init[d.id]=e),e},b.clearTransactions=function(){var d=b.globalInstantiator;b.clear(d.modelTransactions),d.modelTransactions.init={}},b.failureEvent.addListener(b.clearTransactions,"clearTransactions","before:fail"),b.clearLinkCounts=function(e,d){b.each(e,function(g,f){"number"==typeof g?e[f]=0:d&&g.options&&"number"==typeof g.relayCount&&(g.relayCount=0)})},b.sortCompleteLast=function(e,d){return(e.completeOnInit?1:0)-(d.completeOnInit?1:0)},b.operateInitialTransaction=function(g,d){var e,j=b.allocateGuid(),i=b.getModelTransactionRec(g,j),f=b.transform(d,function(k){return e=k.that.applier.initiate(null,"init",j),i[k.that.applier.applierId]={transaction:e},e}),h=b.values(d).sort(b.sortCompleteLast);b.each(h,function(k){var m=k.that,l=f[m.id];k.completeOnInit?b.initModelEvent(m,m.applier,l,m.applier.listeners.sortedListeners):b.each(k.initModels,function(o){l.fireChangeRequest({type:"ADD",segs:[],value:o}),b.clearLinkCounts(i,!0)});var n=b.shadowForComponent(m);n&&(n.modelComplete=!0)}),e.commit()},b.deenlistModelComponent=function(f){var g=b.getInstantiator(f),e=g.modelTransactions.init;if(e[f.id]){f.model=void 0,e[f.id].complete=!0;var d=b.find_if(e,function(h){return h.complete!==!0});d||(b.operateInitialTransaction(f,e),g.modelTransactions.init={})}},b.parseModelReference=function(f,e){var d=b.parseContextReference(e);return d.segs=f.applier.parseEL(d.path),d},b.parseValidModelReference=function(i,f,h,d){var e,j=function(l){b.fail("Error in "+f+": ",h,l)};if("string"==typeof h){if(b.isIoCReference(h)){e=b.parseModelReference(i,h);var g=e.segs.indexOf("model");g===-1?d?e.nonModel=!0:j(' must be a reference into a component model via a path including the segment "model"'):(e.modelSegs=e.segs.slice(g+1),e.contextSegs=e.segs.slice(0,g),delete e.path)}else{e={path:h,modelSegs:i.applier.parseEL(h)}}}else{b.isArrayable(h.segs)||j(' must contain an entry "segs" holding path segments referring a model path within a component'),e={context:h.context,modelSegs:b.expandOptions(h.segs,i)}}var k;return e.context?(k=b.resolveContext(e.context,i),k||j(" must be a reference to an existing component"),e.contextSegs&&(k=b.getForComponent(k,e.contextSegs))):k=i,e.nonModel||(k.applier||b.getForComponent(k,["applier"]),k.applier||j(" must be a reference to a component with a ChangeApplier (descended from fluid.modelComponent)")),e.that=k,e.applier=k.applier,e.path||(e.path=k.applier.composeSegments.apply(null,e.modelSegs)),e},b.getModelTransactionRec=function(d,g){var f=b.getInstantiator(d);
if(g||b.fail("Cannot get transaction record without transaction id"),!f){return null}var e=f.modelTransactions[g];return e||(e=f.modelTransactions[g]={relays:[],sources:{},externalChanges:{}}),e},b.recordChangeListener=function(f,e,d,g){var h=b.shadowForComponent(f);b.recordListener(e.modelChanged,d,h,g)},b.registerRelayTransaction=function(i,d,j,e,g){var h=d.initiate("relay",null,j),f=i[d.applierId]={transaction:h,relayCount:0,namespace:g.namespace,priority:g.priority,options:e};return f.priority=b.parsePriority(f.priority,i.relays.length,!1,"model relay"),i.relays.push(f),f},b.relayRecursionBailout=100,b.registerDirectChangeRelay=function(k,j,e,g,l,m,p,f){var o=p.targetApplier||k.applier,i=p.sourceApplier||e.applier,h=o.applierId;j=b.makeArray(j),g=g?b.makeArray(g):g;var n,d=function(t,r,y,v,z,x){var q=z.id,w=b.getModelTransactionRec(k,q);x&&z&&!w[x.applierId]&&(w[x.applierId]={transaction:z});var s=w[h];w[l]=w[l]||0;var u=!0;u&&(++w[l],w[l]>b.relayRecursionBailout&&b.fail("Error in model relay specification at component ",k," - operated more than "+b.relayRecursionBailout+" relays without model value settling - current model contents are ",z.newHolder.model),s||(s=b.registerRelayTransaction(w,o,q,p,f)),m&&!p.targetApplier?m(s.transaction,p.sourceApplier?void 0:t,g,j):void 0!==t&&s.transaction.fireChangeRequest({type:"ADD",segs:j,value:t}))};g&&(n=i.modelChanged.addListener({isRelay:!0,segs:g,transactional:p.transactional},d),b.log(b.logLevel.TRACE,"Adding relay listener with listenerId "+n.listenerId+" to source applier with id "+i.applierId+" from target applier with id "+h+" for target component with id "+k.id)),e&&(b.recordChangeListener(e,i,d,n.listenerId),k!==e&&b.recordChangeListener(k,i,d,n.listenerId))},b.connectModelRelay=function(i,d,j,f,e){function h(l){var m=b.enlistModelComponent(l);if(m.complete){var n=b.shadowForComponent(l);n.modelComplete&&(m.completeOnInit=!0)}}var k=b.allocateGuid();h(j),h(i);var g=b.filterKeys(e,["namespace","priority"]);e.update?e.targetApplier?b.registerDirectChangeRelay(i,d,j,f,k,null,{transactional:!1,targetApplier:e.targetApplier,update:e.update},g):b.registerDirectChangeRelay(j,f,i,[],k+"-transform",e.forwardAdapter,{transactional:!0,sourceApplier:e.forwardApplier},g):(b.registerDirectChangeRelay(j,f,i,d,k,e.forwardAdapter,{transactional:!1},g),d&&b.registerDirectChangeRelay(i,d,j,f,k,e.backwardAdapter,{transactional:!1},g))},b.parseSourceExclusionSpec=function(e,d){return e.excludeSource=b.arrayToHash(b.makeArray(d.excludeSource||(d.includeSource?"*":void 0))),e.includeSource=b.arrayToHash(b.makeArray(d.includeSource)),e},b.isExcludedChangeSource=function(g,d){if(!d||!d.excludeSource){return !1}var e=d.excludeSource["*"];for(var f in g.fullSources){d.excludeSource[f]&&(e=!0),d.includeSource[f]&&(e=!1)}return e},b.model.guardedAdapter=function(g,e,f,d){b.isExcludedChangeSource(g,e)||f.apply(null,d)},b.transformToAdapter=function(d,f){var e={};return e[f]=d,function(g,h){b.model.transformWithRules(h,e,{finalApplier:g})}},b.makeTransformPackage=function(e,f,d,h,k,m,g,l){var i={forwardHolder:{model:f},backwardHolder:{model:null}};i.generateAdapters=function(n){i.forwardAdapterImpl=b.transformToAdapter(n?n.newHolder.model:i.forwardHolder.model,h),null!==d&&(i.backwardHolder.model=b.model.transform.invertConfiguration(f),i.backwardAdapterImpl=b.transformToAdapter(i.backwardHolder.model,d))},i.forwardAdapter=function(o,n){void 0===n&&i.generateAdapters(),b.model.guardedAdapter(o,k,i.forwardAdapterImpl,arguments)},i.runTransform=function(n){n.commit(),n.reset()},i.forwardApplier=b.makeHolderChangeApplier(i.forwardHolder),i.forwardApplier.isRelayApplier=!0,i.invalidator=b.makeEventFirer({name:"Invalidator for model relay with applier "+i.forwardApplier.applierId}),null!==d&&(i.backwardApplier=b.makeHolderChangeApplier(i.backwardHolder),i.backwardAdapter=function(n){b.model.guardedAdapter(n,m,i.backwardAdapterImpl,arguments)}),i.update=i.invalidator.fire;var j={targetApplier:i.forwardApplier,update:i.update,namespace:g,priority:l,refCount:0};return i.forwardHolder.model=b.parseImplicitRelay(e,f,[],j),i.refCount=j.refCount,i.namespace=g,i.priority=l,i.generateAdapters(),i.invalidator.addListener(i.generateAdapters),i.invalidator.addListener(i.runTransform),i},b.singleTransformToFull=function(d){var e=c.extend(!0,{inputPath:""},d);return{"":{transform:e}}},b.model.relayConditions={initOnly:{includeSource:"init"},liveOnly:{excludeSource:"init"},never:{includeSource:[]},always:{}},b.model.parseRelayCondition=function(e){"initOnly"===e?b.log(b.logLevel.WARN,'The relay condition "initOnly" is deprecated: Please use the form \'includeSource: "init"\' instead'):"liveOnly"===e&&b.log(b.logLevel.WARN,'The relay condition "initOnly" is deprecated: Please use the form \'excludeSource: "init"\' instead');var d;return e?"string"==typeof e?(d=b.model.relayConditions[e],d||b.fail('Unrecognised model relay condition string "'+e+'": the supported values are "never" or a record with members "includeSource" and/or "excludeSource"')):d=e:d={},b.parseSourceExclusionSpec({},d)},b.parseModelRelay=function(i,e,m){var j=e.source?b.parseValidModelReference(i,'modelRelay record member "source"',e.source):{path:null,modelSegs:null},f=b.parseValidModelReference(i,'modelRelay record member "target"',e.target),h=e.namespace||m,g=e.singleTransform?b.singleTransformToFull(e.singleTransform):e.transform;g||b.fail('Cannot parse modelRelay record without element "singleTransform" or "transform":',e);var k=b.model.parseRelayCondition(e.forward),l=b.model.parseRelayCondition(e.backward),d=b.makeTransformPackage(i,g,j.path,f.path,k,l,h,e.priority);0===d.refCount?b.connectModelRelay(j.that||i,j.modelSegs,f.that,f.modelSegs,b.filterKeys(d,["forwardAdapter","backwardAdapter","namespace","priority"])):(j.modelSegs&&b.fail('Error in model relay definition: If a relay transform has a model dependency, you can not specify a "source" entry - please instead enter this as "input" in the transform specification. Definition was ',e," for component ",i),b.connectModelRelay(j.that||i,j.modelSegs,f.that,f.modelSegs,d))},b.parseImplicitRelay=function(g,i,d,f){var h;if(b.isIoCReference(i)){var e=b.parseValidModelReference(g,"model reference from model (implicit relay)",i,!0);e.nonModel?h=b.getForComponent(e.that,e.segs):(++f.refCount,b.connectModelRelay(g,d,e.that,e.modelSegs,f))}else{b.isPrimitive(i)||!b.isPlainObject(i)?h=i:i.expander&&b.isPlainObject(i.expander)?h=b.expandOptions(i,g):(h=b.freshContainer(i),b.each(i,function(j,k){d.push(k);var l=b.parseImplicitRelay(g,j,d,f);void 0!==l&&(h[k]=l),d.pop()}))}return h},b.model.notifyExternal=function(f){var h=f?b.values(f.externalChanges):[];b.sortByPriority(h);for(var e=0;e<h.length;++e){var g=h[e],d=g.args[5];d.destroyed||g.listener.apply(null,g.args)}b.clearLinkCounts(f,!0)},b.model.commitRelays=function(e,f){var d=e.modelTransactions[f];b.each(d,function(g){g.transaction&&(g.transaction.commit("relay"),g.transaction.reset())})},b.model.updateRelays=function(f,g){var e=f.modelTransactions[g],d=0;return b.sortByPriority(e.relays),b.each(e.relays,function(h){h.transaction.changeRecord.changes>0&&h.relayCount<2&&h.options.update&&(h.relayCount++,b.clearLinkCounts(e),h.options.update(h.transaction,e),++d)}),d},b.establishModelRelay=function(l,h,j,f,n){function i(p){for(;b.model.updateRelays(k,p.id)>0;){}}function m(r,p,q){"relay"!==q&&b.model.commitRelays(k,r.id)}function g(r,p,q){"relay"!==q&&(b.model.notifyExternal(k.modelTransactions[r.id]),delete k.modelTransactions[r.id])}var o=b.shadowForComponent(l);o.modelRelayEstablished?b.fail("FLUID-5887 failure: Model relay initialised twice on component",l):o.modelRelayEstablished=!0,b.mergeModelListeners(l,j);var d=b.enlistModelComponent(l);b.each(f,function(p,r){for(var q=0;q<p.length;++q){b.parseModelRelay(l,p[q],r)}});var e=b.transform(h,function(p){return b.parseImplicitRelay(l,p,[],{refCount:0,priority:"first"})});d.initModels=e;var k=b.getInstantiator(l);return n.preCommit.addListener(i),n.preCommit.addListener(m),n.postCommit.addListener(g),null},b.defaults("fluid.modelComponent",{gradeNames:["fluid.component"],changeApplierOptions:{relayStyle:!0,cullUnchanged:!0},members:{model:"@expand:fluid.initRelayModel({that}, {that}.modelRelay)",applier:"@expand:fluid.makeHolderChangeApplier({that}, {that}.options.changeApplierOptions)",modelRelay:"@expand:fluid.establishModelRelay({that}, {that}.options.model, {that}.options.modelListeners, {that}.options.modelRelay, {that}.applier)"},mergePolicy:{model:{noexpand:!0,func:b.arrayConcatPolicy},modelListeners:b.makeMergeListenersPolicy(b.arrayConcatPolicy),modelRelay:b.makeMergeListenersPolicy(b.arrayConcatPolicy,!0)}}),b.modelChangedToChange=function(d){return{value:d[0],oldValue:d[1],path:d[2],transaction:d[4]}},b.event.invokeListener=function(f,e,d,g){return"string"==typeof f&&(f=b.event.resolveListener(f)),f.apply(null,e,d,g)},b.resolveModelListener=function(f,d){var e=function(){if(!b.isDestroyed(f)){var j=b.modelChangedToChange(arguments),h=arguments,g={change:j,arguments:h},i={source:Object.keys(j.transaction.sources)};d.args&&(h=b.expandOptions(d.args,f,{},g)),b.event.invokeListener(d.listener,b.makeArray(h),g,i)}};return b.event.impersonateListener(d.listener,e),e},b.registerModelListeners=function(g,d,h,e){var f=b.resolveModelListener(g,d);b.each(d.byTarget,function(l){function i(){if(b.isModelComplete(k.that)){var n=k.applier.initiate(null,"init");b.initModelEvent(g,k.applier,n,[j]),n.commit()}}var k=l[0],j={listener:f,listenerId:b.allocateGuid(),segsArray:b.getMembers(l,"modelSegs"),pathArray:b.getMembers(l,"path"),includeSource:d.includeSource,excludeSource:d.excludeSource,priority:b.expandOptions(d.priority,g),transactional:!0};if(j=k.applier.modelChanged.addListener(j,f,e,d.softNamespace),b.recordChangeListener(g,k.applier,f,j.listenerId),g!==k.that&&!b.isModelComplete(g)){var m=b.getForComponent(g,["events","onCreate"]);m.addListener(i)}})},b.mergeModelListeners=function(e,d){b.each(d,function(h,g){"string"==typeof h&&(h={funcName:h});
var f=b.event.resolveListenerRecord(h,e,"modelListeners",null,!1).records;b.each(f,function(i){i.byTarget={};var k=b.makeArray(void 0===i.path?g:i.path);b.each(k,function(m){var l=b.parseValidModelReference(e,"modelListeners entry",m);b.pushArray(i.byTarget,l.that.id,l)});var j=(i.namespace&&!i.softNamespace?i.namespace:null)||(void 0!==i.path?g:null);b.registerModelListeners(e,i,k,j)})})},b.fireChanges=function(d,f){for(var e=0;e<f.length;++e){d.fireChangeRequest(f[e])}},b.model.isChangedPath=function(f,d){for(var e=0;e<=d.length;++e){if("string"==typeof f){return !0}e<d.length&&f&&(f=f[d[e]])}return !1},b.model.setChangedPath=function(e,d,f){var g=function(h){d.unshift(h),b.model.setSimple(e,d,f),d.shift()};b.model.isChangedPath(e.changeMap,d)||(++e.changes,g("changeMap")),b.model.isChangedPath(e.deltaMap,d)||(++e.deltas,g("deltaMap"))},b.model.fetchChangeChildren=function(h,f,d,g,e){b.each(g,function(j,i){d[f]=i,b.model.applyChangeStrategy(h,i,f,d,j,e),d.length=f})},b.model.isSameValue=function(e,d){if("number"!=typeof e||"number"!=typeof d){return e===d}if(e===d||e!==e&&d!==d){return !0}var f=Math.abs((e-d)/d);return f<1e-12},b.model.applyChangeStrategy=function(m,e,j,f,d,n){var h=m[e],g=b.typeCode(d),k=b.typeCode(h),l=b.NO_VALUE;"primitive"===g?b.model.isSameValue(h,d)||(l=d,++n.unchanged):(k!==g||"array"===g&&d.length!==h.length)&&(l=b.freshContainer(d)),l!==b.NO_VALUE&&(m[e]=l,n.changeMap&&b.model.setChangedPath(n,f,n.inverse?"DELETE":"ADD")),"primitive"!==g&&b.model.fetchChangeChildren(m[e],j+1,f,d,n)},b.model.stepTargetAccess=function(l,h,d,k,j,e){for(var f=k;f<j;++f){if(l){var g=l[d[f]];l=b.model.traverseWithStrategy(l,d,f,e["ADD"===h?"resolverSetConfig":"resolverGetConfig"],d.length-f-1),g!==l&&e.changeMap&&b.model.setChangedPath(e,d.slice(0,f+1),"ADD")}}return{root:l,last:d[j]}},b.model.defaultAccessorConfig=function(d){return d=d||{},d.resolverSetConfig=d.resolverSetConfig||b.model.escapedSetConfig,d.resolverGetConfig=d.resolverGetConfig||b.model.escapedGetConfig,d},b.model.applyHolderChangeRequest=function(f,j,e){e=b.model.defaultAccessorConfig(e),e.deltaMap=e.changeMap?{}:null,e.deltas=0;var i,h=j.segs.length,g=0===h;if(g?i={root:f,last:"model"}:(f.model||(f.model={},b.model.setChangedPath(e,[],e.inverse?"DELETE":"ADD")),i=b.model.stepTargetAccess(f.model,j.type,j.segs,0,h-1,e)),"ADD"===j.type){var k=j.value,d=b.makeArray(j.segs);b.model.applyChangeStrategy(i.root,i.last,h-1,d,k,e,g)}else{"DELETE"===j.type?i.root&&void 0!==i.root[i.last]&&(delete i.root[i.last],e.changeMap&&b.model.setChangedPath(e,j.segs,"DELETE")):b.fail("Unrecognised change type of "+j.type)}return e.deltas?e.deltaMap:null},b.model.diff=function(j,g,e){e=e||{changes:0,unchanged:0,changeMap:{}};var i,d=b.typeCode(j),k=b.typeCode(g);if("primitive"===d&&"primitive"===k){i=b.model.isSameValue(j,g)}else{if("primitive"===d^"primitive"===k){i=!1}else{var h={model:b.copy(j)};b.model.applyHolderChangeRequest(h,{value:g,segs:[],type:"ADD"},e);var f={model:b.copy(g)};e.inverse=!0,b.model.applyHolderChangeRequest(f,{value:j,segs:[],type:"ADD"},e),i=0===e.changes}}return i===!1&&0===e.changes?(e.changes=1,e.changeMap=void 0===g?"DELETE":"ADD"):i===!0&&0===e.unchanged&&(e.unchanged=1),i},b.matchChanges=function(g,d,n){for(var m=n.model,e=g,l=["model"],h=!1,f=[],k=0;k<d.length;++k){var j=d[k];"*"===j?k===d.length-1?h=!0:b.fail("Wildcard specification in modelChanged listener is only supported for the final path segment: "+d.join(".")):(l.push(j),e=b.isPrimitive(e)?e:e[j],m=m?m[j]:void 0)}return e&&(h?b.each(m,function(o,i){f.push(l.concat(i))}):f.push(l)),f},b.storeExternalChange=function(k,i,j,f,h){var e=i.composeSegments.apply(null,j),g=[i.holder.id,f.listenerId,f.wildcard?e:""],d=g.join("|");k.externalChanges[d]={listener:f.listener,namespace:f.namespace,priority:f.priority,args:h}},b.notifyModelChanges=function(p,o,q,h,l,v,r,g){if(p){for(var m=v&&b.getModelTransactionRec(g,v.id),u=0;u<p.length;++u){for(var f=p[u],e=f.segsArray.length>1,t=0;t<f.segsArray.length;++t){for(var y=b.matchChanges(o,f.segsArray[t],q),s=0;s<y.length;++s){if(r.destroyed){return}var x=y[s];f.listener=b.event.resolveListener(f.listener);var d=[e?q.model:b.model.getSimple(q,x),e?h.model:b.model.getSimple(h,x),e?[]:x.slice(1),l,v,r];if(!f.isRelay){var n=b.model.diff(d[0],d[1]);if(n){continue}var w=b.isExcludedChangeSource(v,f);if(w){continue}}m&&!f.isRelay&&f.transactional?b.storeExternalChange(m,r,x,f,d):f.listener.apply(null,d)}}}}},b.bindELMethods=function(d){d.parseEL=function(e){return b.model.pathToSegments(e,d.options.resolverSetConfig)},d.composeSegments=function(){return d.options.resolverSetConfig.parser.compose.apply(null,arguments)}},b.initModelEvent=function(g,d,e,f){b.notifyModelChanges(f,"ADD",e.oldHolder,b.emptyHolder,null,e,d,g)},b.emptyHolder=b.freezeRecursive({model:void 0}),b.preFireChangeRequest=function(d,e){e.type||(e.type="ADD"),e.segs=e.segs||d.parseEL(e.path)},b.bindRequestChange=function(d){d.change=function(i,h,e,g){var f={path:i,value:h,type:e,source:g};d.fireChangeRequest(f)}},b.isObjectSimple=function(d){return"[object Object]"===Object.prototype.toString.call(d)},b.mergeChangeSources=function(e,d){b.isObjectSimple(d)?b.extend(e,d):b.each(b.makeArray(d),function(f){e[f]=!0})},b.ChangeApplier=function(){},b.makeHolderChangeApplier=function(f,e){e=b.model.defaultAccessorConfig(e);var h=b.allocateGuid(),g=new b.ChangeApplier,d=b.isComponent(f)?"ChangeApplier for component "+b.dumpThat(f):"ChangeApplier with id "+h;return c.extend(g,{applierId:h,holder:f,listeners:b.makeEventFirer({name:"Internal change listeners for "+d}),transListeners:b.makeEventFirer({name:"External change listeners for "+d}),options:e,modelChanged:{},preCommit:b.makeEventFirer({name:"preCommit event for "+d}),postCommit:b.makeEventFirer({name:"postCommit event for "+d})}),g.destroy=function(){g.preCommit.destroy(),g.postCommit.destroy(),g.destroyed=!0},g.modelChanged.addListener=function(i,l,k,m){i="string"==typeof i?{path:i}:b.copy(i),i.listenerId=i.listenerId||b.allocateGuid(),i.namespace=k,i.softNamespace=m,"string"==typeof l&&(l={globalName:l}),i.listener=l,i.transactional!==!1&&(i.transactional=!0),i.segsArray||(void 0!==i.path&&(i.segs=i.segs||g.parseEL(i.path)),i.segsArray||(i.segsArray=[i.segs])),b.parseSourceExclusionSpec(i,i),i.wildcard=b.accumulate(b.transform(i.segsArray,function(n){return b.contains(n,"*")}),b.add,0),i.wildcard&&i.segsArray.length>1&&b.fail("Error in model listener specification ",i," - you may not supply a wildcard pattern as one of a set of multiple paths to be matched");var j=g[i.transactional?"transListeners":"listeners"];return j.addListener(i),i},g.modelChanged.removeListener=function(i){g.listeners.removeListener(i),g.transListeners.removeListener(i)},g.fireChangeRequest=function(j){var i=g.initiate("local",j.source);i.fireChangeRequest(j),i.commit()},g.initiate=function(l,k,n){l="init"===k?null:l||"local";var i="relay"===l,j={instanceId:b.allocateGuid(),id:n||b.allocateGuid(),changeRecord:{resolverSetConfig:e.resolverSetConfig,resolverGetConfig:e.resolverGetConfig},reset:function(){j.oldHolder=f,j.newHolder={model:b.copy(f.model)},j.changeRecord.changes=0,j.changeRecord.unchanged=0,j.changeRecord.changeMap={}},commit:function(p){if(g.preCommit.fire(j,g,p),j.changeRecord.changes>0){var o={model:f.model};f.model=j.newHolder.model,b.notifyModelChanges(g.transListeners.sortedListeners,j.changeRecord.changeMap,f,o,null,j,g,f)}i||g.postCommit.fire(j,g,p)},fireChangeRequest:function(p){b.preFireChangeRequest(g,p),p.transactionId=j.id;var o=b.model.applyHolderChangeRequest(j.newHolder,p,j.changeRecord);b.notifyModelChanges(g.listeners.sortedListeners,o,j.newHolder,f,p,j,g,f)},hasChangeSource:function(o){return j.fullSources[o]}},m=b.getModelTransactionRec(f,j.id);return m&&(b.mergeChangeSources(m.sources,k),j.sources=m.sources,j.fullSources=Object.create(m.sources),j.fullSources[l]=!0),j.reset(),b.bindRequestChange(j),j},b.bindRequestChange(g),b.bindELMethods(g),g}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{},fluid=fluid||fluid_2_0_0;!function(c,b){b.registerNamespace("fluid.model.transform"),b.defaults("fluid.transformFunction",{gradeNames:"fluid.function"}),b.defaults("fluid.standardInputTransformFunction",{gradeNames:"fluid.transformFunction"}),b.defaults("fluid.standardOutputTransformFunction",{gradeNames:"fluid.transformFunction"}),b.defaults("fluid.multiInputTransformFunction",{gradeNames:"fluid.transformFunction"}),b.defaults("fluid.standardTransformFunction",{gradeNames:["fluid.standardInputTransformFunction","fluid.standardOutputTransformFunction"]}),b.defaults("fluid.lens",{gradeNames:"fluid.transformFunction",invertConfiguration:null}),b.model.transform.pathToRule=function(d){return{transform:{type:"fluid.transforms.value",inputPath:d}}},b.model.transform.literalValueToRule=function(d){return{transform:{type:"fluid.transforms.literalValue",input:d}}},b.model.composePaths=function(d,e){return d=0===d?"0":d||"",e=0===e?"0":e||"",d?e?d+"."+e:d:e},b.model.transform.accumulateInputPath=function(e,d,f){void 0!==e&&f.push(b.model.composePaths(d.inputPrefix,e))},b.model.transform.accumulateStandardInputPath=function(e,f,d,g){b.model.transform.getValue(void 0,f[e],d),b.model.transform.accumulateInputPath(f[e+"Path"],d,g)},b.model.transform.accumulateMultiInputPaths=function(f,e,d,g){b.each(f,function(i,h){b.model.transform.accumulateStandardInputPath(h,e,d,g)})},b.model.transform.getValue=function(g,f,d){var e;return void 0!==g&&(e=b.get(d.source,b.model.composePaths(d.inputPrefix,g),d.resolverGetConfig)),void 0===e&&(e=b.isPrimitive(f)?f:"literalValue" in f?f.literalValue:void 0===f.transform?f:d.expand(f)),e},b.model.transform.NONDEFAULT_OUTPUT_PATH_RETURN={},b.model.transform.setValue=function(f,g,d){var h=b.copy(g),e=b.model.composePaths(d.outputPrefix,f);return void 0!==h&&d.applier.change(e,h),f?b.model.transform.NONDEFAULT_OUTPUT_PATH_RETURN:h},b.model.transform.resolveParam=function(e,d,f,g){var h=b.model.transform.getValue(e[f+"Path"],e[f],d);
return void 0!==h?h:g},b.model.transform.matchValue=function(e,g,f){var d={changes:0,unchanged:0,changeMap:{}};return b.model.diff(e,g,d),0===d.unchanged?0:f?281474959933440-16777216*d.changes+d.unchanged:d.changes?0:281474959933440+d.unchanged},b.model.transform.invertPaths=function(f,d){var e=b.model.composePaths(d.outputPrefix,f.outputPath);return f.outputPath=b.model.composePaths(d.inputPrefix,f.inputPath),f.inputPath=e,f},b.model.transform.prefixApplier=function(e,d){e.inputPrefix&&d.inputPrefixOp.push(e.inputPrefix),e.outputPrefix&&d.outputPrefixOp.push(e.outputPrefix),d.expand(e.input),e.inputPrefix&&d.inputPrefixOp.pop(),e.outputPrefix&&d.outputPrefixOp.pop()},b.defaults("fluid.model.transform.prefixApplier",{gradeNames:["fluid.transformFunction"]}),b.model.makePathStack=function(f,e){var d=f[e+"Stack"]=[];return f[e]="",{push:function(h){var g=b.model.composePaths(f[e],h);d.push(f[e]),f[e]=g},pop:function(){f[e]=d.pop()}}},b.model.transform.doTransform=function(i,m,l){var g=l.defaults,k=b.getGlobalValue(l.typeName);"function"!=typeof k&&b.fail("Transformation record specifies transformation function with name "+i.type+" which is not a function - ",k),b.hasGrade(g,"fluid.transformFunction")||(g=b.defaults("fluid.standardTransformFunction"));var e=[i,m];if(b.hasGrade(g,"fluid.multiInputTransformFunction")){var h={};b.each(g.inputVariables,function(o,n){h[n]=function(){var p=b.model.transform.getValue(i[n+"Path"],i[n],m);return p=void 0===p&&null!==o?o:p}}),e.unshift(h)}if(b.hasGrade(g,"fluid.standardInputTransformFunction")){"input" in i||"inputPath" in i||b.fail('Error in transform specification. Either "input" or "inputPath" must be specified for a standardInputTransformFunction: received ',i);var j=b.model.transform.getValue(i.inputPath,i.input,m);if(e.unshift(j),void 0===j){return}}var d=k.apply(null,e);if(b.hasGrade(g,"fluid.standardOutputTransformFunction")){var f=void 0!==i.outputPath?i.outputPath:l.doOutput?"":void 0;void 0!==f&&void 0!==d&&(b.model.transform.setValue(i.outputPath,d,m),d=void 0)}return d};var a=[];b.registerNamespace("fluid.pathUtil"),b.pathUtil.getPathSegment=function(e,d){return b.pathUtil.getPathSegmentImpl(a,e,d),a[0]},b.pathUtil.getHeadPath=function(d){return b.pathUtil.getPathSegment(d,0)},b.pathUtil.getFromHeadPath=function(e){var d=b.pathUtil.getPathSegmentImpl(null,e,0);return d===e.length?"":e.substring(d+1)},b.pathUtil.matchPath=function(d,h,f){for(var g=[];;){if(""===h^""===d&&f){return null}if(!d||!h){break}var e=b.pathUtil.getHeadPath(d),i=b.pathUtil.getHeadPath(h);if("*"!==e&&e!==i){return null}g.push(i),d=b.pathUtil.getFromHeadPath(d),h=b.pathUtil.getFromHeadPath(h)}return g},b.model.transform.expandWildcards=function(d,e){b.each(e,function(m,j){var l=d.queuedTransforms;d.pathOp.push(b.pathUtil.escapeSegment(j.toString()));for(var h=0;h<l.length;++h){if(b.pathUtil.matchPath(l[h].matchPath,d.path,!0)){var g=b.copy(l[h].transformSpec);(void 0===g.inputPath||b.model.transform.hasWildcard(g.inputPath))&&(g.inputPath=""),d.inputPrefixOp.push(d.path),d.outputPrefixOp.push(d.path);var k=b.model.transform.lookupType(g.type),f=b.model.transform.doTransform(g,d,k);void 0!==f&&b.model.transform.setValue(null,f,d),d.outputPrefixOp.pop(),d.inputPrefixOp.pop()}}b.isPrimitive(m)||b.model.transform.expandWildcards(d,m),d.pathOp.pop()})},b.model.transform.hasWildcard=function(d){return"string"==typeof d&&d.indexOf("*")!==-1},b.model.transform.maybePushWildcard=function(g,e){var f,d=b.model.transform.hasWildcard;return d(g.inputPath)?f=b.model.composePaths(e.inputPrefix,g.inputPath):(d(e.outputPrefix)||d(g.outputPath))&&(f=b.model.composePaths(e.outputPrefix,g.outputPath)),!!f&&(e.queuedTransforms.push({transformSpec:g,outputPrefix:e.outputPrefix,inputPrefix:e.inputPrefix,matchPath:f}),!0)},b.model.sortByKeyLength=function(e){var d=b.keys(e);return d.sort(b.compareStringLength(!0))},b.model.transform.handleTransformStrategy=function(e,d,f){return b.model.transform.maybePushWildcard(e,d)?void 0:b.model.transform.doTransform(e,d,f)},b.model.transform.handleInvertStrategy=function(f,d,g){f=b.copy(f),b.hasGrade(g.defaults,"fluid.standardTransformFunction")&&(f=b.model.transform.invertPaths(f,d));var h=g.defaults&&g.defaults.invertConfiguration;if(h){var e=b.invokeGlobalFunction(h,[f,d]);d.inverted.push(e)}},b.model.transform.handleCollectStrategy=function(g,d,h){var j=h.defaults,k=b.hasGrade(j,"fluid.standardInputTransformFunction"),f=b.hasGrade(j,"fluid.multiInputTransformFunction");if(k&&b.model.transform.accumulateStandardInputPath("input",g,d,d.inputPaths),f&&b.model.transform.accumulateMultiInputPaths(j.inputVariables,g,d,d.inputPaths),!f&&!k){var i=j.collectInputPaths;if(i){var e=b.makeArray(b.invokeGlobalFunction(i,[g,d]));d.inputPaths=d.inputPaths.concat(e)}}},b.model.transform.lookupType=function(d,e){d||b.fail("Transformation record is missing a type name: ",e),d.indexOf(".")===-1&&(d="fluid.transforms."+d);var f=b.defaults(d);return{defaults:f,typeName:d}},b.model.transform.processRule=function(k,d){"string"==typeof k?k=b.model.transform.pathToRule(k):void 0!==k.literalValue&&(k=b.model.transform.literalValueToRule(k.literalValue));var h;if(k.transform){var e,j;if(b.isArrayable(k.transform)){var g=k.transform;h=void 0;for(var f=0;f<g.length;++f){e=g[f],j=b.model.transform.lookupType(e.type),d.transformHandler(e,d,j)}}else{e=k.transform,j=b.model.transform.lookupType(e.type),h=d.transformHandler(e,d,j)}}return b.isArrayable(k)&&(d.collectedFlatSchemaOpts=d.collectedFlatSchemaOpts||{},d.collectedFlatSchemaOpts[d.outputPrefix]="array"),b.each(k,function(m,i){if("transform"!==i){d.outputPrefixOp.push(i);var l=d.expand(m,d);void 0!==l&&(b.model.transform.setValue(null,l,d),l=void 0),d.outputPrefixOp.pop()}}),h},b.model.transform.makeStrategy=function(d,e,f){f=f||b.model.transform.processRule,d.expand=function(g){return f(g,d)},d.outputPrefixOp=b.model.makePathStack(d,"outputPrefix"),d.inputPrefixOp=b.model.makePathStack(d,"inputPrefix"),d.transformHandler=e},b.model.transform.invertConfiguration=function(e){var d={inverted:[]};return b.model.transform.makeStrategy(d,b.model.transform.handleInvertStrategy),d.expand(e),{transform:d.inverted}},b.model.transform.collectInputPaths=function(e){var d={inputPaths:[]};return b.model.transform.makeStrategy(d,b.model.transform.handleCollectStrategy),d.expand(e),d.inputPaths},b.model.transform.flatSchemaStrategy=function(f,d){var e=b.model.sortByKeyLength(f);return function(h,m,j,g){for(var n=d.parser.compose.apply(null,g.slice(0,j)),l=0;l<e.length;++l){var k=e[l];if(null!==b.pathUtil.matchPath(k,n,!0)){return f[k]}}}},b.model.transform.defaultSchemaValue=function(e){var d=b.isPrimitive(e)?e:e.type;return"array"===d?[]:{}},b.model.transform.isomorphicSchemaStrategy=function(e,d){return function(g,j,h,f){var i=b.get(e,f.slice(0,h),d);return b.isArrayable(i)?"array":"object"}},b.model.transform.decodeStrategy=function(f,e,d){return e.isomorphic?b.model.transform.isomorphicSchemaStrategy(f,d):e.flatSchema?b.model.transform.flatSchemaStrategy(e.flatSchema,d):void 0},b.model.transform.schemaToCreatorStrategy=function(d){return function(f,h,g,e){if(void 0===f[h]){var i=d(f,h,g,e);return f[h]=b.model.transform.defaultSchemaValue(i),f[h]}}},b.model.transform.sequence=function(f,g,d){for(var e=0;e<g.length;++e){f=b.model.transform(f,g[e],d)}return f},b.model.compareByPathLength=function(e,d){var f=e.path.length-d.path.length;return 0===f?e.sequence-d.sequence:f},b.model.fireSortedChanges=function(e,d){e.sort(b.model.compareByPathLength),b.fireChanges(d,e)},b.model.transformWithRules=function(i,k,g){g=g||{};var e=b.model.escapedGetConfig,h=b.model.escapedSetConfig,f=b.model.transform.decodeStrategy(i,g,e),d={source:i,target:{model:f?b.model.transform.defaultSchemaValue(f(null,"",0,[""])):{}},resolverGetConfig:e,resolverSetConfig:h,collectedFlatSchemaOpts:void 0,queuedChanges:[],queuedTransforms:[]};b.model.transform.makeStrategy(d,b.model.transform.handleTransformStrategy),d.applier={fireChangeRequest:function(l){l.sequence=d.queuedChanges.length,d.queuedChanges.push(l)}},b.bindRequestChange(d.applier),d.expand(k);var j=b.copy(h);return void 0!==d.collectedFlatSchemaOpts&&(c.extend(d.collectedFlatSchemaOpts,g.flatSchema),f=b.model.transform.flatSchemaStrategy(d.collectedFlatSchemaOpts,e)),j.strategies=[b.model.defaultFetchStrategy,f?b.model.transform.schemaToCreatorStrategy(f):b.model.defaultCreatorStrategy],d.finalApplier=g.finalApplier||b.makeHolderChangeApplier(d.target,{resolverSetConfig:j}),d.queuedTransforms.length>0&&(d.typeStack=[],d.pathOp=b.model.makePathStack(d,"path"),b.model.transform.expandWildcards(d,i)),b.model.fireSortedChanges(d.queuedChanges,d.finalApplier),d.target.model},c.extend(b.model.transformWithRules,b.model.transform),b.model.transform=b.model.transformWithRules,b.transformOne=function(d){return{transformOptions:{transformer:"fluid.model.transformWithRules",config:d}}},b.transformMany=function(d){return{transformOptions:{transformer:"fluid.model.transform.sequence",config:d}}}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{},fluid=fluid||fluid_2_0_0;!function(b,a){a.registerNamespace("fluid.model.transform"),a.registerNamespace("fluid.transforms"),a.defaults("fluid.transforms.value",{gradeNames:"fluid.standardTransformFunction",invertConfiguration:"fluid.identity"}),a.transforms.value=a.identity,a.transforms.identity=a.transforms.value,a.defaults("fluid.transforms.identity",{gradeNames:"fluid.transforms.value"}),a.transforms.invertToIdentity=function(c){return c.type="fluid.transforms.identity",c},a.defaults("fluid.transforms.literalValue",{gradeNames:"fluid.standardOutputTransformFunction"}),a.transforms.literalValue=function(c){return c.input},a.defaults("fluid.transforms.stringToNumber",{gradeNames:["fluid.standardTransformFunction","fluid.lens"],invertConfiguration:"fluid.transforms.stringToNumber.invert"}),a.transforms.stringToNumber=function(c){var d=Number(c);return isNaN(d)?void 0:d},a.transforms.stringToNumber.invert=function(c){return c.type="fluid.transforms.numberToString",c
},a.defaults("fluid.transforms.numberToString",{gradeNames:["fluid.standardTransformFunction","fluid.lens"],invertConfiguration:"fluid.transforms.numberToString.invert"}),a.transforms.numberToString=function(c){return"number"!=typeof c?void 0:""+c},a.transforms.numberToString.invert=function(c){return c.type="fluid.transforms.stringToNumber",c},a.defaults("fluid.transforms.count",{gradeNames:"fluid.standardTransformFunction"}),a.transforms.count=function(c){return a.makeArray(c).length},a.defaults("fluid.transforms.round",{gradeNames:["fluid.standardTransformFunction","fluid.lens"],invertConfiguration:"fluid.transforms.invertToIdentity"}),a.transforms.round=function(c){return Math.round(c)},a.defaults("fluid.transforms.delete",{gradeNames:"fluid.transformFunction"}),a.transforms["delete"]=function(e,c){var d=a.model.composePaths(c.outputPrefix,e.outputPath);c.applier.change(d,null,"DELETE")},a.defaults("fluid.transforms.firstValue",{gradeNames:"fluid.standardOutputTransformFunction"}),a.transforms.firstValue=function(e,c){e.values&&e.values.length||a.fail('firstValue transformer requires an array of values at path named "values", supplied',e);for(var f=0;f<e.values.length;f++){var g=e.values[f],d=c.expand(g);if(void 0!==d){return d}}},a.defaults("fluid.transforms.linearScale",{gradeNames:["fluid.multiInputTransformFunction","fluid.standardTransformFunction","fluid.lens"],invertConfiguration:"fluid.transforms.linearScale.invert",inputVariables:{factor:1,offset:0}}),a.transforms.linearScale=function(d,c){var e=c.factor(),f=c.offset();if("number"==typeof d&&"number"==typeof e&&"number"==typeof f){return d*e+f}},a.transforms.linearScale.invert=function(c){return delete c.factorPath,delete c.offsetPath,void 0!==c.factor&&(c.factor=0===c.factor?0:1/c.factor),void 0!==c.offset&&(c.offset=-c.offset*(void 0!==c.factor?c.factor:1)),c},a.defaults("fluid.transforms.binaryOp",{gradeNames:["fluid.multiInputTransformFunction","fluid.standardOutputTransformFunction"],inputVariables:{left:null,right:null}}),a.transforms.binaryLookup={"===":function(d,c){return a.model.isSameValue(d,c)},"!==":function(d,c){return !a.model.isSameValue(d,c)},"<=":function(d,c){return d<=c},"<":function(d,c){return d<c},">=":function(d,c){return d>=c},">":function(d,c){return d>c},"+":function(d,c){return d+c},"-":function(d,c){return d-c},"*":function(d,c){return d*c},"/":function(d,c){return d/c},"%":function(d,c){return d%c},"&&":function(d,c){return d&&c},"||":function(d,c){return d||c}},a.transforms.binaryOp=function(e,g,c){var i=e.left(),h=e.right(),f=a.model.transform.getValue(void 0,g.operator,c),d=a.transforms.binaryLookup[f];return void 0===d||void 0===i||void 0===h?void 0:d(i,h)},a.defaults("fluid.transforms.condition",{gradeNames:["fluid.multiInputTransformFunction","fluid.standardOutputTransformFunction"],inputVariables:{"true":null,"false":null,condition:null}}),a.transforms.condition=function(c){var d=c.condition();if(null!==d){return c[d?"true":"false"]()}},a.defaults("fluid.transforms.valueMapper",{gradeNames:["fluid.transformFunction","fluid.lens"],invertConfiguration:"fluid.transforms.valueMapper.invert",collectInputPaths:"fluid.transforms.valueMapper.collect"}),a.model.transform.compareMatches=function(e,d){var c=d.matchValue-e.matchValue;return 0===c?e.index-d.index:c},a.transforms.valueMapper=function(g,c){g.match||a.fail('valueMapper requires an array or hash of matches at path named "match", supplied ',g);var h=a.model.transform.getValue(g.defaultInputPath,void 0,c),f=a.isArrayable(g.match)?a.transforms.valueMapper.longFormMatch(h,g,c):g.match[h];if(void 0===f&&(f=g.noMatch),void 0!==f){var e=void 0===f.outputPath?g.defaultOutputPath:f.outputPath;c.outputPrefixOp.push(e);var d;return a.isPrimitive(f)?d=f:f.outputUndefinedValue?d=void 0:(d=a.model.transform.resolveParam(f,c,"outputValue",void 0),d=void 0===d?g.defaultOutputValue:d),"string"==typeof e&&void 0!==d&&(a.model.transform.setValue(void 0,d,c,g.merge),d=void 0),c.outputPrefixOp.pop(),d}},a.transforms.valueMapper.longFormMatch=function(j,h,k){var d=h.match;0===d.length&&a.fail("valueMapper supplied empty list of matches: ",h);for(var e=[],f=0;f<d.length;++f){var g=d[f],l=g.inputPath?a.model.transform.getValue(g.inputPath,void 0,k):j,c=a.model.transform.matchValue(g.inputValue,l,g.partialMatches);e[f]={index:f,matchValue:c}}return e.sort(a.model.transform.compareMatches),e[0].matchValue<=0?void 0:d[e[0].index]},a.transforms.valueMapper.invert=function(f,c){var e=[],g={type:"fluid.transforms.valueMapper",match:e},d=a.isArrayable(f.match);g.defaultInputPath=a.model.composePaths(c.outputPrefix,f.defaultOutputPath),g.defaultOutputPath=a.model.composePaths(c.inputPrefix,f.defaultInputPath);var h=a.firstDefined;return a.each(f.match,function(l,k){if(l.outputUndefinedValue!==!0){var j={},i=h(d?l.inputValue:k,f.defaultInputValue);void 0===i&&a.fail("Failure inverting configuration for valueMapper - inputValue could not be resolved for record "+k+": ",f),j.outputValue=i,j.inputValue=!d&&a.isPrimitive(l)?l:h(l.outputValue,f.defaultOutputValue),l.outputPath&&(j.inputPath=a.model.composePaths(c.outputPrefix,h(l.outputPath,f.outputPath))),l.inputPath&&(j.outputPath=a.model.composePaths(c.inputPrefix,h(l.inputPath,f.inputPath))),e.push(j)}}),g},a.transforms.valueMapper.collect=function(d,c){var e=[];return a.model.transform.accumulateInputPath(d.defaultInputPath,c,e),a.each(d.match,function(f){a.model.transform.accumulateInputPath(f.inputPath,c,e)}),e},a.defaults("fluid.transforms.arrayToSetMembership",{gradeNames:["fluid.standardTransformFunction","fluid.lens"],invertConfiguration:"fluid.transforms.arrayToSetMembership.invert"}),a.transforms.arrayToSetMembership=function(g,f,c){var d={},e=f.options;return g&&a.isArrayable(g)||a.fail("arrayToSetMembership didn't find array at inputPath nor passed as value.",f),e||a.fail("arrayToSetMembership requires an options block set"),void 0===f.presentValue&&(f.presentValue=!0),void 0===f.missingValue&&(f.missingValue=!1),a.each(e,function(j,h){var i=g.indexOf(h)!==-1?f.presentValue:f.missingValue;a.set(d,j,i,c.resolverSetConfig)}),d},a.transforms.arrayToSetMembership.invertWithType=function(e,c,d){e.type=d;var f={};return a.each(e.options,function(h,g){f[h]=g}),e.options=f,e},a.transforms.arrayToSetMembership.invert=function(d,c){return a.transforms.arrayToSetMembership.invertWithType(d,c,"fluid.transforms.setMembershipToArray")},a.defaults("fluid.transforms.setMembershipToArray",{gradeNames:["fluid.standardTransformFunction","fluid.lens"],invertConfiguration:"fluid.transforms.setMembershipToArray.invert"}),a.transforms.setMembershipToArray=function(d,f,c){var e=f.options;e||a.fail("setMembershipToArray requires an options block specified"),void 0===f.presentValue&&(f.presentValue=!0),void 0===f.missingValue&&(f.missingValue=!1);var g=[];return a.each(e,function(j,h){var i=a.get(d,h,c.resolverGetConfig);i===f.presentValue&&g.push(j)}),g},a.transforms.setMembershipToArray.invert=function(d,c){return a.transforms.arrayToSetMembership.invertWithType(d,c,"fluid.transforms.arrayToSetMembership")},a.model.transform.applyPaths=function(c,e,f){for(var d=0;d<f.length;++d){"push"===c?e.push(f[d]):e.pop()}},a.model.transform.expandInnerValues=function(i,d,c,j){var h=c.inputPrefixOp,g=c.outputPrefixOp,f=a.model.transform.applyPaths;f("push",h,i),f("push",g,d);var e={};return a.each(j,function(k){var l=c.expand(k);a.isPrimitive(l)?e=l:b.extend(!0,e,l)}),f("pop",g,d),f("pop",h,i),e},a.defaults("fluid.transforms.indexArrayByKey",{gradeNames:["fluid.standardTransformFunction","fluid.lens"],invertConfiguration:"fluid.transforms.indexArrayByKey.invert"}),a.transforms.indexArrayByKey=function(d,f,c){void 0===f.key&&a.fail("indexArrayByKey requires a 'key' option.",f),a.isArrayable(d)||a.fail("indexArrayByKey didn't find array at inputPath.",f);var g={},e=f.key;return a.each(d,function(i,h){var m=i[e],l=typeof m;"string"!==l&&"boolean"!==l&&"number"!==l&&a.fail("indexArrayByKey encountered untransformable array due to missing or invalid key",i);var j=a.copy(i);delete j[e],f.innerValue&&(j=a.model.transform.expandInnerValues([c.inputPrefix,f.inputPath,h.toString()],[f.outputPath,m],c,f.innerValue)),g[m]=j}),g},a.transforms.indexArrayByKey.invert=function(d){if(d.type="fluid.transforms.deindexIntoArrayByKey",d.innerValue){for(var c=d.innerValue,e=0;e<c.length;++e){c[e]=a.model.transform.invertConfiguration(c[e])}}return d},a.defaults("fluid.transforms.deindexIntoArrayByKey",{gradeNames:["fluid.standardTransformFunction","fluid.lens"],invertConfiguration:"fluid.transforms.deindexIntoArrayByKey.invert"}),a.transforms.deindexIntoArrayByKey=function(g,f,d){void 0===f.key&&a.fail('deindexIntoArrayByKey requires a "key" option.',f);var c=[],e=f.key;return a.each(g,function(i,h){var j={};j[e]=h,f.innerValue&&(i=a.model.transform.expandInnerValues([f.inputPath,h],[f.outputPath,c.length.toString()],d,f.innerValue)),b.extend(!0,j,i),c.push(j)}),c},a.transforms.deindexIntoArrayByKey.invert=function(d){if(d.type="fluid.transforms.indexArrayByKey",d.innerValue){for(var c=d.innerValue,e=0;e<c.length;++e){c[e]=a.model.transform.invertConfiguration(c[e])}}return d},a.defaults("fluid.transforms.limitRange",{gradeNames:"fluid.standardTransformFunction"}),a.transforms.limitRange=function(h,e){var f=e.min;if(void 0!==f){var d=e.excludeMin||0;f+=d,h<f&&(h=f)}var c=e.max;if(void 0!==c){var g=e.excludeMax||0;c-=g,h>c&&(h=c)}return h},a.defaults("fluid.transforms.indexOf",{gradeNames:["fluid.standardTransformFunction","fluid.lens"],invertConfiguration:"fluid.transforms.indexOf.invert"}),a.transforms.indexOf=function(d,c){"number"==typeof c.notFound&&c.notFound>=0&&a.fail("A positive number is not allowed as 'notFound' value for indexOf");var f=a.transforms.parseIndexationOffset(c.offset,"indexOf"),g=a.makeArray(c.array),e=g.indexOf(d);return e===-1&&c.notFound?c.notFound:e+f},a.transforms.indexOf.invert=function(d,c){var e=a.transforms.invertArrayIndexation(d,c);return e.type="fluid.transforms.dereference",e
},a.defaults("fluid.transforms.dereference",{gradeNames:["fluid.standardTransformFunction","fluid.lens"],invertConfiguration:"fluid.transforms.dereference.invert"}),a.transforms.dereference=function(e,d){if("number"==typeof e){var f=a.transforms.parseIndexationOffset(d.offset,"dereference"),g=a.makeArray(d.array),c=e+f;return g[c]}},a.transforms.dereference.invert=function(d,c){var e=a.transforms.invertArrayIndexation(d,c);return e.type="fluid.transforms.indexOf",e},a.transforms.parseIndexationOffset=function(e,c){var d=0;return void 0!==e&&(d=a.parseInteger(e),isNaN(d)&&a.fail(c+' requires the value of "offset" to be an integer or a string that can be converted to an integer. '+e+" is invalid.")),d},a.transforms.invertArrayIndexation=function(c){return isNaN(Number(c.offset))||(c.offset=Number(c.offset)*-1),c},a.defaults("fluid.transforms.stringTemplate",{gradeNames:"fluid.standardOutputTransformFunction"}),a.transforms.stringTemplate=function(c){return a.stringTemplate(c.template,c.terms)},a.defaults("fluid.transforms.free",{gradeNames:"fluid.transformFunction"}),a.transforms.free=function(d){var c=a.makeArray(d.args);return a.invokeGlobalFunction(d.func,c)},a.defaults("fluid.transforms.quantize",{gradeNames:"fluid.standardTransformFunction"}),a.transforms.quantize=function(g,d,c){d.ranges&&d.ranges.length||a.fail("fluid.transforms.quantize should have a key called ranges containing an array defining ranges to quantize");for(var e=0;e<d.ranges.length;e++){var f=d.ranges[e];if(g<=f.upperBound||void 0===f.upperBound&&g>=Number.NEGATIVE_INFINITY){return a.isPrimitive(f.output)?f.output:c.expand(f.output)}}},a.defaults("fluid.transforms.inRange",{gradeNames:"fluid.standardTransformFunction"}),a.transforms.inRange=function(d,c){return(void 0===c.min||c.min<=d)&&(void 0===c.max||c.max>=d)}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{},fluid=fluid||fluid_2_0_0;!function(j,n){n.thatistBridge=function(G,I){var H=function(J){for(var L=J.split("."),K=I,O=0;O<L.length;++O){K=K[L[O]]}var N=[this];2===arguments.length&&(N=N.concat(j.makeArray(arguments[1])));var M=K.apply(null,N);this.that=function(){return M};var P=typeof M;return !M||"string"===P||"number"===P||"boolean"===P||M&&void 0!==M.length?M:this};return j.fn[G]=H,H},n.thatistBridge("fluid",n),n.thatistBridge("fluid_2_0_0",fluid_2_0_0);var k=function(){return j.browser.msie?"tabIndex":"tabindex"},p=function(G){return !(G.length<=0)&&j(G[0]).is("a, input, button, select, area, textarea, object")},g=function(H){if(!(H.length<=0)){if(!n.tabindex.hasAttr(H)){return p(H)?Number(0):void 0}var G=H.attr(k());return Number(G)}},d=function(G,H){return G.each(function(I,J){j(J).attr(k(),H)})};n.tabindex=function(H,G){return H=j(H),null!==G&&void 0!==G?d(H,G):g(H)},n.tabindex.remove=function(G){return G=j(G),G.each(function(H,I){j(I).removeAttr(k())})},n.tabindex.hasAttr=function(H){if(H=j(H),H.length<=0){return !1}var G=H.map(function(){var I=this.getAttributeNode(k());return !!I&&I.specified});return 1===G.length?G[0]:G},n.tabindex.has=function(G){return G=j(G),n.tabindex.hasAttr(G)||p(G)},n.a11y=j.a11y||{},n.a11y.orientation={HORIZONTAL:0,VERTICAL:1,BOTH:2};var t={next:j.ui.keyCode.DOWN,previous:j.ui.keyCode.UP},b={next:j.ui.keyCode.RIGHT,previous:j.ui.keyCode.LEFT},B=function(G){return G.jquery?G[0]:G},w=function(G){G.each(function(H,I){I=j(I),(!I.fluid("tabindex.has")||I.fluid("tabindex")<0)&&I.fluid("tabindex",0)})};n.tabbable=function(G){G=j(G),w(G)};var o="selectionContext",v=-32768,q=function(G){G.activeItemIndex!==v&&(G.options.onLeaveContainer?G.options.onLeaveContainer(G.selectables[G.activeItemIndex]):G.options.onUnselect&&G.options.onUnselect(G.selectables[G.activeItemIndex])),G.options.rememberSelectionState||(G.activeItemIndex=v)},m=function(G,H){H&&H(G)},x=function(H,G){G&&H&&G(H)},f=function(H,G){x(H,G.options.onUnselect)},y=function(G,H){f(H.selectedElement(),H),G=B(G);var I=H.selectables.index(G);I!==-1&&(H.activeItemIndex=I,m(G,H.options.onSelect))},F=function(G){return function(H){return j(H.target).fluid("tabindex",0),y(H.target,G),H.stopPropagation()}},h=function(G){return function(H){return j(H.target).fluid("tabindex",G.options.selectablesTabindex),f(H.target,G),H.stopPropagation()}},u=function(G){var H=G.selectables;G.activeItemIndex>=H.length&&(G.activeItemIndex=G.options.noWrap?H.length-1:0),G.activeItemIndex<0&&G.activeItemIndex!==v&&(G.activeItemIndex=G.options.noWrap?0:H.length-1),G.activeItemIndex>=0&&n.focus(H[G.activeItemIndex])},A=function(G){var H=G.selectedElement();H&&n.blur(H),f(G.selectedElement(),G),G.activeItemIndex===v&&(G.activeItemIndex=-1)},C=function(G){A(G),++G.activeItemIndex,u(G)},l=function(G){A(G),--G.activeItemIndex,u(G)},i=function(G,H){return function(I){I.which===H.next?(C(G),I.preventDefault()):I.which===H.previous&&(l(G),I.preventDefault())}},s=function(G){var H;return G===n.a11y.orientation.HORIZONTAL?H=b:G===n.a11y.orientation.VERTICAL&&(H=t),H},c=function(G){return function(H){H.which===j.ui.keyCode.TAB&&(q(G),H.shiftKey&&(G.focusIsLeavingContainer=!0))}},r=function(G){return function(H){var J=G.options.autoSelectFirstItem,I="function"==typeof J?J():J;return G.focusIsLeavingContainer&&(I=!1),I&&H.target===G.container.get(0)&&(G.activeItemIndex===v&&(G.activeItemIndex=0),n.focus(G.selectables[G.activeItemIndex])),H.stopPropagation()}},z=function(G){return function(H){return G.focusIsLeavingContainer=!1,H.stopPropagation()}},e=function(H,K,L){var I=j.extend(!0,{},K,L),M=s(I.direction),G=I.selectableElements?I.selectableElements:H.find(I.selectableSelector),J={container:H,activeItemIndex:v,selectables:G,focusIsLeavingContainer:!1,options:I};return J.selectablesUpdated=function(N){"number"==typeof J.options.selectablesTabindex&&J.selectables.fluid("tabindex",J.options.selectablesTabindex),J.selectables.off("focus."+o),J.selectables.off("blur."+o),J.selectables.on("focus."+o,F(J)),J.selectables.on("blur."+o,h(J)),M&&J.options.noBubbleListeners&&(J.selectables.off("keydown."+o),J.selectables.on("keydown."+o,i(J,M))),N?y(N,J):u(J)},J.refresh=function(){J.options.selectableSelector||n.fail("Cannot refresh selectable context which was not initialised by a selector"),J.selectables=H.find(I.selectableSelector),J.selectablesUpdated()},J.selectedElement=function(){return J.activeItemIndex<0?null:J.selectables[J.activeItemIndex]},M&&!J.options.noBubbleListeners&&H.keydown(i(J,M)),H.keydown(c(J)),H.focus(r(J)),H.blur(z(J)),J.selectablesUpdated(),J};n.selectable=function(I,G){I=j(I);var H=e(I,n.selectable.defaults,G);return n.setScopedData(I,o,H),H},n.selectable.select=function(H,G){n.focus(G)},n.selectable.selectNext=function(G){G=j(G),C(n.getScopedData(G,o))},n.selectable.selectPrevious=function(G){G=j(G),l(n.getScopedData(G,o))},n.selectable.currentSelection=function(H){H=j(H);var G=n.getScopedData(H,o);return j(G.selectedElement())},n.selectable.defaults={direction:n.a11y.orientation.VERTICAL,selectablesTabindex:-1,autoSelectFirstItem:!0,rememberSelectionState:!0,selectableSelector:".selectable",selectableElements:null,onSelect:null,onUnselect:null,onLeaveContainer:null,noWrap:!1};var a=function(L,H){if(!L.modifier){return !0}var I=L.modifier,J=I&&H.ctrlKey,G=I&&H.altKey,K=I&&H.shiftKey;return J||G||K},E=function(G){return function(H){var K=H.target;if(n.enabled(K)){var J=H.which?H.which:H.keyCode;if(J===G.key&&G.activateHandler&&a(G,H)){var I=j.Event("fluid-activate");j(K).trigger(I,[G.activateHandler]),I.isDefaultPrevented()&&H.preventDefault()}}}},D=function(J,M,G,H){var L=[];j(G).each(function(N,O){L.push({modifier:null,key:O,activateHandler:M})}),H&&H.additionalBindings&&(L=L.concat(H.additionalBindings)),n.initEnablement(J);for(var I=0;I<L.length;++I){var K=L[I];J.keydown(E(K))}J.on("fluid-activate",function(N,O){return O=O||M,O?O(N):null})};n.activatable=function(I,H,G){I=j(I),D(I,H,n.activatable.defaults.keys,G)},n.activate=function(G){j(G).trigger("fluid-activate")},n.activatable.defaults={keys:[j.ui.keyCode.ENTER,j.ui.keyCode.SPACE]}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(d,c){c.defaults("fluid.viewComponent",{gradeNames:["fluid.modelComponent"],initFunction:"fluid.initView",argumentMap:{container:0,options:1},members:{dom:"@expand:fluid.initDomBinder({that}, {that}.options.selectors)"}}),c.dumpSelector=function(e){return"string"==typeof e?e:e.selector?e.selector:""},c.diagnoseFailedView=function(f,j,h,g){if(!j&&c.hasGrade(h,"fluid.viewComponent")){var e=c.wrap(g[1]),i="Instantiation of view component with type "+f+" failed, since ";e?0===e.length?c.fail(i+'selector "',c.dumpSelector(g[1]),'" did not match any markup in the document'):c.fail(i+" component creator function did not return a value"):c.fail(i+" container argument is empty")}},c.checkTryCatchParameter=function(){var e=window.location||{search:"",protocol:"file:"},f=e.search.slice(1).split("&");return c.find(f,function(g){if(0===g.indexOf("notrycatch")){return !0}})===!0},c.notrycatch=c.checkTryCatchParameter(),c.wrap=function(e,f){return f=f||d,!e||e.jquery?e:f(e)},c.unwrap=function(e){return e&&e.jquery?e[0]:e},c.container=function(h,i,j){var e=h.selector||h;j&&(h=c.unwrap(h));var f=c.wrap(h,j);if(i&&(!f||0===f.length)){return null}if(!f||!f.jquery||1!==f.length){"string"!=typeof h&&(h=f.selector);var g=void 0!==f.length?f.length:0;c.fail((g>1?"More than one ("+g+") container elements were":"No container element was")+" found for selector "+h)}return c.isDOMNode(f[0])||c.fail("fluid.container was supplied a non-jQueryable element"),f.selector=e,f.context=f.context||h.ownerDocument||document,f},c.createDomBinder=function(f,g){function i(l,k){return c.allocateSimpleId(k)+"-"+l}function e(m,l,k){h.cache[i(m,l)]=k}var h={id:c.allocateGuid(),cache:{}},j=f.constructor;return h.locate=function(m,o){var k,l,n;return k=g[m],l=o?d(o):f,l||c.fail("DOM binder invoked for selector "+m+" without container"),n=""===k?l:k?"function"==typeof k?j(k.call(null,c.unwrap(l))):j(k,l):j(),n.selector||(n.selector=k,n.context=l),n.selectorName=m,e(m,l,n),n
},h.fastLocate=function(l,o){var k=o?o:f,m=i(l,k),n=h.cache[m];return n?n:h.locate(l,o)},h.clear=function(){h.cache={}},h.refresh=function(n,o){var l=o?o:f;"string"==typeof n&&(n=[n]),void 0===l.length&&(l=[l]);for(var m=0;m<n.length;++m){for(var k=0;k<l.length;++k){h.locate(n[m],l[k])}}},h.resolvePathSegment=h.locate,h},c.expectFilledSelector=function(e,f){e&&0===e.length&&e.jquery&&c.fail(f+': selector "'+e.selector+'" with name '+e.selectorName+" returned no results in context "+c.dumpEl(e.context))},c.initView=function(f,j,k,i){var e=c.container(j,!0);if(c.expectFilledSelector(e,'Error instantiating component with name "'+f),!e){return null}var h=function(m){m.container=e},g=c.initLittleComponent(f,k,i||{gradeNames:["fluid.viewComponent"]},h);g.dom||c.initDomBinder(g);var l=g.options.jQuery;return c.log("Constructing view component "+f+" with container "+e.constructor.expando+(l?" user jQuery "+l.expando:"")+" env: "+d.expando),g},c.initDomBinder=function(f,e){return f.container||c.fail("fluid.initDomBinder called for component with typeName "+f.typeName+' without an initialised container - this has probably resulted from placing "fluid.viewComponent" in incorrect position in grade merging order.  Make sure to place it to the right of any non-view grades in the gradeNames list to ensure that it overrides properly: resolved gradeNames is ',f.options.gradeNames," for component ",f),f.dom=c.createDomBinder(f.container,e||f.options.selectors||{}),f.locate=f.dom.locate,f.dom},c.findAncestor=function(e,f){for(e=c.unwrap(e);e;){if(f(e)){return e}e=e.parentNode}},c.findForm=function(e){return c.findAncestor(e,function(f){return"form"===f.nodeName.toLowerCase()})},c.each(["text","html"],function(e){c[e]=function(f,g){return f=d(f),void 0===g?f[e]():f[e](g)}}),c.value=function(l,k){var i=c.unwrap(l),e=!1;if(void 0===i.nodeType&&i.length>1&&(i=i[0],e=!0),"input"!==i.nodeName.toLowerCase()||!/radio|checkbox/.test(i.type)){return void 0===k?d(i).val():d(i).val(k)}var f=i.name;void 0===f&&c.fail("Cannot acquire value from node "+c.dumpEl(i)+" which does not have name attribute set");var j;if(e){j=l}else{j=i.ownerDocument.getElementsByName(f);var g=c.findForm(i);j=d.grep(j,function(m){return m.name===f&&(!g||c.dom.isContainer(g,m))})}if(void 0===k){var h=d.map(j,function(m){return m.checked?m.value:null});return"radio"===i.type?h[0]:h}"boolean"==typeof k&&(k=k?"true":"false"),d.each(j,function(){this.checked=k instanceof Array?k.indexOf(this.value)!==-1:k===this.value})},c.BINDING_ROOT_KEY="fluid-binding-root",c.findData=function(f,e){for(;f;){var g=d.data(f,e);if(g){return g}f=f.parentNode}},c.bindFossils=function(f,g,e){d.data(f,c.BINDING_ROOT_KEY,{data:g,fossils:e})},c.boundPathForNode=function(h,g){h=c.unwrap(h);var f=h.name||h.id,e=g[f];return e?e.EL:null},c.applyBoundChange=function(j,k,g){j=c.unwrap(j),void 0===k&&(k=c.value(j)),void 0===j.nodeType&&j.length>0&&(j=j[0]);var e=c.findData(j,c.BINDING_ROOT_KEY);e||c.fail("Bound data could not be discovered in any node above "+c.dumpEl(j));var f=j.name,h=e.fossils[f];h||c.fail("No fossil discovered for name "+f+" in fossil record above "+c.dumpEl(j)),"boolean"==typeof h.oldvalue&&(k=!!k[0]);var i=e.fossils[f].EL;g?g.fireChangeRequest({path:i,value:k,source:"DOM:"+j.id}):c.set(e.data,i,k)},c.jById=function(h,g){g=g&&9===g.nodeType?g:document;var e=c.byId(h,g),f=e?d(e):[];return f.selector="#"+h,f.context=g,f},c.byId=function(g,f){f=f&&9===f.nodeType?f:document;var e=f.getElementById(g);return e?(e.id!==g&&c.fail("Problem in document structure - picked up element "+c.dumpEl(e)+" for id "+g+" without this id - most likely the element has a name which conflicts with this id"),e):null},c.getId=function(e){return c.unwrap(e).id},c.allocateSimpleId=function(f){if(f=c.unwrap(f),!f||c.isPrimitive(f)){return null}if(!f.id){var e="fluid-id-"+c.allocateGuid();f.id=e}return f.id},c.getDocument=function(e){var f=c.unwrap(e);return 9===f.nodeType?f:f.ownerDocument},c.defaults("fluid.ariaLabeller",{gradeNames:["fluid.viewComponent"],labelAttribute:"aria-label",liveRegionMarkup:'<div class="liveRegion fl-hidden-accessible" aria-live="polite"></div>',liveRegionId:"fluid-ariaLabeller-liveRegion",invokers:{generateLiveElement:{funcName:"fluid.ariaLabeller.generateLiveElement",args:"{that}"},update:{funcName:"fluid.ariaLabeller.update",args:["{that}","{arguments}.0"]}},listeners:{onCreate:{func:"{that}.update",args:[null]}}}),c.ariaLabeller.update=function(f,g){if(g=g||f.options,f.container.attr(f.options.labelAttribute,g.text),g.dynamicLabel){var e=c.jById(f.options.liveRegionId);0===e.length&&(e=f.generateLiveElement()),e.text(g.text)}},c.ariaLabeller.generateLiveElement=function(f){var e=d(f.options.liveRegionMarkup);return e.prop("id",f.options.liveRegionId),d("body").append(e),e};var b="aria-labelling";c.getAriaLabeller=function(e){e=d(e);var f=c.getScopedData(e,b);return f},c.updateAriaLabel=function(f,h,e){e=d.extend({},e||{},{text:h});var g=c.getAriaLabeller(f);return g?g.update(e):(g=c.ariaLabeller(f,e),c.setScopedData(f,b,g)),g};var a={};d(document).click(function(e){for(var f=c.resolveEventTarget(e);f;){if(a[f.id]){return}f=f.parentNode}c.each(a,function(h,g){h(e),delete a[g]})}),c.globalDismissal=function(e,f){c.each(e,function(g){var h=c.unwrap(g).ownerDocument===document?c.allocateSimpleId(g):c.allocateGuid();f?a[h]=f:delete a[h]})},c.now=function(){return Date.now?Date.now():(new Date).getTime()},c.deadMansBlur=function(g,e){var f={options:d.extend(!0,{},c.defaults("fluid.deadMansBlur"),e)};return f.blurPending=!1,f.lastCancel=0,f.canceller=function(h){c.log("Cancellation through "+h.type+" on "+c.dumpEl(h.target)),f.lastCancel=c.now(),f.blurPending=!1},f.noteProceeded=function(){c.globalDismissal(f.options.exclusions)},f.reArm=function(){c.globalDismissal(f.options.exclusions,f.proceed)},f.addExclusion=function(h){c.globalDismissal(h,f.proceed)},f.proceed=function(h){c.log("Direct proceed through "+h.type+" on "+c.dumpEl(h.target)),f.blurPending=!1,f.options.handler(g)},c.each(f.options.exclusions,function(h){h=d(h),c.each(h,function(i){d(i).on("focusin",f.canceller).on("fluid-focus",f.canceller).click(f.canceller).mousedown(f.canceller)})}),f.options.cancelByDefault?f.reArm():d(g).on("focusout",function(i){c.log("Starting blur timer for element "+c.dumpEl(i.target));var h=c.now();c.log("back delay: "+(h-f.lastCancel)),h-f.lastCancel>f.options.backDelay&&(f.blurPending=!0),setTimeout(function(){f.blurPending&&f.options.handler(g)},f.options.delay)}),f},c.defaults("fluid.deadMansBlur",{gradeNames:"fluid.function",delay:150,backDelay:100})}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(e,d){function a(f){return f}d.explodeLocalisedName=function(m,f,i){var l=m.lastIndexOf(".");l!==-1&&0!==l||(l=m.length);var h=m.substring(0,l),k=m.substring(l),g=f.split("_"),j=d.transform(g,function(n,o){var p=g.slice(0,o+1);return h+"_"+p.join("_")+k});return i&&j.unshift(h+"_"+i+k),j};var c={},b={};d.fetchResources=function(g,i,f){var h={options:d.copy(f||{})};return h.resourceSpecs=g,h.callback=i,h.operate=function(){d.fetchResources.fetchResourcesImpl(h)},d.each(g,function(j,k){j.recurseFirer=d.makeEventFirer({name:'I/O completion for resource "'+k+'"'}),j.recurseFirer.addListener(h.operate),j.url&&!j.href&&(j.href=j.url),h.options.defaultLocale&&(j.defaultLocale=h.options.defaultLocale,void 0===j.locale&&(j.locale=h.options.defaultLocale))}),h.options.amalgamateClasses&&d.fetchResources.amalgamateClasses(g,h.options.amalgamateClasses,h.operate),d.fetchResources.explodeForLocales(g),h.operate(),h},d.fetchResources.explodeForLocales=function(f){return d.each(f,function(h,k){if(h.locale){for(var m=d.explodeLocalisedName(h.href,h.locale,h.defaultLocale),j=0;j<m.length;++j){var l=k+"$localised-"+j,g=e.extend(!0,{},h,{href:m[j],localeExploded:!0});f[l]=g}h.localeExploded=m.length}}),f},d.fetchResources.condenseOneResource=function(h,g,l,f){for(var m=[g],k=0;k<f;++k){var j=l+"$localised-"+k;m.unshift(h[j]),delete h[j]}var n=d.find_if(m,function(i){return !i.fetchError});n&&(h[l]=n)},d.fetchResources.condenseForLocales=function(f){d.each(f,function(g,h){"number"==typeof g.localeExploded&&d.fetchResources.condenseOneResource(f,g,h,g.localeExploded)})},d.fetchResources.notifyResources=function(g,f,h){d.fetchResources.condenseForLocales(f),h(f)},d.fetchResources.amalgamateClasses=function(h,g,f){d.each(g,function(i){var j=b[i];d.each(j,function(k,l){h[i+"!"+l]=k,k.recurseFirer.addListener(f)})})},d.fetchResources.timeSuccessCallback=function(f){if(f.timeSuccess&&f.options&&f.options.success){var g=f.options.success;f.options.success=function(){var i=new Date,h=g.apply(null,arguments);return d.log("External callback for URL "+f.href+" completed - callback time: "+((new Date).getTime()-i.getTime())+"ms"),h}}},d.fetchResources.clearResourceCache=function(f){f?delete c[a(f)]:d.clear(c)},d.fetchResources.handleCachedRequest=function(h,g,i){var k=a(h.href),j=c[k];if(j.$$firer$$){d.log("Handling request for "+k+" from cache");var l=h.fetchClass;l&&b[l]&&(d.log("Clearing pendingClass entry for class "+l),delete b[l][k]);var f={response:g,fetchError:i};c[k]=f,j.fire(g,i)}},d.fetchResources.completeRequest=function(f){f.queued=!1,f.completeTime=new Date,d.log("Request to URL "+f.href+" completed - total elapsed time: "+(f.completeTime.getTime()-f.initTime.getTime())+"ms"),f.recurseFirer.fire()},d.fetchResources.makeResourceCallback=function(f){return{success:function(g){f.resourceText=g,f.resourceKey=f.href,f.forceCache&&d.fetchResources.handleCachedRequest(f,g),d.fetchResources.completeRequest(f)},error:function(g,i,h){f.fetchError={status:g.status,textStatus:g.textStatus,errorThrown:h},f.forceCache&&d.fetchResources.handleCachedRequest(f,null,f.fetchError),d.fetchResources.completeRequest(f)}}},d.fetchResources.issueCachedRequest=function(g,f){var i=a(g.href),h=c[i];if(h){h.$$firer$$?(d.log("Request for cached resource which is in flight: url "+i),h.addListener(function(k,l){k?f.success(k):f.error(l)
})):h.response?f.success(h.response):f.error(h.fetchError)}else{d.log("First request for cached resource with url "+i),h=d.makeEventFirer({name:"cache notifier for resource URL "+i}),h.$$firer$$=!0,c[i]=h;var j=g.fetchClass;j&&(b[j]||(b[j]={}),b[j][i]=g),f.cache=!1,e.ajax(f)}},d.fetchResources.composeCallbacks=function(f,g){return g?f?function(){try{g.apply(null,arguments)}catch(h){d.log("Exception applying external fetchResources callback: "+h)}f.apply(null,arguments)}:g:f},d.fetchResources.composePolicy=function(g,f){return d.fetchResources.composeCallbacks(g,f)},d.defaults("fluid.fetchResources.issueRequest",{mergePolicy:{success:d.fetchResources.composePolicy,error:d.fetchResources.composePolicy,url:"reverse"}}),d.fetchResources.issueRequest=function(g,h){var i=d.fetchResources.makeResourceCallback(g),f={url:g.href,success:i.success,error:i.error,dataType:g.dataType||"text"};d.fetchResources.timeSuccessCallback(g),f=d.merge(d.defaults("fluid.fetchResources.issueRequest").mergePolicy,f,g.options),g.queued=!0,g.initTime=new Date,d.log("Request with key "+h+" queued for "+g.href),g.forceCache?d.fetchResources.issueCachedRequest(g,f):e.ajax(f)},d.fetchResources.fetchResourcesImpl=function(l){var f=!0,j=!0,h=l.resourceSpecs;for(var i in h){var g=h[i];if(g.options&&!g.options.async||(j=!1),g.href&&!g.completeTime){g.queued||d.fetchResources.issueRequest(g,i),g.queued&&(f=!1)}else{if(g.nodeId&&!g.resourceText){var k=document.getElementById(g.nodeId);g.resourceText=d.dom.getElementText(k),g.resourceKey=g.nodeId}}}f&&l.callback&&!l.callbackCalled&&(l.callbackCalled=!0,e.browser.mozilla&&!j?setTimeout(function(){d.fetchResources.notifyResources(l,h,l.callback)},1):d.fetchResources.notifyResources(l,h,l.callback))},d.fetchResources.primeCacheFromResources=function(f){var h=d.defaults(f).resources,g=(d.expandOptions?d.expandOptions:d.identity)(d.copy(h));d.fetchResources(g)},d.registerNamespace("fluid.expander"),d.expander.makeDefaultFetchOptions=function(f,h,g){return e.extend(!0,{dataType:"text"},g,{success:function(i,k){var j=JSON.parse(i);k(f(j))},error:function(i,j){d.log("Error fetching "+h+": "+j)}})},d.expander.makeFetchExpander=function(f){return{expander:{type:"fluid.expander.deferredFetcher",href:f.url,options:d.expander.makeDefaultFetchOptions(f.disposer,f.url,f.options),resourceSpecCollector:"{resourceSpecCollector}",fetchKey:f.fetchKey}}},d.expander.deferredFetcher=function(m,j,h){var l=j.expander,f=d.copy(l),k=d.expand(l.resourceSpecCollector,h);delete f.type,delete f.resourceSpecCollector,delete f.fetchKey;var i=function(n){m(n)};f.options.success=function(n){l.options.success(n,i)};var g=l.fetchKey||d.allocateGuid();return k[g]=f,d.NO_VALUE}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.defaults("fluid.resourceLoader",{gradeNames:["fluid.component"],listeners:{"onCreate.loadResources":{listener:"fluid.resourceLoader.loadResources",args:["{that}",{expander:{func:"{that}.resolveResources"}}]}},defaultLocale:null,locale:null,terms:{},resources:{},resourceOptions:{},invokers:{transformURL:{funcName:"fluid.stringTemplate",args:["{arguments}.0","{that}.options.terms"]},resolveResources:{funcName:"fluid.resourceLoader.resolveResources",args:"{that}"}},events:{onResourcesLoaded:null}}),a.resourceLoader.resolveResources=function(d){var c=a.transform(d.options.resources,d.transformURL);return a.transform(c,function(f){var e={url:f,forceCache:!0,options:d.options.resourceOptions};return b.extend(e,a.filterKeys(d.options,["defaultLocale","locale"]))})},a.resourceLoader.loadResources=function(c,d){a.fetchResources(d,function(){c.resources=d,c.events.onResourcesLoaded.fire(d)})}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.registerNamespace("fluid.undo"),a.undo.STATE_INITIAL="state_initial",a.undo.STATE_CHANGED="state_changed",a.undo.STATE_REVERTED="state_reverted",a.undo.defaultRenderer=function(f,d){var g=f.options.strings,c="<span class='flc-undo'><a href='#' class='flc-undo-undoControl'>"+g.undo+"</a><a href='#' class='flc-undo-redoControl'>"+g.redo+"</a></span>",e=b(c).attr({role:"region","aria-live":"polite","aria-relevant":"all"});return d.append(e),e},a.undo.refreshView=function(c){c.state===a.undo.STATE_INITIAL?(c.locate("undoContainer").hide(),c.locate("redoContainer").hide()):c.state===a.undo.STATE_CHANGED?(c.locate("undoContainer").show(),c.locate("redoContainer").hide()):c.state===a.undo.STATE_REVERTED&&(c.locate("undoContainer").hide(),c.locate("redoContainer").show())},a.undo.undoControlClick=function(c){return c.state!==a.undo.STATE_REVERTED&&(a.model.copyModel(c.extremalModel,c.component.model),c.component.updateModel(c.initialModel,c),c.state=a.undo.STATE_REVERTED,a.undo.refreshView(c),c.locate("redoControl").focus()),!1},a.undo.redoControlClick=function(c){return c.state!==a.undo.STATE_CHANGED&&(c.component.updateModel(c.extremalModel,c),c.state=a.undo.STATE_CHANGED,a.undo.refreshView(c),c.locate("undoControl").focus()),!1},a.undo.modelChanged=function(d,c,f,e){e!==d&&(d.state=a.undo.STATE_CHANGED,a.model.copyModel(d.initialModel,f),a.undo.refreshView(d))},a.undo.copyInitialModel=function(c){a.model.copyModel(c.initialModel,c.component.model),a.model.copyModel(c.extremalModel,c.component.model)},a.undo.setTabindex=function(c){a.tabindex(c.locate("undoControl"),0),a.tabindex(c.locate("redoControl"),0)},a.defaults("fluid.undo",{gradeNames:["fluid.component"],members:{state:a.undo.STATE_INITIAL,initialModel:{},extremalModel:{},component:"{fluid.undoable}",container:{expander:{func:"{that}.options.renderer",args:["{that}","{that}.component.container"]}},dom:{expander:{funcName:"fluid.initDomBinder",args:["{that}","{that}.options.selectors"]}}},invokers:{undoControlClick:{funcName:"fluid.undo.undoControlClick",args:"{that}"},redoControlClick:{funcName:"fluid.undo.redoControlClick",args:"{that}"}},listeners:{"onCreate.copyInitialModel":{funcName:"fluid.undo.copyInitialModel",priority:"before:refreshView"},"onCreate.setTabindex":"fluid.undo.setTabindex","onCreate.refreshView":"fluid.undo.refreshView","onCreate.bindUndoClick":{"this":"{that}.dom.undoControl",method:"click",args:"{that}.undoControlClick"},"onCreate.bindRedoClick":{"this":"{that}.dom.redoControl",method:"click",args:"{that}.redoControlClick"},"{fluid.undoable}.events.modelChanged":{funcName:"fluid.undo.modelChanged",args:["{that}","{arguments}.0","{arguments}.1","{arguments}.2"]}},selectors:{undoContainer:".flc-undo-undoControl",undoControl:".flc-undo-undoControl",redoContainer:".flc-undo-redoControl",redoControl:".flc-undo-redoControl"},strings:{undo:"undo edit",redo:"redo edit"},renderer:a.undo.defaultRenderer}),a.defaults("fluid.undoable",{gradeNames:["fluid.modelComponent"],invokers:{updateModel:{}},events:{modelChanged:null}}),a.defaults("fluid.undoDecorator",{gradeNames:["fluid.undo"]})}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.registerNamespace("fluid.tooltip"),a.tooltip.computeContentFunc=function(c){c.contentFunc=c.options.contentFunc?c.options.contentFunc:c.modelToContentFunc()},a.tooltip.updateContentImpl=function(c){c.computeContentFunc(),c.initialised&&c.container.tooltip("option","content",c.contentFunc)},a.tooltip.idSearchFunc=function(c){return function(){var f=this;if(b.contains(f.ownerDocument,f)){var e=c(),d=a.findAncestor(f,function(g){return e[g.id]});return d?e[d.id]:null}return null}},a.tooltip.modelToContentFunc=function(d){var c=d.model;return c.idToContent?a.tooltip.idSearchFunc(function(){return d.model.idToContent}):c.content?function(){return c.content}:void 0},a.tooltip.resolveTooltipTarget=function(c,e){var d=a.resolveEventTarget(e),f=b(d).closest(c);return f[0]},a.tooltip.makeOpenHandler=function(c){return function(f,g){a.tooltip.closeAll(c);var e=a.tooltip.resolveTooltipTarget(c.options.items,f),d=a.allocateSimpleId(e);c.openIdMap[d]=!0,c.initialised&&c.events.afterOpen.fire(c,e,g.tooltip,f)}},a.tooltip.makeCloseHandler=function(c){return function(e,f){if(c.initialised){var d=a.tooltip.resolveTooltipTarget(c.options.items,e);delete c.openIdMap[d.id],c.events.afterClose.fire(c,d,f.tooltip,e)}}},a.tooltip.closeAll=function(c){var d=a.getDocument(c.container);a.each(c.openIdMap,function(f,e){var g=a.byId(e,d);c.container.tooltip("close",{type:"close",currentTarget:g,target:g})}),a.clear(c.openIdMap)},a.tooltip.setup=function(e){a.tooltip.updateContentImpl(e);var d={content:e.contentFunc,open:a.tooltip.makeOpenHandler(e),close:a.tooltip.makeCloseHandler(e)},c=b.extend(!0,d,e.options.widgetOptions);e.container.tooltip(c),e.initialised=!0},a.tooltip.doDestroy=function(d){if(d.initialised){a.tooltip.closeAll(d,!0);var e=a.getDocument(d.container),c=d.container[0];(b.contains(e,c)||e===c)&&d.container.tooltip("destroy"),d.initialised=!1}},a.defaults("fluid.tooltip",{gradeNames:["fluid.viewComponent"],widgetOptions:{tooltipClass:"{that}.options.styles.tooltip",position:"{that}.options.position",items:"{that}.options.items",show:{duration:"{that}.options.duration",delay:"{that}.options.delay"},hide:{duration:"{that}.options.duration",delay:"{that}.options.delay"}},invokers:{open:{"this":"{that}.container",method:"tooltip",args:"open"},close:{funcName:"fluid.tooltip.closeAll",args:"{that}"},updateContent:{changePath:"content",value:"{arguments}.0"},computeContentFunc:{funcName:"fluid.tooltip.computeContentFunc",args:["{that}"]},modelToContentFunc:{funcName:"fluid.tooltip.modelToContentFunc",args:"{that}"}},model:{content:"{that}.options.content"},members:{openIdMap:{}},styles:{tooltip:""},events:{afterOpen:null,afterClose:null},listeners:{"onCreate.setup":"fluid.tooltip.setup","onDestroy.doDestroy":"fluid.tooltip.doDestroy"},modelListeners:{"":{funcName:"fluid.tooltip.updateContentImpl",excludeSource:"init",args:"{that}"}},position:{my:"left top",at:"left bottom"},items:"*",delay:300})}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.registerNamespace("fluid.inlineEdit"),a.inlineEdit.sendKey=function(g,f,c,e){var d=document.createEvent("KeyEvents");
d.initKeyEvent(f,1,1,null,0,0,0,0,c,e),g.dispatchEvent(d)},a.inlineEdit.switchToViewMode=function(c){c.editContainer.hide(),c.displayModeRenderer.show()},a.inlineEdit.cancel=function(c){c.isEditing()&&(setTimeout(function(){c.editView.value(c.model.value)},1),a.inlineEdit.switchToViewMode(c),c.events.afterFinishEdit.fire(c.model.value,c.model.value,c.editField[0],c.viewEl[0]))},a.inlineEdit.finish=function(g){var h=g.editView.value(),e=g.model.value,c=g.viewEl[0],f=g.editField[0],d=g.events.onFinishEdit.fire(h,e,f,c);d!==!1&&(g.updateModelValue(h),g.events.afterFinishEdit.fire(h,e,f,c),a.inlineEdit.switchToViewMode(g))},a.inlineEdit.bindEditFinish=function(f){function g(h){return h.keyCode?h.keyCode:h.which?h.which:0}void 0===f.options.submitOnEnter&&(f.options.submitOnEnter="textarea"!==a.unwrap(f.editField).nodeName.toLowerCase());var e=f.textEditButton||b(),c=function(h){var i=g(h);if(i===b.ui.keyCode.ESCAPE){return e.focus(),a.inlineEdit.cancel(f),!1}},d=function(h){var i=g(h);return i!==b.ui.keyCode.ENTER?(e.blur(),!0):(a.inlineEdit.finish(f),e.focus(),!1)};f.options.submitOnEnter&&f.editContainer.keypress(d),f.editContainer.keydown(c)},a.inlineEdit.bindBlurHandler=function(c){if(c.options.blurHandlerBinder){c.options.blurHandlerBinder(c)}else{var d=function(){return c.isEditing()&&a.inlineEdit.finish(c),!1};c.editField.blur(d)}},a.inlineEdit.initializeEditView=function(d,c){d.editInitialized||(a.inlineEdit.renderEditContainer(d,!d.options.lazyEditView||!c),d.options.lazyEditView&&c||(d.events.onCreateEditView.fire(),d.textEditButton&&a.inlineEdit.bindEditFinish(d),a.inlineEdit.bindBlurHandler(d),d.editView.refreshView(d),d.editInitialized=!0))},a.inlineEdit.edit=function(d){a.inlineEdit.initializeEditView(d,!1);var c=d.viewEl,e=d.displayView.value();d.updateModelValue(""===d.model.value?"":e),d.options.applyEditPadding&&d.editField.width(Math.max(c.width()+d.options.paddings.edit,d.options.paddings.minimumEdit)),d.displayModeRenderer.hide(),d.editContainer.show(),setTimeout(function(){d.editField.focus(),d.options.selectOnEdit&&d.editField[0].select()},0),d.events.afterBeginEdit.fire()},a.inlineEdit.clearEmptyViewStyles=function(c,e,d){c.removeClass(e.defaultViewStyle),c.css("padding-right",d),c.removeClass(e.emptyDefaultViewText)},a.inlineEdit.showDefaultViewText=function(c){c.displayView.value(c.options.strings.defaultViewText),c.viewEl.css("padding-right",c.existingPadding),c.viewEl.addClass(c.options.styles.defaultViewStyle)},a.inlineEdit.showNothing=function(c){c.displayView.value(""),b.browser.msie&&"inline"===c.viewEl.css("display")&&c.viewEl.css("display","inline-block")},a.inlineEdit.showEditedText=function(c){c.displayView.value(c.model.value),a.inlineEdit.clearEmptyViewStyles(c.viewEl,c.options.styles,c.existingPadding)},a.inlineEdit.refreshView=function(c,d){c.displayView.refreshView(c,d),c.editView&&c.editView.refreshView(c,d)},a.inlineEdit.updateModelValue=function(d,f,e){var c=d.options.modelComparator,g=c?c(d.model.value,f):d.model.value===f;if(!g){var h=b.extend(!0,{},d.model);d.model.value=f,d.events.modelChanged.fire(d.model,h,e),d.refreshView(e)}},a.inlineEdit.editHandler=function(d){var c=d.events.onBeginEdit.fire();return c!==!1&&(a.inlineEdit.edit(d),!0)},a.inlineEdit.initTooltips=function(d){var c={content:d.options.tooltipText,position:{my:"left top",at:"left bottom+25%",of:d.viewEl},target:"*",delay:d.options.tooltipDelay,styles:{tooltip:d.options.styles.tooltip}};a.tooltip(d.viewEl,c),d.textEditButton&&a.tooltip(d.textEditButton,c)},a.inlineEdit.calculateInitialPadding=function(c){var d=c.css("padding-right");return d?parseFloat(d):0},a.inlineEdit.setupEditField=function(d,f,c){var e=b(f);return e=e.length?e:b(c),e.addClass(d),e},a.inlineEdit.setupEditContainer=function(f,c,e,g){var d=b(e);return d=d.length?d:b(g),f.after(d),d.append(c),d},a.inlineEdit.defaultEditModeRenderer=function(d){var c=a.inlineEdit.setupEditField(d.options.styles.edit,d.editField,d.options.markup.editField),e=a.inlineEdit.setupEditContainer(d.displayModeRenderer,c,d.editContainer,d.options.markup.editContainer),f=a.inlineEdit.setupEditModeInstruction(d.options.styles.editModeInstruction,d.options.strings.editModeInstruction,d.options.markup.editModeInstruction),g=a.allocateSimpleId(f);return c.attr("aria-describedby",g),a.inlineEdit.positionEditModeInstruction(f,e,c),{container:e,field:c}},a.inlineEdit.renderEditContainer=function(e,d){if(e.editContainer=e.locate("editContainer"),e.editField=e.locate("edit"),1!==e.editContainer.length&&e.editContainer.length>1&&a.fail("InlineEdit did not find a unique container for selector "+e.options.selectors.editContainer+": "+a.dumpEl(e.editContainer)),d){var c=e.options.editModeRenderer(e);c&&(e.editContainer=c.container,e.editField=c.field)}},a.inlineEdit.setupEditModeInstruction=function(c,e,d){var f=b(d);return f.addClass(c),f.text(e),f},a.inlineEdit.positionEditModeInstruction=function(e,d,c){d.append(e),c.focus(function(){e.show();var g=c.offset(),f=parseInt(c.css("height"),10);e.css({left:g.left}),e.css({top:g.top+f+5})})},a.inlineEdit.setupDisplayModeContainer=function(c,d){var e=b(d);return e=e.length?e:b("<span></span>"),e.addClass(c.displayView),e},a.inlineEdit.setupDisplayText=function(c,d){return c.attr("tabindex","-1"),c.addClass(d),c},a.inlineEdit.setupTextEditButton=function(g,e){var f=g.options,c=g.locate("textEditButton");if(0===c.length){var d=b(g.options.markup.textEditButton);d.addClass(f.styles.textEditButton),d.text(f.tooltipText),a.inlineEdit.updateTextEditButton(d,e.value||f.strings.defaultViewText,f.strings.textEditButton),g.events.modelChanged.addListener(function(){a.inlineEdit.updateTextEditButton(d,e.value||f.strings.defaultViewText,f.strings.textEditButton)}),g.locate("text").after(d),c=g.locate("textEditButton")}return c},a.inlineEdit.updateTextEditButton=function(c,e,f){var d=a.stringTemplate(f,{text:e});c.text(d)},a.inlineEdit.bindHoverHandlers=function(f,e){var d=function(){f.addClass(e)},c=function(){f.removeClass(e)};f.hover(d,c)},a.inlineEdit.bindHighlightHandler=function(f,h,g,d,e){f=b(f);var c=function(i){return function(){h.toggleClass(g.focus,i),h.toggleClass(g.invitation,i),e&&e.value||h.prevObject.text(i?d.defaultFocussedViewText:d.defaultViewText)}};f.focus(c(!0)),f.blur(c(!1))},a.inlineEdit.bindMouseHandlers=function(c,d){c=b(c);var e=a.inlineEdit.makeEditTriggerGuard(c,d);c.click(function(f){return e(f),!1})},a.inlineEdit.bindKeyboardHandlers=function(c,e){c=b(c),c.attr("role","button");var d=a.inlineEdit.makeEditTriggerGuard(c,e);a.activatable(c,function(f){return d(f)})},a.inlineEdit.makeEditTriggerGuard=function(e,d){var c=a.unwrap(e);return function(g){var f=a.findAncestor(g.target,function(h){if(/input|select|textarea|button|a/i.test(h.nodeName)||h===c){return !0}});if(f===c){return d(),!1}}},a.inlineEdit.bindEventHandlers=function(e,d,f){var c=e.options.styles;a.inlineEdit.bindHoverHandlers(f,c.invitation),a.inlineEdit.bindMouseHandlers(e.viewEl,d),a.inlineEdit.bindMouseHandlers(e.textEditButton,d),a.inlineEdit.bindKeyboardHandlers(e.textEditButton,d),a.inlineEdit.bindHighlightHandler(e.viewEl,f,e.options.styles,e.options.strings,e.model),a.inlineEdit.bindHighlightHandler(e.textEditButton,f,e.options.styles,e.options.strings,e.model)},a.inlineEdit.defaultDisplayModeRenderer=function(f,e,c){var d=f.options.styles,g=a.inlineEdit.setupDisplayModeContainer(d),h=f.viewEl.wrap(g).parent();return f.textEditButton=a.inlineEdit.setupTextEditButton(f,c),h.append(f.textEditButton),a.inlineEdit.bindEventHandlers(f,e,h),h},a.inlineEdit.getNodeName=function(c){return a.unwrap(c).nodeName.toLowerCase()},a.defaults("fluid.inlineEdit.standardAccessor",{gradeNames:["fluid.viewComponent"],members:{nodeName:{expander:{funcName:"fluid.inlineEdit.getNodeName",args:"{that}.container"}}},invokers:{value:{funcName:"fluid.inlineEdit.standardAccessor.value",args:["{that}.nodeName","{that}.container","{arguments}.0"]}}}),a.inlineEdit.standardAccessor.value=function(e,c,d){return a["input"===e||"textarea"===e?"value":"text"](b(c),d)},a.defaults("fluid.inlineEdit.standardDisplayView",{gradeNames:["fluid.viewComponent"],invokers:{refreshView:{funcName:"fluid.inlineEdit.standardDisplayView.refreshView",args:["{fluid.inlineEdit}","{that}.container","{arguments}.0"]}}}),a.inlineEdit.standardDisplayView.refreshView=function(c){c.model.value?a.inlineEdit.showEditedText(c):c.options.strings.defaultViewText?a.inlineEdit.showDefaultViewText(c):a.inlineEdit.showNothing(c),0===b.trim(c.viewEl.text()).length&&(c.viewEl.addClass(c.options.styles.emptyDefaultViewText),c.existingPadding<c.options.paddings.minimumView&&c.viewEl.css("padding-right",c.options.paddings.minimumView))},a.defaults("fluid.inlineEdit.standardEditView",{gradeNames:["fluid.viewComponent"],invokers:{refreshView:{funcName:"fluid.inlineEdit.standardEditView.refreshView",args:["{fluid.inlineEdit}","{that}.container","{arguments}.0"]}}}),a.inlineEdit.standardEditView.refreshView=function(d,c,e){(!e||c&&c.index(e)===-1)&&d.editView.value(d.model.value)},a.inlineEdit.setup=function(c){c.editContainer&&c.editContainer.hide(),c.tooltipEnabled()&&a.inlineEdit.initTooltips(c)},a.inlineEdit.setIsEditing=function(c,d){c.isEditingState=d},a.inlineEdit.tooltipEnabled=function(c){return c&&b.fn.tooltip},a.inlineEdit.processUndoDecorator=function(e){if(e.options.componentDecorators){var d=a.makeArray(e.options.componentDecorators),c=d[0];"string"==typeof c&&(c={type:c}),"fluid.undoDecorator"===c.type&&(a.set(e.options,["components","undo"],{type:"fluid.undo",options:c.options}),e.decorators=[a.initDependent(e,"undo")])}},a.defaults("fluid.inlineEdit",{gradeNames:["fluid.undoable","fluid.viewComponent"],mergePolicy:{"strings.defaultViewText":"defaultViewText"},members:{isEditingState:!1,viewEl:{expander:{funcName:"fluid.inlineEdit.setupDisplayText",args:["{that}.dom.text","{that}.options.styles.text"]}},existingPadding:{expander:{funcName:"fluid.inlineEdit.calculateInitialPadding",args:"{that}.viewEl"}},displayModeRenderer:{expander:{func:"{that}.options.displayModeRenderer",args:["{that}","{that}.edit","{that}.model"]}}},invokers:{edit:{funcName:"fluid.inlineEdit.editHandler",args:"{that}"},isEditing:{funcName:"fluid.identity",args:"{that}.isEditingState"},finish:{funcName:"fluid.inlineEdit.finish",args:"{that}"},cancel:{funcName:"fluid.inlineEdit.cancel",args:"{that}"},tooltipEnabled:{funcName:"fluid.inlineEdit.tooltipEnabled",args:"{that}.options.useTooltip"},refreshView:{funcName:"fluid.inlineEdit.refreshView",args:["{that}","{arguments}.0"]},updateModelValue:{funcName:"fluid.inlineEdit.updateModelValue",args:["{that}","{arguments}.0","{arguments}.1"]},updateModel:{funcName:"fluid.inlineEdit.updateModelValue",args:["{that}","{arguments}.0.value","{arguments}.1"]}},components:{displayView:{type:"{that}.options.displayView.type",container:"{that}.viewEl",options:{gradeNames:"{fluid.inlineEdit}.options.displayAccessor.type"}},editView:{type:"{that}.options.editView.type",createOnEvent:"onCreateEditView",container:"{that}.editField",options:{gradeNames:"{fluid.inlineEdit}.options.editAccessor.type"}}},model:{value:{expander:{func:"{that}.displayView.value"}}},selectors:{text:".flc-inlineEdit-text",editContainer:".flc-inlineEdit-editContainer",edit:".flc-inlineEdit-edit",textEditButton:".flc-inlineEdit-textEditButton"},styles:{text:"fl-inlineEdit-text",edit:"fl-inlineEdit-edit",invitation:"fl-inlineEdit-invitation",defaultViewStyle:"fl-inlineEdit-emptyText-invitation",emptyDefaultViewText:"fl-inlineEdit-emptyDefaultViewText",focus:"fl-inlineEdit-focus",tooltip:"fl-inlineEdit-tooltip",editModeInstruction:"fl-inlineEdit-editModeInstruction",displayView:"fl-inlineEdit-simple-editableText fl-inlineEdit-textContainer",textEditButton:"fl-hidden-accessible"},events:{modelChanged:null,onBeginEdit:"preventable",afterBeginEdit:null,onFinishEdit:"preventable",afterFinishEdit:null,afterInitEdit:null,onCreateEditView:null},listeners:{onCreate:[{func:"{that}.refreshView"},{funcName:"fluid.inlineEdit.initializeEditView",args:["{that}",!0]},{funcName:"fluid.inlineEdit.setup",args:"{that}"},{funcName:"fluid.inlineEdit.processUndoDecorator",args:"{that}"}],onBeginEdit:{funcName:"fluid.inlineEdit.setIsEditing",args:["{that}",!0]},afterFinishEdit:{funcName:"fluid.inlineEdit.setIsEditing",args:["{that}",!1]}},strings:{textEditButton:"Edit text %text",editModeInstruction:"Escape to cancel, Enter or Tab when finished",defaultViewText:"Click here to edit",defaultFocussedViewText:"Click here or press enter to edit"},markup:{editField:"<input type='text' class='flc-inlineEdit-edit'/>",editContainer:"<span></span>",editModeInstruction:"<p></p>",textEditButton:"<a href='#_' class='flc-inlineEdit-textEditButton'></a>"},paddings:{edit:10,minimumEdit:80,minimumView:60},applyEditPadding:!0,blurHandlerBinder:null,submitOnEnter:void 0,modelComparator:null,displayAccessor:{type:"fluid.inlineEdit.standardAccessor"},displayView:{type:"fluid.inlineEdit.standardDisplayView"},editAccessor:{type:"fluid.inlineEdit.standardAccessor"},editView:{type:"fluid.inlineEdit.standardEditView"},displayModeRenderer:a.inlineEdit.defaultDisplayModeRenderer,editModeRenderer:a.inlineEdit.defaultEditModeRenderer,lazyEditView:!1,useTooltip:!0,tooltipText:"Select or press Enter to edit",tooltipDelay:1000,selectOnEdit:!1}),a.setupInlineEdits=function(c,d){return a.transform(d,function(g,f){var h={type:"fluid.inlineEdit",container:g},e="inlineEdit-"+f;
return a.set(c.options,["components",e],h),a.initDependent(c,e)})},a.defaults("fluid.inlineEditsComponent",{gradeNames:["fluid.viewComponent"],distributeOptions:{source:"{that}.options",exclusions:["members.inlineEdits","members.modelRelay","members.applier","members.model","selectors.editables","events"],removeSource:!0,target:"{that > fluid.inlineEdit}.options"},members:{inlineEdits:{expander:{funcName:"fluid.setupInlineEdits",args:["{that}","{that}.dom.editables"]}}},selectors:{editables:".flc-inlineEditable"}}),a.inlineEdits=function(c,d){var e=a.inlineEditsComponent(c,d);return e.inlineEdits}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(c,b){b.defaults("fluid.inlineEdit.editorViewAccessor",{gradeNames:["fluid.viewComponent"],invokers:{value:{funcName:"fluid.inlineEdit.editorViewAccessor.value",args:["{that}.container","{that}.options","{arguments}.0"]}}}),b.inlineEdit.editorViewAccessor.value=function(f,e,h){var g=e.editorGetFn(f);return g&&0!==g.length?void 0===h?e.getValueFn(g):void e.setValueFn(f,g,h):(void 0!==h&&c(f).val(h),"")},b.defaults("fluid.inlineEdit.richTextViewAccessor",{gradeNames:["fluid.viewComponent"],invokers:{value:{funcName:"fluid.inlineEdit.richTextViewAccessor.value",args:["{that}.container","{arguments}.0"]}}}),b.inlineEdit.richTextViewAccessor.value=function(e,f){return b.html(e,f)},b.inlineEdit.normalizeHTML=function(f){var e=c.trim(f.replace(/\s+/g," "));return e=e.replace(/\s+<\//g,"</"),e=e.replace(/<([a-z0-9A-Z\/]+)>/g,function(g){return g.toLowerCase()})},b.inlineEdit.htmlComparator=function(f,e){return b.inlineEdit.normalizeHTML(f)===b.inlineEdit.normalizeHTML(e)},b.inlineEdit.bindRichTextHighlightHandler=function(f,i,g){f=c(f);var h=function(){i.addClass(g)},e=function(){i.removeClass(g)};f.focus(h),f.blur(e)},b.inlineEdit.setupRichTextEditButton=function(h){var g=h.options,e=h.locate("textEditButton");if(0===e.length){var f=c("<a href='#_' class='flc-inlineEdit-textEditButton'></a>");f.text(g.strings.textEditButton),h.locate("text").after(f),e=h.locate("textEditButton")}return e},b.inlineEdit.richTextDisplayModeRenderer=function(g,f){var e=g.options.styles,h=b.inlineEdit.setupDisplayModeContainer(e),i=g.viewEl.wrap(h).parent();return g.textEditButton=b.inlineEdit.setupRichTextEditButton(g),i.append(g.textEditButton),i.addClass(e.focus),b.inlineEdit.bindHoverHandlers(i,e.invitation),b.inlineEdit.bindMouseHandlers(g.textEditButton,f),b.inlineEdit.bindKeyboardHandlers(g.textEditButton,f),b.inlineEdit.bindRichTextHighlightHandler(g.viewEl,i,e.invitation),b.inlineEdit.bindRichTextHighlightHandler(g.textEditButton,i,e.invitation),i};var d=b.registerNamespace("fluid.inlineEdit.tinyMCE");b.inlineEdit.tinyMCE.getEditor=function(e){return tinyMCE.get(e.prop("id"))},b.inlineEdit.tinyMCE.setValue=function(e,f,g){c(e).val(g),f.setContent(g,{format:"raw"})},b.inlineEdit.tinyMCE.getValue=function(e){return e.getContent()},b.defaults("fluid.inlineEdit.tinyMCE.viewAccessor",{gradeNames:["fluid.inlineEdit.editorViewAccessor"],editorGetFn:d.getEditor,setValueFn:d.setValue,getValueFn:d.getValue}),b.inlineEdit.tinyMCE.blurHandlerBinder=function(e){function f(g){setTimeout(function(){tinyMCE.execCommand("mceFocus",!1,e.editField[0].id),g.selection.select(g.getBody(),1),g.selection.collapse(0)},10)}e.events.afterInitEdit.addListener(function(g){f(g);var h=g.getBody();e.deadMansBlur=b.deadMansBlur(e.editField,{cancelByDefault:!0,exclusions:{body:c(h),container:e.container},handler:function(){e[e.options.onBlur]()}})}),e.events.afterBeginEdit.addListener(function(){var g=tinyMCE.get(e.editField[0].id);g&&f(g),e.deadMansBlur&&e.deadMansBlur.reArm()}),e.events.afterFinishEdit.addListener(function(){e.deadMansBlur.noteProceeded()})},b.inlineEdit.tinyMCE.editModeRenderer=function(g){var f=g.options.tinyMCE;f.elements=b.allocateSimpleId(g.editField);var e=f.init_instance_callback;f.init_instance_callback=function(h){g.events.afterInitEdit.fire(h),e&&e()},setTimeout(function(){tinyMCE.init(f)},1)},b.defaults("fluid.inlineEdit.tinyMCE",{gradeNames:["fluid.inlineEdit"],tinyMCE:{mode:"exact",theme:"simple"},listeners:{onCreate:{"this":"tinyMCE",method:"init",namespace:"initTinyMCE",args:"{that}.options.tinyMCE"}},useTooltip:!0,selectors:{edit:"textarea"},styles:{invitation:"fl-inlineEdit-richText-invitation",displayView:"fl-inlineEdit-textContainer",text:""},strings:{textEditButton:"Edit"},displayAccessor:{type:"fluid.inlineEdit.richTextViewAccessor"},editAccessor:{type:"fluid.inlineEdit.tinyMCE.viewAccessor"},lazyEditView:!0,defaultViewText:"Click Edit",modelComparator:b.inlineEdit.htmlComparator,onBlur:"finish",blurHandlerBinder:b.inlineEdit.tinyMCE.blurHandlerBinder,displayModeRenderer:b.inlineEdit.richTextDisplayModeRenderer,editModeRenderer:b.inlineEdit.tinyMCE.editModeRenderer});var a=b.registerNamespace("fluid.inlineEdit.CKEditor");b.inlineEdit.CKEditor.getEditor=function(e){return CKEDITOR.instances[e.prop("id")]},b.inlineEdit.CKEditor.setValue=function(e,f,g){f.setData(g)},b.inlineEdit.CKEditor.getValue=function(e){return e.getData()},b.defaults("fluid.inlineEdit.CKEditor.viewAccessor",{gradeNames:["fluid.inlineEdit.editorViewAccessor"],editorGetFn:a.getEditor,setValueFn:a.setValue,getValueFn:a.getValue}),b.inlineEdit.CKEditor.focus=function(e){setTimeout(function(){e.focus()},0)},b.inlineEdit.CKEditor.normalizeHTML=function(g){var f=b.inlineEdit.normalizeHTML(g),e=f.indexOf(">");return e!==-1&&e<f.length-1&&" "!==f.charAt(e+1)&&(f=f.substring(0,e+1)+" "+f.substring(e+1)),f},b.inlineEdit.CKEditor.htmlComparator=function(f,e){return b.inlineEdit.CKEditor.normalizeHTML(f)===b.inlineEdit.CKEditor.normalizeHTML(e)},b.inlineEdit.CKEditor.blurHandlerBinder=function(e){e.events.afterInitEdit.addListener(b.inlineEdit.CKEditor.focus),e.events.afterBeginEdit.addListener(function(){var f=b.inlineEdit.CKEditor.getEditor(e.editField);f&&b.inlineEdit.CKEditor.focus(f)})},b.inlineEdit.CKEditor.editModeRenderer=function(f){var g=b.allocateSimpleId(f.editField);c.data(b.unwrap(f.editField),"fluid.inlineEdit.CKEditor",f);var e=CKEDITOR.replace(g,f.options.CKEditor);e.on("instanceReady",function(h){b.inlineEdit.CKEditor.focus(h.editor),f.events.afterInitEdit.fire(h.editor)})},b.defaults("fluid.inlineEdit.CKEditor",{gradeNames:["fluid.inlineEdit"],selectors:{edit:"textarea"},styles:{invitation:"fl-inlineEdit-richText-invitation",displayView:"fl-inlineEdit-textContainer",text:""},strings:{textEditButton:"Edit"},displayAccessor:{type:"fluid.inlineEdit.richTextViewAccessor"},editAccessor:{type:"fluid.inlineEdit.CKEditor.viewAccessor"},lazyEditView:!0,defaultViewText:"Click Edit",modelComparator:b.inlineEdit.CKEditor.htmlComparator,blurHandlerBinder:b.inlineEdit.CKEditor.blurHandlerBinder,displayModeRenderer:b.inlineEdit.richTextDisplayModeRenderer,editModeRenderer:b.inlineEdit.CKEditor.editModeRenderer,CKEditor:{}}),b.registerNamespace("fluid.inlineEdit.dropdown"),b.inlineEdit.dropdown.editModeRenderer=function(e){return b.allocateSimpleId(e.editField),e.editField.selectbox({finishHandler:function(){e.finish()}}),{container:e.editContainer,field:c("input.selectbox",e.editContainer)}},b.inlineEdit.dropdown.blurHandlerBinder=function(e){b.deadMansBlur(e.editField,{exclusions:{selectBox:c("div.selectbox-wrapper",e.editContainer)},handler:function(){e.cancel()}})},b.defaults("fluid.inlineEdit.dropdown",{gradeNames:["fluid.inlineEdit"],applyEditPadding:!1,blurHandlerBinder:b.inlineEdit.dropdown.blurHandlerBinder,editModeRenderer:b.inlineEdit.dropdown.editModeRenderer})}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.XMLP=function(c){return a.XMLP.XMLPImpl(c)},a.XMLP.closedTags={abbr:!0,br:!0,col:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,hr:!0,area:!0,embed:!0},a.XMLP._NONE=0,a.XMLP._ELM_B=1,a.XMLP._ELM_E=2,a.XMLP._ELM_EMP=3,a.XMLP._ATT=4,a.XMLP._TEXT=5,a.XMLP._ENTITY=6,a.XMLP._PI=7,a.XMLP._CDATA=8,a.XMLP._COMMENT=9,a.XMLP._DTD=10,a.XMLP._ERROR=11,a.XMLP._CONT_XML=0,a.XMLP._CONT_ALT=1,a.XMLP._ATT_NAME=0,a.XMLP._ATT_VAL=1,a.XMLP._STATE_PROLOG=1,a.XMLP._STATE_DOCUMENT=2,a.XMLP._STATE_MISC=3,a.XMLP._errs=[],a.XMLP._errs[a.XMLP.ERR_CLOSE_PI=0]="PI: missing closing sequence",a.XMLP._errs[a.XMLP.ERR_CLOSE_DTD=1]="DTD: missing closing sequence",a.XMLP._errs[a.XMLP.ERR_CLOSE_COMMENT=2]="Comment: missing closing sequence",a.XMLP._errs[a.XMLP.ERR_CLOSE_CDATA=3]="CDATA: missing closing sequence",a.XMLP._errs[a.XMLP.ERR_CLOSE_ELM=4]="Element: missing closing sequence",a.XMLP._errs[a.XMLP.ERR_CLOSE_ENTITY=5]="Entity: missing closing sequence",a.XMLP._errs[a.XMLP.ERR_PI_TARGET=6]="PI: target is required",a.XMLP._errs[a.XMLP.ERR_ELM_EMPTY=7]="Element: cannot be both empty and closing",a.XMLP._errs[a.XMLP.ERR_ELM_NAME=8]='Element: name must immediately follow "<"',a.XMLP._errs[a.XMLP.ERR_ELM_LT_NAME=9]='Element: "<" not allowed in element names',a.XMLP._errs[a.XMLP.ERR_ATT_VALUES=10]="Attribute: values are required and must be in quotes",a.XMLP._errs[a.XMLP.ERR_ATT_LT_NAME=11]='Element: "<" not allowed in attribute names',a.XMLP._errs[a.XMLP.ERR_ATT_LT_VALUE=12]='Attribute: "<" not allowed in attribute values',a.XMLP._errs[a.XMLP.ERR_ATT_DUP=13]="Attribute: duplicate attributes not allowed",a.XMLP._errs[a.XMLP.ERR_ENTITY_UNKNOWN=14]="Entity: unknown entity",a.XMLP._errs[a.XMLP.ERR_INFINITELOOP=15]="Infinite loop",a.XMLP._errs[a.XMLP.ERR_DOC_STRUCTURE=16]="Document: only comments, processing instructions, or whitespace allowed outside of document element",a.XMLP._errs[a.XMLP.ERR_ELM_NESTING=17]="Element: must be nested correctly",a.XMLP._checkStructure=function(e,f){var c=e.m_stack;if(a.XMLP._STATE_PROLOG==e.m_iState&&(e.m_iState=a.XMLP._STATE_DOCUMENT),a.XMLP._STATE_DOCUMENT===e.m_iState&&(a.XMLP._ELM_B!=f&&a.XMLP._ELM_EMP!=f||(e.m_stack[c.length]=e.getName()),a.XMLP._ELM_E==f||a.XMLP._ELM_EMP==f)){if(0===c.length){return a.XMLP._NONE}var d=c[c.length-1];if(e.m_stack.length--,null===d||d!==e.getName()){return a.XMLP._setErr(e,a.XMLP.ERR_ELM_NESTING)}}return f},a.XMLP._parseCDATA=function(d,c){var e=d.m_xml.indexOf("]]>",c);
return e==-1?a.XMLP._setErr(d,a.XMLP.ERR_CLOSE_CDATA):(a.XMLP._setContent(d,a.XMLP._CONT_XML,c,e),d.m_iP=e+3,a.XMLP._CDATA)},a.XMLP._parseComment=function(d,c){var e=d.m_xml.indexOf("-->",c);return e==-1?a.XMLP._setErr(d,a.XMLP.ERR_CLOSE_COMMENT):(a.XMLP._setContent(d,a.XMLP._CONT_XML,c-4,e+3),d.m_iP=e+3,a.XMLP._COMMENT)},a.XMLP._parseDTD=function(g,d){var h,c,e,f;if(h=g.m_xml.indexOf(">",d),h==-1){return a.XMLP._setErr(g,a.XMLP.ERR_CLOSE_DTD)}for(e=g.m_xml.indexOf("[",d),c=e!=-1&&e<h?"]>":">";;){if(h==f){return a.XMLP._setErr(g,a.XMLP.ERR_INFINITELOOP)}if(f=h,h=g.m_xml.indexOf(c,d),h==-1){return a.XMLP._setErr(g,a.XMLP.ERR_CLOSE_DTD)}if("]]>"!=g.m_xml.substring(h-1,h+2)){break}}return g.m_iP=h+c.length,a.XMLP._DTD},a.XMLP._parsePI=function(e,d){var h,c,g,i,f;return h=e.m_xml.indexOf("?>",d),h==-1?a.XMLP._setErr(e,a.XMLP.ERR_CLOSE_PI):(c=a.SAXStrings.indexOfNonWhitespace(e.m_xml,d,h),c==-1?a.XMLP._setErr(e,a.XMLP.ERR_PI_TARGET):(g=a.SAXStrings.indexOfWhitespace(e.m_xml,c,h),g==-1&&(g=h),i=a.SAXStrings.indexOfNonWhitespace(e.m_xml,g,h),i==-1&&(i=h),f=a.SAXStrings.lastIndexOfNonWhitespace(e.m_xml,i,h),f==-1&&(f=h-1),e.m_name=e.m_xml.substring(c,g),a.XMLP._setContent(e,a.XMLP._CONT_XML,i,f+1),e.m_iP=h+2,a.XMLP._PI))},a.XMLP._parseText=function(d,c){var e=d.m_xml.indexOf("<",c);return e==-1&&(e=d.m_xml.length),a.XMLP._setContent(d,a.XMLP._CONT_XML,c,e),d.m_iP=e,a.XMLP._TEXT},a.XMLP._setContent=function(d,e){var c=arguments;a.XMLP._CONT_XML==e?(d.m_cAlt=null,d.m_cB=c[2],d.m_cE=c[3]):(d.m_cAlt=c[2],d.m_cB=0,d.m_cE=c[2].length),d.m_cSrc=e},a.XMLP._setErr=function(e,d){var c=a.XMLP._errs[d];return e.m_cAlt=c,e.m_cB=0,e.m_cE=c.length,e.m_cSrc=a.XMLP._CONT_ALT,a.XMLP._ERROR},a.XMLP._parseElement=function(m,n){var j,d,o,f;if(d=j=m.m_xml.indexOf(">",n),j==-1){return a.XMLP._setErr(m,a.XMLP.ERR_CLOSE_ELM)}if("/"==m.m_xml.charAt(n)?(o=a.XMLP._ELM_E,n++):o=a.XMLP._ELM_B,"/"==m.m_xml.charAt(j-1)){if(o==a.XMLP._ELM_E){return a.XMLP._setErr(m,a.XMLP.ERR_ELM_EMPTY)}o=a.XMLP._ELM_EMP,d--}m.nameRegex.lastIndex=n;var k=m.nameRegex.exec(m.m_xml);if(!k){return a.XMLP._setErr(m,a.XMLP.ERR_ELM_NAME)}if(f=k[1].toLowerCase(),"li"===f&&o!==a.XMLP._ELM_E&&m.m_stack.length>0&&"li"===m.m_stack[m.m_stack.length-1]&&!m.m_emitSynthetic){return m.m_name="li",m.m_emitSynthetic=!0,a.XMLP._ELM_E}if(m.m_attributes={},m.m_cAlt="",m.nameRegex.lastIndex<d){for(m.m_iP=m.nameRegex.lastIndex;m.m_iP<d;){m.attrStartRegex.lastIndex=m.m_iP;var e=m.attrStartRegex.exec(m.m_xml);if(!e){return a.XMLP._setErr(m,a.XMLP.ERR_ATT_VALUES)}var l,h=e[1].toLowerCase();if(61===m.m_xml.charCodeAt(m.attrStartRegex.lastIndex)){var c=34===m.m_xml.charCodeAt(m.attrStartRegex.lastIndex+1)?m.attrValRegex:m.attrValIERegex;if(c.lastIndex=m.attrStartRegex.lastIndex+1,e=c.exec(m.m_xml),!e){return a.XMLP._setErr(m,a.XMLP.ERR_ATT_VALUES)}l=e[1]}else{l=h,c=m.attrStartRegex}if(m.m_attributes[h]&&m.m_attributes[h]!==l){return a.XMLP._setErr(m,a.XMLP.ERR_ATT_DUP)}m.m_attributes[h]=l,m.m_iP=c.lastIndex}}if(f.indexOf("<")!=-1){return a.XMLP._setErr(m,a.XMLP.ERR_ELM_LT_NAME)}if(m.m_name=f,m.m_iP=j+1,a.XMLP.closedTags[f]){m.closeRegex.lastIndex=j+1;var g=m.closeRegex.exec;if(g){var i=m.m_xml.indexOf(f,g.lastIndex);return i===g.lastIndex?o:a.XMLP._ELM_EMP}}return m.m_emitSynthetic=!1,o},a.XMLP._parse=function(f){var g=f.m_iP,d=f.m_xml;if(g===d.length){return a.XMLP._NONE}var h=d.charAt(g);if("<"!==h){return a.XMLP._parseText(f,g)}var e=d.charAt(g+1);return"?"===e?a.XMLP._parsePI(f,g+2):"!"!==e?a.XMLP._parseElement(f,g+1):g===d.indexOf("<!DOCTYPE",g)?a.XMLP._parseDTD(f,g+9):g===d.indexOf("<!--",g)?a.XMLP._parseComment(f,g+4):g===d.indexOf("<![CDATA[",g)?a.XMLP._parseCDATA(f,g+9):void 0},a.XMLP.XMLPImpl=function(d){var c={};return c.m_xml=d,c.m_iP=0,c.m_iState=a.XMLP._STATE_PROLOG,c.m_stack=[],c.m_attributes={},c.m_emitSynthetic=!1,c.getColumnNumber=function(){return a.SAXStrings.getColumnNumber(c.m_xml,c.m_iP)},c.getContent=function(){return c.m_cSrc==a.XMLP._CONT_XML?c.m_xml:c.m_cAlt},c.getContentBegin=function(){return c.m_cB},c.getContentEnd=function(){return c.m_cE},c.getLineNumber=function(){return a.SAXStrings.getLineNumber(c.m_xml,c.m_iP)},c.getName=function(){return c.m_name},c.next=function(){return a.XMLP._checkStructure(c,a.XMLP._parse(c))},c.nameRegex=/([^\s\/>]+)/g,c.attrStartRegex=/\s*([\w:_][\w:_\-\.]*)/gm,c.attrValRegex=/\"([^\"]*)\"\s*/gm,c.attrValIERegex=/([^\>\s]+)\s*/gm,c.closeRegex=/\s*<\//g,c},a.SAXStrings={},a.SAXStrings.WHITESPACE=" \t\n\r",a.SAXStrings.QUOTES="\"'",a.SAXStrings.getColumnNumber=function(f,e){if(!f){return -1}e=e||f.length;var c=f.substring(0,e).split("\n");c.length--;var d=c.join("\n").length;return e-d},a.SAXStrings.getLineNumber=function(d,c){return d?(c=c||d.length,d.substring(0,c).split("\n").length):-1},a.SAXStrings.indexOfNonWhitespace=function(h,d,f){if(!h){return -1}d=d||0,f=f||h.length;for(var e=d;e<f;++e){var g=h.charAt(e);if(" "!==g&&"\t"!==g&&"\n"!==g&&"\r"!==g){return e}}return -1},a.SAXStrings.indexOfWhitespace=function(f,c,e){if(!f){return -1}c=c||0,e=e||f.length;for(var d=c;d<e;d++){if(a.SAXStrings.WHITESPACE.indexOf(f.charAt(d))!=-1){return d}}return -1},a.SAXStrings.lastIndexOfNonWhitespace=function(f,c,e){if(!f){return -1}c=c||0,e=e||f.length;for(var d=e-1;d>=c;d--){if(a.SAXStrings.WHITESPACE.indexOf(f.charAt(d))==-1){return d}}return -1},a.SAXStrings.replace=function(g,c,f,e,d){return g?(c=c||0,f=f||g.length,g.substring(c,f).split(e).join(d)):""}}(jQuery,fluid_2_0_0),fluid_2_0_0=fluid_2_0_0||{},function(b,a){a.parseTemplate=function(h,I,e,c,y){function B(t){return 1===t.length&&1===t[0].predList.length&&t[0].predList[0].clazz}function J(S,O,R){if(E.rootlump=g(0,-1),M=[E.rootlump],H=0,x=0,p=!1,j=-1,i=-1,I=S,N=O,R){for(var Q=0;Q<R.length;++Q){var t=a.parseSelector(R[Q].selector,a.simpleCSSMatcher),P=B(t);P?f[P]=R[Q].id:(m.push([]),o.push(b.extend({},R[Q],{tree:t})))}}}function A(){for(var t=M.length-1;t>=0;--t){var O=M[t];if(void 0!==O.rsfID){return O}}return E.rootlump}function D(){var t=g(H,x);return N&&(t.line=z.getLineNumber(),t.column=z.getColumnNumber()),E.lumps[H]=t,++H,t}function q(O,t,P){var Q=O[t];Q||(Q=[],O[t]=Q),Q[Q.length]=P}function l(t,O){if(t.indexOf("scr=contribute-")!==-1){var P=t.substring("scr=contribute-".length);q(E.collectmap,P,O)}}function G(t){return"<"+t.tagname+">"}function v(O,t){return !!t&&(" "+t+" ").indexOf(" "+O+" ")!==-1}function u(Q,R,O){if(Q.predList){for(var P=0;P<Q.predList.length;++P){var t=Q.predList[P];if(t.id&&R.attributemap.id!==t.id){return !1}if(t.clazz&&!v(t.clazz,O)){return !1}if(t.tag&&R.tagname!==t.tag){return !1}}return !0}}function F(U){var O,R,S=U.attributemap["class"];if(S){var V=S.split(" ");for(R=0;R<V.length;++R){var T=f[b.trim(V[R])];if(T){return T}}}for(R=0;R<o.length;++R){var W=o[R],X=m[R],t=X.length;if(t<W.tree.length){var P=W.tree[t];if(t>0&&W.tree[t-1].child&&X[t-1]!==U.nestingdepth-1){continue}var Q=u(P,U,S);Q&&(X[X.length]=U.nestingdepth,X.length===W.tree.length&&(void 0!==O&&a.fail("Cutpoint specification error - node "+G(U)+" has already matched with rsf:id of "+O),void 0!==W.id&&null!==W.id||a.fail("Error in cutpoints list - entry at position "+R+" does not have an id set"),O=W.id))}}return O}function C(){if(o){for(var t=0;t<o.length;++t){var O=m[t];O.length>0&&O[O.length-1]===x&&O.length--}}}function r(){C();var t=D();--x,t.text="</"+z.getName()+">";var O=M[M.length-1];O.close_tag=E.lumps[H-1],M.length--,p=!0}function d(U){if(++x,p){p=!1;var R=D();R.nestingdepth--}E.firstdocumentindex===-1&&(E.firstdocumentindex=H);var T=D(),t=M[M.length-1];T.uplump=t;var W=z.getName();T.tagname=W;var X=T.attributemap=z.m_attributes,V=X[a.ID_ATTRIBUTE];void 0===V&&(V=F(T));for(var Q in X){void 0===V&&(/href|src|codebase|action/.test(Q)?V="scr=rewrite-url":void 0===V&&/for|headers/.test(Q)&&(V="scr=null"))}if(V){126===V.charCodeAt(0)&&(V=V.substring(1),T.elide=!0),l(V,T),T.rsfID=V;var P=A();for(P.downmap||(P.downmap={});P;){P.downmap&&q(P.downmap,V,T),P=P.uplump}q(E.globalmap,V,T);var O=V.indexOf(":");if(O!==-1){var S=V.substring(0,O);t.finallump||(t.finallump={}),t.finallump[S]=T}}T.text="<"+W+a.dumpAttributes(X)+(U&&!V?"/>":">"),M[M.length]=T,U&&(V?r():(--x,M.length--))}function n(){if(j!==-1){E.firstdocumentindex===-1&&(E.firstdocumentindex=H);var O=z.getContent().substr(j,i-j);p=!1;var t=D();t.text=O,j=-1}}y=y||{},h||a.fail("empty template supplied to fluid.parseTemplate");var E,z,M,H=0,x=0,p=!1,j=-1,i=-1,N=!1,o=[],f={},m=[],g=function(O,t){return{nestingdepth:t,lumpindex:O,parent:E}};E=a.XMLViewTemplate(),J(I,y.debugMode,c);var K=h.indexOf(a.ID_ATTRIBUTE);if(e){var s=h.indexOf(">",K);z=a.XMLP(h.substring(s+1))}else{z=a.XMLP(h)}parseloop:for(;;){var L=z.next();switch(L){case a.XMLP._ELM_B:n(),d(!1,"");break;case a.XMLP._ELM_E:n(),r();break;case a.XMLP._ELM_EMP:n(),d(!0,"");break;case a.XMLP._PI:case a.XMLP._DTD:j=-1;continue;case a.XMLP._TEXT:case a.XMLP._ENTITY:case a.XMLP._CDATA:case a.XMLP._COMMENT:j===-1&&(j=z.m_cB),i=z.m_cE;break;case a.XMLP._ERROR:a.setLogging(!0);var k="Error parsing template: "+z.m_cAlt+" at line "+z.getLineNumber();a.log(k),a.log("Just read: "+z.m_xml.substring(z.m_iP-30,z.m_iP)),a.log("Still to read: "+z.m_xml.substring(z.m_iP,z.m_iP+30)),a.fail(k);break parseloop;case a.XMLP._NONE:break parseloop}}n();var w=M.length-1;return w&&a.fail("Error parsing template - unclosed tag(s) of depth "+w+": "+a.transform(M.splice(1,w),function(t){return G(t)}).join(", ")),E},a.debugLump=function(d){var c=d.text;return c+=" at ",c+="lump line "+d.line+" column "+d.column+" index "+d.lumpindex,c+=null===d.parent.href?"":" in file "+d.parent.href},a.ID_ATTRIBUTE="rsf:id",a.getPrefix=function(d){var c=d.indexOf(":");return c===-1?d:d.substring(0,c)},a.SplitID=function(e){var d={},c=e.indexOf(":");return c===-1?d.prefix=e:(d.prefix=e.substring(0,c),d.suffix=e.substring(c+1)),d},a.XMLViewTemplate=function(){return{globalmap:{},collectmap:{},lumps:[],firstdocumentindex:-1}},a.XMLEncode=function(c){return c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;")
},a.dumpAttributes=function(c){var e="";for(var f in c){var d=c[f];null!==d&&void 0!==d&&(e+=" "+f+'="'+d+'"')}return e},a.aggregateMMap=function(f,e){for(var c in e){var d=f[c];d||(f[c]=[]),f[c]=f[c].concat(e[c])}},a.parseTemplates=function(g,j,c){var e=[];c=c||{},e.globalmap={};for(var h=0;h<j.length;++h){var f=g[j[h]],k=f.href.lastIndexOf("/"),d=k===-1?"":f.href.substring(0,k+1),l=a.parseTemplate(f.resourceText,d,c.scanStart&&0===h,f.cutpoints,c);0===h&&a.aggregateMMap(e.globalmap,l.globalmap),l.href=f.href,l.baseURL=d,l.resourceKey=f.resourceKey,e[h]=l,a.aggregateMMap(e.globalmap,l.rootlump.downmap)}return e}}(jQuery,fluid_2_0_0),fluid_2_0_0=fluid_2_0_0||{},function(h,j){function n(o){return"as child of "+(o.parent.fullID?"component with full ID "+o.parent.fullID:"root")}function i(r){var t="",p=r;for(void 0===r.children&&(t=r.ID+(void 0!==r.localID?r.localID:""),p=r.parent);p.parent;){var s=p.parent;if(void 0!==p.fullID){return t=p.fullID+t}if(void 0===p.noID){var o=p.ID;void 0===o&&j.fail("Error in component tree - component found with no ID "+n(s)+": please check structure");var q=o.indexOf(":"),u=q===-1?o:o.substring(0,q);t=u+":"+(void 0===p.localID?"":p.localID)+":"+t}p=s}return t}function c(q,p){if(k.isBoundPrimitive(q)){return{componentType:"UIBound",value:q,ID:p}}var o=g(q);return o.ID?{ID:p,componentType:"UIContainer",children:[o]}:(o.ID=p,o)}function f(q){if(j.isArrayable(q)){return q}var r=[];for(var p in q){var s=q[p];if(j.isArrayable(s)){for(var o=0;o<s.length;++o){var t=c(s[o],p);r[r.length]=t}}else{r[r.length]=c(s,p)}}return r}function d(o,q,p){void 0===o.value&&void 0!==o.valuebinding&&(o.value=j.get(q,o.valuebinding,p))}function m(q,r,p,o){void 0!==q[r]?k.isBoundPrimitive(q[r])?q[r]={value:q[r]}:q[r].messagekey&&(q[r].componentType="UIMessage"):q[r]={value:null},d(q[r],p,o)}function l(z,w,q){if(void 0===z.componentType&&(z=g(z,w,q)),"UIContainer"===z.componentType||z.parent||(z={children:[z]}),z.children){z.childmap={};for(var v=0;v<z.children.length;++v){var p=z.children[v];void 0===p.componentType&&(p=g(p,w,q),z.children[v]=p),p.parent=z,void 0===p.ID&&j.fail("Error in component tree: component found with no ID "+n(p)),z.childmap[p.ID]=p;var s=p.ID.indexOf(":");if(s===-1){}else{var x=p.ID.substring(0,s),o=z.childmap[x];o||(o=[],z.childmap[x]=o),void 0===p.localID&&0!==o.length&&(p.localID=o.length),o[o.length]=p}p.fullID=i(p);var r=p.componentType;if("UISelect"===r){p.selection.fullID=p.fullID}else{if("UIInitBlock"===r){for(var y=p.functionname+"(",u=p.arguments,t=0;t<u.length;++t){u[t] instanceof j.ComponentReference&&(u[t]=p.parent.fullID+u[t].reference),y+=JSON.stringify(u[t]),t<u.length-1&&(y+=", ")}p.markup={value:y+")\n"},p.componentType="UIVerbatim"}else{"UIBound"===r&&d(p,w,q)}}l(p,w,q)}}return z}function a(o){var p=j.dom.iterateDom(o,function(r){return 8===r.nodeType||4===r.nodeType?"stop":null},!0),q=p.nodeValue;return 0===q.indexOf("[CDATA[")?q.substring(6,q.length-2):q}j.defaults("fluid.messageResolver",{gradeNames:["fluid.component"],mergePolicy:{messageBase:"nomerge",parents:"nomerge"},resolveFunc:j.stringTemplate,parseFunc:j.identity,messageBase:{},members:{messageBase:"@expand:{that}.options.parseFunc({that}.options.messageBase)"},invokers:{lookup:"fluid.messageResolver.lookup({that}, {arguments}.0)",resolve:"fluid.messageResolver.resolve({that}, {arguments}.0, {arguments}.1)"},parents:[]}),j.messageResolver.lookup=function(q,p){var o=j.messageResolver.resolveOne(q.messageBase,p);return void 0===o?j.find(q.options.parents,function(r){return r?r.lookup(p):void 0}):{template:o,resolveFunc:q.options.resolveFunc}},j.messageResolver.resolve=function(q,o,p){if(!o){return"[No messagecodes provided]"}o=j.makeArray(o);var r=q.lookup(o);return r?r.resolveFunc(r.template,p):"[Message string for key "+o[0]+" not found]"},j.messageResolver.resolveOne=function(s,o){for(var p=0;p<o.length;++p){var r=o[p],q=s[r];if(void 0!==q){return q}}},j.messageLocator=function(p,o){var q=j.messageResolver({messageBase:p,resolveFunc:o});return function(r,s){return q.resolve(r,s)}};var k={};k.isBoundPrimitive=function(o){return j.isPrimitive(o)||j.isArrayable(o)&&(0===o.length||"string"==typeof o[0])};var g;k.duckMap={children:"UIContainer",value:"UIBound",valuebinding:"UIBound",messagekey:"UIMessage",markup:"UIVerbatim",selection:"UISelect",target:"UILink",choiceindex:"UISelectChoice",functionname:"UIInitBlock"};var b={UISelect:["selection","optionlist","optionnames"],UILink:["target","linktext"],UIVerbatim:["markup"],UIMessage:["messagekey"]};k.boundMap=j.transform(b,j.arrayToHash),k.inferComponentType=function(o){for(var p in k.duckMap){if(void 0!==o[p]){return k.duckMap[p]}}},k.applyComponentType=function(o){o.componentType=k.inferComponentType(o),void 0===o.componentType&&void 0!==o.ID&&(o.componentType="UIBound")},g=function(s,r,q){if(s&&k.applyComponentType(s),!s||void 0===s.componentType){var p=s.decorators;p&&delete s.decorators,s={componentType:"UIContainer",children:s},s.decorators=p}var o=s.componentType;if("UIContainer"===o){s.children=f(s.children)}else{var t=k.boundMap[o];t&&j.each(t,function(v,u){m(s,u,r,q)})}return s},j.NULL_STRING="▩null▩";var e={a:"href",link:"href",img:"src",frame:"src",script:"src",style:"src",input:"src",embed:"src",form:"action",applet:"codebase",object:"codebase"};k.decoratorComponentPrefix="**-renderer-",k.IDtoComponentName=function(o,p){return k.decoratorComponentPrefix+o.replace(/\./g,"")+"-"+p},k.invokeFluidDecorator=function(v,s,o,r,q){var u;if(q.parentComponent){var t=q.parentComponent,p=k.IDtoComponentName(o,r);j.set(t,["options","components",p],{type:v,container:s[0],options:s[1]}),u=j.initDependent(q.parentComponent,p)}else{u=j.invokeGlobalFunction(v,s)}return u},j.renderer=function(q,O,Y,s){function aA(aF,aE,aG){return aF.resourceKey+aE.fullID+aG}function N(aJ,aE,aG){var aK,aI=aG?aG[aJ]:null;if(aI){for(var aF=0;aF<aI.length;++aF){var aH=aI[aF];if(aK||aH.rsfID!==aE||(aK=aH),aH.rsfID===aJ){return aH}}}return aK}function aw(aH,aJ){var aI=aJ.jointID?aJ.jointID:aJ.ID,aG=j.SplitID(aI),aE=aG.prefix+":",aF=N(aI,aE,aH.downmap,aJ);return aF?aF:aJ.children&&(aF=N(aI,aE,ab,aJ))?aF:null}function L(aE){Q[aE.href]||(j.aggregateMMap(P,aE.collectmap),Q[aE.href]=!0)}function S(aJ,aG){var aH,aE,aM;for(aH=0;aH<aJ.children.length;++aH){var aK=aJ.children[aH];aK.children&&(aM=aw(aG,aK),aM&&(at[aK.fullID]=aM,aE=aM.attributemap.id,void 0!==aE&&(an[aA(aG.parent,aJ,aE)]=aK.fullID),L(aM.parent),S(aK,aM)))}if(aG.downmap){for(aE in aG.downmap){var aL=aG.downmap[aE];for(aH=0;aH<aL.length;++aH){var aI=aL[aH],aN=aI.attributemap.id;if(void 0!==aN&&void 0!==aI.rsfID&&(aM=ap(aJ,aI.rsfID),null!==aM)){var aF=aM.fullID;an[aA(aG.parent,aJ,aN)]=aF}}}}}function M(aG,aF,aE){at={},an={},Q={},P={},ab=aG,at[aF.fullID]=aE,S(aF,aE)}function D(aF,aH,aE){for(;aH<aE;++aH){var aG=aF[aH].text;aG&&(am+=aF[aH].text)}}function ac(aG,aJ,aE,aI,aF){for(var aK=aJ;;){if(aJ===aG.length){break}var aH=aG[aJ];if(aH.nestingdepth<aE){break}if(void 0!==aH.rsfID){if(!aF){break}if(!(aF&&aH.nestingdepth>aE+(aI?0:1))){break}j.log("Error in component tree - leaf component found to contain further components - at "+aH.toString())}++aJ}return aI||aJ!==aG.length&&aG[aJ].rsfID||--aJ,D(aG,aK,aJ),aJ}function v(){return !1}function w(aE){return null!==aE&&void 0!==aE&&!v(aE)}function x(){I.iselide||(am+="<"+I.uselump.tagname)}function au(){I.iselide||(am+="</"+I.uselump.tagname+">")}function ae(){D(I.uselump.parent.lumps,I.uselump.lumpindex+1,I.close.lumpindex+(I.iselide?0:1))}function T(){return I.endopen.lumpindex===I.close.lumpindex&&j.XMLP.closedTags[I.uselump.tagname]}function ai(){T()?I.iselide||(am+="/>"):(I.iselide||(am+=">"),D(I.uselump.parent.lumps,I.endopen.lumpindex,I.close.lumpindex+(I.iselide?0:1)))}function al(){I.iselide||(am+=j.dumpAttributes(I.attrcopy)),ai()}function ar(){if(I.iselide){al()}else{am+=j.dumpAttributes(I.attrcopy);var aE=T();am+=aE?"/>":">",I.nextpos=aE?I.close.lumpindex+1:I.endopen.lumpindex}}function aB(aE){am+=j.dumpAttributes(I.attrcopy),I.iselide||(am+=">"),am+=j.XMLEncode(aE.toString()),au()}function ag(aE){w(aE)?aB(aE):al()}function az(aE){I.iselide?ag(I.value):w(aE)?aB(aE):ar()}function o(aG,aE){if(Z.urlRewriter){var aH=Z.urlRewriter(aE);if(aH){return aH}}if(!Z.rebaseURLs){return aE}var aF=aE.indexOf(":/");return"/"===aE.charAt(0)||aF!==-1&&aF<7?aE:Z.baseURL+aE}function ay(aG){am+='<input type="hidden" ';var aF=aG.virtual,aE={};aE[aF?"id":"name"]=aG.name,aE.value=aG.value,am+=j.dumpAttributes(aE),am+=" />\n"}function r(aE,aF){function aJ(){j.applyBoundChange(j.byId(aF,Z.document),void 0,aH)}if(aF){var aI=I.uselump.tagname,aH=Z.applier;if(Z.autoBind&&/input|select|textarea/.test(aI)&&!G[aF]){var aG=[{jQuery:["change",aJ]}];h.browser.msie&&"input"===aI&&/radio|checkbox/.test(I.attrcopy.type)&&aG.push({jQuery:["click",aJ]}),h.browser.safari&&"input"===aI&&"radio"===I.attrcopy.type&&aG.push({jQuery:["keyup",aJ]}),U(aE,aG,I.attrcopy,aF)}}}function K(aF,aH){if(aF){var aG=aH?aH:aF;if(Z.fossils&&void 0!==aG.valuebinding){var aE=aG.submittingname||aF.finalID;Z.fossils[aE]={name:aE,EL:aG.valuebinding,oldvalue:aG.value},r(aF,aF.finalID)}aF.fossilizedbinding&&ay(aF.fossilizedbinding),aF.fossilizedshaper&&ay(aF.fossilizedshaper)}}function E(aE){G[aE.selection.fullID]||(G[aE.selection.fullID]=!0,K(aE.selection),K(aE.optionlist),K(aE.optionnames))}function X(aE,aG){var aF=aE.selection;return j.isArrayable(aF.value)?aF.value.indexOf(aG)!==-1:aF.value===aG}function ao(aE,aF){for(aE=aE.parent;0===aF.indexOf("..::");){aF=aF.substring(4),aE=aE.parent}return aE.childmap[aF]}function ax(aF,aE){j.each(an,function(aH,aG){aH===aF&&(an[aG]=aE)})}function F(aH,aG,aF,aJ){aF||delete aH["rsf:id"],void 0!==aG.finalID?aH.id=aG.finalID:void 0!==aJ?aH.id=aJ:(aH.id||aF)&&(aH.id=aG.fullID);for(var aI=1,aE=aH.id;Z.document.getElementById(aH.id)||A[aH.id];){aH.id=aE+"-"+aI++}return 1!==aI&&ax(aE,aH.id),aG.finalID=aH.id,aH.id}function C(aF,aE,aG){var aH=aG||aE;return F(aF,aE,!0,aE.fullID),void 0===aH.submittingname&&aH.willinput!==!1&&(aH.submittingname=aH.finalID||aH.fullID),aH.submittingname
}function av(aF){var aH=[];if(aF.type){aH[0]=aF}else{for(var aG in aF){"$"===aG&&(aG="jQuery");var aI=aF[aG],aE={type:aG};"jQuery"===aG?(aE.func=aI[0],aE.args=aI.slice(1)):"addClass"===aG||"removeClass"===aG?aE.classes=aI:"attrs"===aG?aE.attributes=aI:"identify"===aG&&(aE.key=aI),aH[aH.length]=aE}}return aH}function J(aE,aF){aE.decorators&&(void 0===aE.decorators.length&&(aE.decorators=av(aE.decorators)),U(aE,aE.decorators,aF))}function aa(aG,aE){if(!aE.elide){var aF={};h.extend(!0,aF,aE.attributemap),F(aF,aG),J(aG,aF),am+="<"+aE.tagname+" ",am+=j.dumpAttributes(aF),am+=">"}}function af(aE){return aE?(aE=j.copy(aE),j.transform(aE,function(aF,aG){return m(aE,aG,Z.model,Z.resolverGetConfig),aE[aG].value})):aE}function aq(aF){if("UIMessage"===aF.componentType){if(aF.componentType="UIBound",Z.messageLocator){m(aF,"messagekey",Z.model,Z.resolverGetConfig);var aE=af(aF.args);aF.value=Z.messageLocator(aF.messagekey.value,aE)}else{aF.value="[No messageLocator is configured in options - please consult documentation on options.messageSource]"}}}function R(aP){function aF(aW,aX){j.fail("Error in component tree - UISelectChoice with id "+aW.fullID+aX)}var aO,aI=I.attrcopy;aq(aP);var aN=aP.componentType,aS=I.uselump.tagname;if(J(aP,aI),"UIBound"===aN||"UISelectChoice"===aN){var aK;void 0!==aP.choiceindex&&(void 0!==aP.parentRelativeID?(aK=ao(aP,aP.parentRelativeID),aK||aF(aP," has parentRelativeID of "+aP.parentRelativeID+" which cannot be resolved")):aF(aP," does not have parentRelativeID set"),C(aI,aP,aK.selection),E(aK));var aH=aK?aK.selection.submittingname:aP.submittingname;if(!aK&&aP.valuebinding&&(aH=C(aI,aP)),"input"!==aS&&"textarea"!==aS||void 0!==aH&&(aI.name=aH),K(aP,aK?aK.selection:null),"boolean"==typeof aP.value||"radio"===aI.type||"checkbox"===aI.type){var aJ,aR=aP.value;void 0!==aP.choiceindex&&(aK.optionlist.value||j.fail("Error in component tree - selection control with full ID "+aK.fullID+" has no values"),aJ=aK.optionlist.value[aP.choiceindex],aR=X(aK,aJ)),w(aR)&&(aR?aI.checked="checked":delete aI.checked),aI.value=j.XMLEncode(aJ?aJ:"true"),ag(null)}else{j.isArrayable(aP.value)?ae():(aO=aK?aK["textarea"===aS||"input"===aS?"optionlist":"optionnames"].value[aP.choiceindex]:aP.value,"textarea"===aS?(v(aO)&&aP.willinput&&(aO=""),ag(aO)):"input"===aS?((aP.willinput||w(aO))&&(aI.value=j.XMLEncode(String(aO))),ag(null)):(delete aI.name,az(aO)))}}else{if("UISelect"===aN){var aV="select"===aS,aG=!1;if(j.isArrayable(aP.selection.value)&&(aG=!0,aV&&(aI.multiple="multiple")),C(aI,aP.selection),aV&&(aP.selection.willinput!==!1&&(aI.name=aP.selection.submittingname),r(aP,aI.id)),am+=j.dumpAttributes(aI),aV){am+=">";var aE=aP.optionlist.value,aM=null!==aP.optionnames&&void 0!==aP.optionnames&&aP.optionnames.value?aP.optionnames.value:aE;aM&&aM.length||j.fail("Error in component tree - UISelect component with fullID "+aP.fullID+" does not have optionnames set");for(var aQ=0;aQ<aM.length;++aQ){am+='<option value="',aO=aE[aQ],null===aO&&(aO=j.NULL_STRING),am+=j.XMLEncode(aO),X(aP,aO)&&(am+='" selected="selected'),am+='">',am+=j.XMLEncode(aM[aQ]),am+="</option>\n"}au()}else{ai()}E(aP)}else{if("UILink"===aN){var aL=e[aS];if(aL){aq(aP.target);var aU=aP.target.value;w(aU)||(aU=aI[aL]),aU=o(I.uselump.parent,aU),aI[aL]=j.XMLEncode(aU)}aO=void 0,aP.linktext&&(aq(aP.linktext),aO=aP.linktext.value),w(aO)?ag(aO):ar()}else{if(void 0!==aP.markup){aq(aP.markup);var aT=aP.markup.value;null===aT?(am+=j.dumpAttributes(aI),am+=">",ae()):(I.iselide||(am+=j.dumpAttributes(aI),am+=">"),am+=aT,au())}}}}void 0!==aI.id&&(A[aI.id]=!0)}function u(aE){var aI,aG=I.attrcopy["for"];if(void 0!==aG?aI="for":(aG=I.attrcopy.headers,void 0!==aG&&(aI="headers")),aI){var aH=I.uselump.tagname;if(!("for"===aI&&"label"!==aH||"headers"===aI&&"td"!==aH&&"th"!==aH)){var aF=an[aA(I.uselump.parent,aE,aG)];void 0!==aF&&(I.attrcopy[aI]=aF)}}}function ah(aE){am+="<!-- "+j.XMLEncode(aE)+"-->"}function y(aE){am+='<span style="background-color:#FF466B;color:white;padding:1px;">',am+=aE,am+="</span><br/>"}function W(aE){var aF=aE.fullID;return aF?"full path "+aF:"component tree root"}function H(aF,aO,aK){var aM=aK.lumpindex,aS=aK.parent.lumps,aL=-1,aN=aS[aM+1],aE=aK.close_tag;aL=aE.lumpindex+1;var aJ=aK.downmap?aK.downmap["payload-component"]:null,aR=aJ?aJ[0]:null,aQ=126===aK.rsfID.charCodeAt(0),aI=aN,aT=aE,aH=aK,aG={};if(h.extend(!0,aG,(null===aR?aK:aR).attributemap),I.attrcopy=aG,I.uselump=aH,I.endopen=aI,I.close=aT,I.nextpos=aL,I.iselide=aQ,u(aF),null===aO&&aK.rsfID.indexOf("scr=")===(aQ?1:0)){var aP=aK.rsfID.substring(4+(aQ?1:0));"ignore"===aP?aL=I.close.lumpindex+1:"rewrite-url"===aP?aO={componentType:"UILink",target:{}}:(x(),ar(),aL=I.endopen.lumpindex)}return null!==aO&&(aR&&(I.endopen=aS[aR.lumpindex+1],I.close=aR.close_tag,I.uselump=aR,D(aS,aM,aR.lumpindex),aM=aR.lumpindex),F(aG,aO),x(),R(aO),null!==aR&&I.nextpos===aL&&D(aS,I.close.lumpindex+1,aE.lumpindex+1),aL=I.nextpos),aL}function B(aH,aE){var aG=aE.parent,aF=aG.lumps[aE.lumpindex+1];void 0!==aH.children?aa(aH,aE):H(aH.parent,aH,aE),ad(aH,aE,aF)}function aC(aF,aG){for(var aE;aF&&!(aE=aF.childmap[aG]);){aF=aF.parent}return aE}function V(aG,aH){var aF=j.SplitID(aH.ID),aE=aG.downmap[aH.ID];return aE||(aE=aG.downmap[aF.prefix+":"]),aE?aE[0]:null}function t(aE){D(aE.parent.lumps,aE.lumpindex,aE.close_tag.lumpindex+1)}function p(){for(var aG in P){for(var aE=P[aG],aF=0;aF<aE.length;++aF){t(aE[aF])}}}function z(){for(var aJ=0;aJ<aj.length;++aJ){for(var aI=aj[aJ],aH=0;aH<aI.ids.length;++aH){var aF=aI.ids[aH],aG=j.byId(aF,Z.document);if(aG||j.fail("Error during rendering - component with id "+aF+" which has a queued decorator was not found in the output markup"),"jQuery"===aI.type){var aE=Z.jQuery(aG);aE[aI.func].apply(aE,j.makeArray(aI.args))}else{if("fluid"===aI.type){var aM=aI.args;if(!aM){var aK=Z.jQuery(aG);aI.container?aI.container.push(aG):aI.container=aK,aM=[aK,aI.options]}var aL=k.invokeFluidDecorator(aI.func,aM,aF,aJ,Y);aI.that=aL}else{"event"===aI.type&&(aG[aI.event]=aI.handler)}}}}}Y=Y||{},O=O||{};var aD=Y.debugMode;!Y.messageLocator&&Y.messageSource&&(Y.messageLocator=j.resolveMessageSource(Y.messageSource)),Y.document=Y.document||document,Y.jQuery=Y.jQuery||h,Y.fossils=Y.fossils||s||{};var ap,U,ab={},at={},an={},Q={},P={},am="",Z=Y,aj=[],G={},A={},ak={options:Y},I={};U=function(aJ,aN,aG,aL){var aE,aF=function(aQ,aP){null===aQ||void 0===aQ?delete aG[aP]:aG[aP]=j.XMLEncode(aQ)};Z.idMap=Z.idMap||{};for(var aI=0;aI<aN.length;++aI){var aH=aN[aI],aK=aH.type;if(aK){if("$"===aK&&(aK=aH.type="jQuery"),"jQuery"===aK||"event"===aK||"fluid"===aK){aE=F(aG,aJ,!0,aL),void 0===aH.ids&&(aH.ids=[],aj[aj.length]=aH),aH.ids.push(aE)}else{if("attrs"===aK){j.each(aH.attributes,aF)}else{if("addClass"===aK||"removeClass"===aK){var aO=h("<div>",{"class":aG["class"]})[0];Z.jQuery(aO)[aK](aH.classes),aG["class"]=aO.className}else{"identify"===aK?(aE=F(aG,aJ,!0,aL),Z.idMap[aH.key]=aE):"null"!==aK&&j.log("Unrecognised decorator of type "+aK+" found at component of ID "+aL)}}}}else{var aM=av(aH);U(aJ,aM,aG,aL)}}};var ad;return ap=function(aG,aH){if(0===aH.indexOf("msg=")){var aE=aH.substring(4);return{componentType:"UIMessage",messagekey:aE}}for(;aG;){var aF=aG.childmap[aH];if(aF){return aF}aG=aG.parent}return null},ad=function(aJ,aY,aP){var aE,aT,aF,aW,aS=aP.lumpindex,aV=aY.nestingdepth,aK=aY.parent;for(aD&&(aW={});;){if(aS=ac(aK.lumps,aS,aV,!aY.elide,!1),aS===aK.lumps.length){break}var aN=aK.lumps[aS],aO=aN.rsfID;if(aN.nestingdepth<aV||void 0===aO){break}if(126===aO.charCodeAt(0)&&(aO=aO.substring(1)),aO.indexOf(":")!==-1){var aQ=j.getPrefix(aO);aE=aC(aJ,aQ);var aG=aN.uplump.finallump[aQ],aH=aG.close_tag;if(aE){for(var aR=0;aR<aE.length;++aR){if(aF=aE[aR],aF.children){aD&&(aW[aF.fullID]=!0),aT=at[aF.fullID],aT?(aD&&ah("Branching for "+aF.fullID+" from "+j.debugLump(aN)+" to "+j.debugLump(aT)),B(aF,aT),aD&&ah("Branch returned for "+aF.fullID+j.debugLump(aN)+" to "+j.debugLump(aT))):aD&&y("No matching template branch found for branch container with full ID "+aF.fullID+" rendering from parent template branch "+j.debugLump(aP))}else{if(aT=V(aY,aF),!aT){aD&&y("Repetitive leaf with full ID "+aF.fullID+" could not be rendered from parent template branch "+j.debugLump(aP));continue}var aU=H(aJ,aF,aT),aM=aU<aK.lumps.lengtn&&aK.lumps[aU].nestingdepth>=aT.nestingdepth,aI=aF.children?aF:aJ;aM&&(ad(aI,aT,aK.lumps[aU]),aU=aT.close_tag.lumpindex+1),aR!==aE.length-1?aU<aH.lumpindex&&ac(aK.lumps,aU,aT.nestingdepth-1,!1,!1):ac(aK.lumps,aU,aT.nestingdepth,!0,!1)}}}else{aD&&y("No branch container with prefix "+aQ+": found in container "+W(aJ)+" rendering at template position "+j.debugLump(aP)+", skipping")}aS=aH.lumpindex+1,aD&&ah("Stack returned from branch for ID "+aO+" to "+j.debugLump(aP)+": skipping from "+j.debugLump(aN)+" to "+j.debugLump(aH))}else{var aL;aO&&(aL=ap(aJ,aO,aN),aD&&aL&&(aW[aL.fullID]=!0)),aL&&void 0!==aL.children?(B(aL),aS=aN.close_tag.lumpindex+1):aS=H(aJ,aL,aN)}if(aS===aK.lumps.length){break}}if(aD){aE=aJ.children;for(var aX=0;aX<aE.length;++aX){aF=aE[aX],aW[aF.fullID]||y("Component "+aF.componentType+" with full ID "+aF.fullID+" could not be found within template "+j.debugLump(aP))}}},ak.renderTemplates=function(){O=l(O,Y.model,Y.resolverGetConfig);var aE=q[0];return M(q.globalmap,O,aE.rootlump),G={},p(),ad(O,aE.rootlump,aE.lumps[aE.firstdocumentindex]),am},ak.processDecoratorQueue=function(){z()},ak},jQuery.extend(!0,j.renderer,k),j.ComponentReference=function(o){this.reference=o},j.explode=function(r,o){var q=[];for(var p in r){var s=void 0===o?p:o+"."+p;q[q.length]={ID:p,value:r[p],valuebinding:s}}return q},j.explodeSelectionToInputs=function(o,p){return j.transform(o,function(r,q){return{ID:p.rowID,children:[{ID:p.inputID,parentRelativeID:"..::"+p.selectID,choiceindex:q},{ID:p.labelID,parentRelativeID:"..::"+p.selectID,choiceindex:q}]}})},j.resolveMessageSource=function(o){if("data"===o.type){if(void 0===o.url){return j.messageLocator(o.messages,o.resolveFunc)}}else{if("resolver"===o.type){return o.resolver.resolve}}},j.renderTemplates=function(r,o,p,q){var s=j.renderer(r,o,p,q),t=s.renderTemplates();
return t},j.reRender=function(u,q,w,v){v=v||{};var t=j.renderer(u,w,v,v.fossils);v=t.options,q=j.unwrap(q);var o,s=j.getLastFocusedElement?j.getLastFocusedElement():null;s&&j.dom.isContainer(q,s)&&(o=s.id),h.browser.msie?v.jQuery(q).empty():q.innerHTML="";var p=t.renderTemplates();if(v.renderRaw&&(p=j.XMLEncode(p),p=p.replace(/\n/g,"<br/>")),v.model&&j.bindFossils(q,v.model,v.fossils),h.browser.msie?v.jQuery(q).html(p):q.innerHTML=p,t.processDecoratorQueue(),o){var r=j.byId(o,v.document);r&&v.jQuery(r).focus()}return u},j.extractTemplate=function(p,o){return o?a(p):p.innerHTML},j.render=function(t,u,o,q){q=q||{};var s=t;"object"==typeof t&&(s=j.extractTemplate(j.unwrap(t.node),t.armouring)),u=j.unwrap(u);var p={base:{resourceText:s,href:".",resourceKey:".",cutpoints:q.cutpoints}},r=j.parseTemplates(p,["base"],q);return j.reRender(r,u,o,q)},j.selfRender=function(q,o,p){return p=p||{},j.render({node:q,armouring:p.armouring},q,o,p)}}(jQuery,fluid_2_0_0),fluid_2_0_0=fluid_2_0_0||{},function(c,b){b.renderer||b.fail("fluidRenderer.js is a necessary dependency of RendererUtilities"),b.renderer.visitDecorators=function(e,f){b.visitComponentChildren(e,function(h,g){0===g.indexOf(b.renderer.decoratorComponentPrefix)&&f(h,g)},{flat:!0},[])},b.renderer.clearDecorators=function(e){var f=b.getInstantiator(e);b.renderer.visitDecorators(e,function(h,g){f.clearComponent(e,g)})},b.renderer.getDecoratorComponents=function(f){var e={};return b.renderer.visitDecorators(f,function(h,g){e[g]=h}),e},b.renderer.modeliseOptions=function(f,g,e){return c.extend({},g,b.filterKeys(e,["model","applier"]),f)},b.renderer.reverseMerge=function(g,e,f){f=b.makeArray(f),b.each(f,function(h){void 0===g[h]&&void 0!==e[h]&&(g[h]=e[h])})},b.renderer.createRendererSubcomponent=function(f,n,o,k,i){o=o||{};var e=o.templateSource?o.templateSource:{node:c(f)},h=void 0===o.rendererOptions.model,m=b.renderer.modeliseOptions(o.rendererOptions,null,k);if(m.fossils=i||{},m.parentComponent=k,f.jquery){var j={document:f[0].ownerDocument,jQuery:f.constructor};b.renderer.reverseMerge(m,j,b.keys(j))}var g={},l=null;return g.render=function(p){var r=o.cutpointGenerator||"fluid.renderer.selectorsToCutpoints";m.cutpoints=m.cutpoints||b.invokeGlobalFunction(r,[n,o]),h&&(m.model=k.model);var q=c(o.renderTarget?o.renderTarget:f);l?(b.clear(m.fossils),b.reRender(l,q,p,m)):("function"==typeof e&&(e=e()),l=b.render(e,q,p,m))},g},b.defaults("fluid.rendererComponent",{gradeNames:["fluid.viewComponent"],initFunction:"fluid.initRendererComponent",mergePolicy:{"rendererOptions.idMap":"nomerge",protoTree:"noexpand, replace",parentBundle:"nomerge","changeApplierOptions.resolverSetConfig":"resolverSetConfig"},invokers:{refreshView:{funcName:"fluid.rendererComponent.refreshView",args:"{that}"},produceTree:{funcName:"fluid.rendererComponent.produceTree",args:"{that}"}},rendererOptions:{autoBind:!0},events:{onResourcesFetched:null,prepareModelForRender:null,onRenderTree:null,afterRender:null},listeners:{onCreate:{funcName:"fluid.rendererComponent.renderOnInit",args:["{that}.options.renderOnInit","{that}"],priority:"last"}}}),b.rendererComponent.renderOnInit=function(f,e){(f||e.renderOnInit)&&e.refreshView()},b.protoExpanderForComponent=function(e,g){var f=b.renderer.modeliseOptions(g.expanderOptions,{ELstyle:"${}"},e);b.renderer.reverseMerge(f,g,["resolverGetConfig","resolverSetConfig"]);var h=b.renderer.makeProtoExpander(f,e);return h},b.rendererComponent.refreshView=function(f){if(!f.renderer){return void (f.renderOnInit=!0)}b.renderer.clearDecorators(f),f.events.prepareModelForRender.fire(f.model,f.applier,f);var e=f.produceTree(f),g=f.renderer.rendererFnOptions;if(!g.noexpand){var h=b.protoExpanderForComponent(f,g);e=h(e)}f.events.onRenderTree.fire(f,e),f.renderer.render(e),f.events.afterRender.fire(f)},b.rendererComponent.produceTree=function(f){var e=f.options.produceTree;return e?("string"==typeof e?b.getGlobalValue(e):e)(f):f.options.protoTree},b.initRendererComponent=function(j,e,m){var h=b.initView(j,e,m,{gradeNames:["fluid.rendererComponent"]});b.getForComponent(h,"model"),b.getForComponent(h,"applier"),b.diagnoseFailedView(j,h,b.defaults(j),arguments),b.fetchResources(h.options.resources,h.events.onResourcesFetched.fire);var f,l=b.renderer.modeliseOptions(h.options.rendererOptions,null,h);!l.messageSource&&h.options.strings&&(f=b.messageResolver({messageBase:h.options.strings,resolveFunc:h.options.messageResolverFunction,parents:b.makeArray(h.options.parentBundle)}),l.messageSource={type:"resolver",resolver:f}),b.renderer.reverseMerge(l,h.options,["resolverGetConfig","resolverSetConfig"]),h.rendererOptions=l;var g=c.extend({},h.options.rendererFnOptions,{rendererOptions:l,repeatingSelectors:h.options.repeatingSelectors,selectorsToIgnore:h.options.selectorsToIgnore,expanderOptions:{envAdd:{styles:h.options.styles}}});h.options.resources&&h.options.resources.template&&(g.templateSource=function(){return h.options.resources.template.resourceText}),b.renderer.reverseMerge(g,h.options,["resolverGetConfig","resolverSetConfig"]),g.rendererTargetSelector&&(e=function(){return h.dom.locate(g.rendererTargetSelector)});var i={fossils:{},rendererFnOptions:g,boundPathForNode:function(n){return b.boundPathForNode(n,i.fossils)}},k=b.renderer.createRendererSubcomponent(e,h.options.selectors,g,h,i.fossils);return h.renderer=c.extend(i,k),f&&(h.messageResolver=f),i.refreshView=b.getForComponent(h,"refreshView"),h};var a=function(e,f){return b.each(b.makeArray(f),function(g){delete e[g]}),e},d=function(f,e){return e&&b.each(e,function(g){f===g&&(f+=":")}),f};b.renderer.selectorsToCutpoints=function(f,e){var g=[];e=e||{},f=b.copy(f),e.selectorsToIgnore&&(f=a(f,e.selectorsToIgnore));for(var h in f){g.push({id:d(h,e.repeatingSelectors),selector:f[h]})}return g},b.renderer.NO_COMPONENT={},b.renderer.mergeComponents=function(g,f){for(var e in f){g[e]=f[e]}return g},b.registerNamespace("fluid.renderer.selection"),b.renderer.selection.inputs=function(g,e,h,f){b.expect("Selection to inputs expander",g,["selectID","inputID","labelID","rowID"]);var i=f.expander(g.tree),k=b.transform(i.optionlist.value,function(n,l){var o={},m={parentRelativeID:"..::"+g.selectID,choiceindex:l};return o[g.inputID]=m,o[g.labelID]=b.copy(m),o}),j={};return j[g.selectID]=i,j[g.rowID]={children:k},j=f.expander(j)},b.renderer.repeat=function(n,e,l,g){b.expect("Repetition expander",n,["controlledBy","tree"]);var j=g.threadLocal(),m=b.extractContextualPath(n.controlledBy,{ELstyle:"ALL"},j),k=b.get(g.model,m,g.resolverGetConfig),f={};if(!k||0===k.length){return n.ifEmpty?g.expander(n.ifEmpty):f}var i=[];b.each(k,function(r,q){var s=b.model.composePath(m,q),o={};n.pathAs&&(o[n.pathAs]="${"+s+"}"),n.valueAs&&(o[n.valueAs]=b.get(g.model,s,g.resolverGetConfig));var p=b.withEnvironment(o,function(){return g.expander(n.tree)},j);b.isArrayable(p)?p.length>0&&i.push({children:p}):p!==b.renderer.NO_COMPONENT&&i.push(p)});var h=n.repeatID;return h.indexOf(":")===-1&&(h+=":"),b.each(i,function(o){o.ID=h}),i},b.renderer.condition=function(i,f,j,h){b.expect("Selection to condition expander",i,["condition"]);var k;if(i.condition.funcName){var g=h.expandLight(i.condition.args);k=b.invokeGlobalFunction(i.condition.funcName,g)}else{k=i.condition.expander?h.expander(i.condition):h.expandLight(i.condition)}var e=k?i.trueTree:i.falseTree;return e||(e=b.renderer.NO_COMPONENT),h.expander(e)},b.extractContextualPath=function(g,f,h,i){var e=b.extractELWithContext(g,f);if(e){return e.context?h[e.context]?b.transformContextPath(e,h).path:{value:i(e)}:e.path}},b.transformContextPath=function(e,f){if(e.context){var g,h=f[e.context];if("string"==typeof h&&(g=b.extractEL(h,{ELstyle:"${}"})),g){return{noDereference:""===e.path,path:b.model.composePath(g,e.path)}}}return e},b.renderer.makeExternalFetcher=function(e){return function(g){var f=b.resolveContext(g.context,e);return f?b.getForComponent(f,g.path):void 0}},b.renderer.makeProtoExpander=function(m,p){function n(u){var v=h();return b.extractContextualPath(u,t,v,t.externalFetcher)}function f(u){return b.find(u,function(w,v){return"decorators"===v})!==!1}var t=c.extend({ELstyle:"${}"},m);p&&(t.externalFetcher=b.renderer.makeExternalFetcher(p));var h,l=t.IDescape||"\\",j=function(u){return b.expand(u,t)},i=function(x,u){if(void 0!==x.messagekey){return{componentType:"UIMessage",messagekey:i(x.messagekey),args:j(x.args)}}var w;b.isPrimitive(x)||b.isArrayable(x)?w={}:(w=c.extend({},x),w.decorators&&(w.decorators=j(w.decorators)),x=w.value,delete w.value);var v;if("string"==typeof x){var y=n(x);v="string"==typeof y?y:null,x=b.get(y,"value")||x}return v?w.valuebinding=v:void 0!==x&&(w.value=x),t.model&&w.valuebinding&&void 0===w.value&&(w.value=b.get(t.model,w.valuebinding,t.resolverGetConfig)),u&&(w.componentType="UIBound"),w};t.filter=b.expander.lightFilter;var g,q,o=function(v){var u=[];return g(v,u),{children:u}},k=function(w){if(w===b.renderer.NO_COMPONENT){return w}var u,x=[],v=function(y){u=y};return q(w,x,v),u||x},r={model:t.model,resolverGetConfig:t.resolverGetConfig,resolverSetConfig:t.resolverSetConfig,expander:k,expandLight:j},s=function(u,v){var x={componentType:v},y=b.renderer.boundMap[v]||{};for(var w in u){/decorators|args/.test(w)?x[w]=j(u[w]):y[w]?x[w]=i(u[w]):x[w]=u[w]}return x},e=function(z,y){for(var w=z.children,v=0;v<w.length;++v){var A=[],u={children:A},B=w[v],x=function(C){A[A.length]=C};q(B,A,x),1!==u.children.length||u.children[0].ID||(u=u.children[0]),y(u)}};return q=function(w,x,v){var u=b.renderer.inferComponentType(w);u||!b.isPrimitive(w)&&!f(w)||(u="UIBound"),u?v("UIBound"===u?i(w,!0):s(w,u)):(x||b.fail("Illegal cond->cond transition"),g(w,x))},g=function(y,z){var v,x=function(C){var B=b.invokeGlobalFunction(C.type,[C,y,v,r]);B!==b.renderer.NO_COMPONENT&&b.each(B,function(D){z[z.length]=D})},A=function(B){B.ID=v,z[z.length]=B};for(v in y){var w=y[v];if(v.charAt(0)===l&&(v=v.substring(1)),"expander"===v){var u=b.makeArray(w);b.each(u,x)}else{w&&(w.children?(v.indexOf(":")===-1&&(v+=":"),e(w,A)):b.renderer.isBoundPrimitive(w)?A(i(w,!0)):q(w,null,A))
}}},function(u){return h=b.threadLocal(function(){return c.extend({},t.envAdd)}),t.fetcher=b.makeEnvironmentFetcher(t.model,b.transformContextPath,h,t.externalFetcher),r.threadLocal=h,o(u)}}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.registerNamespace("fluid.overviewPanel"),a.overviewPanel.makeBooleanListener=function(e,c,h,g,f){var d=e.locate(c);d[h](function(i){e.applier.change(g,"toggle"===f?!e.model[g]:f),i.preventDefault()})},a.defaults("fluid.overviewPanel",{gradeNames:["fluid.rendererComponent"],resources:{template:{href:"../html/overviewPanelTemplate.html"}},listeners:{"onCreate.setVisibility":"{that}.setVisibility","onCreate.showTemplate":"fluid.overviewPanel.showTemplate","afterRender.registerToggleListener":{funcName:"fluid.overviewPanel.makeBooleanListener",args:["{that}","toggleControl","click","showPanel","toggle"]},"afterRender.registerCloseListener":{funcName:"fluid.overviewPanel.makeBooleanListener",args:["{that}","closeControl","click","showPanel",!1]},"afterRender.setLinkHrefs":{funcName:"fluid.overviewPanel.setLinkHrefs",args:["{that}","{that}.options.links"]},"afterRender.setToggleControlAria":{"this":"{that}.dom.toggleControl",method:"attr",args:{role:"button","aria-controls":"{that}.containerId"}},"afterRender.setCloseControlAria":{"this":"{that}.dom.closeControl",method:"attr",args:{role:"button","aria-label":"{that}.options.strings.closePanelLabel","aria-controls":"{that}.containerId"}},"afterRender.setAriaStates":"{that}.setAriaStates"},model:{showPanel:!0},modelListeners:{"showPanel.setVisibility":"{that}.setVisibility","showPanel.setAriaStates":"{that}.setAriaStates"},members:{containerId:{expander:{funcName:"fluid.allocateSimpleId",args:"{that}.container"}}},invokers:{setVisibility:{funcName:"fluid.overviewPanel.setVisibility",args:["{that}","{that}.model.showPanel"]},setAriaStates:{funcName:"fluid.overviewPanel.setAriaStates",args:["{that}","{that}.model.showPanel"]}},selectors:{toggleControl:".flc-overviewPanel-toggleControl",titleBegin:".flc-overviewPanel-title-begin",titleLink:".flc-overviewPanel-titleLink",titleLinkText:".flc-overviewPanel-title-linkText",titleEnd:".flc-overviewPanel-title-end",componentName:".flc-overviewPanel-componentName",description:".flc-overviewPanel-description",instructionsHeading:".flc-overviewPanel-instructionsHeading",instructions:".flc-overviewPanel-instructions",demoCodeLink:".flc-overviewPanel-demoCodeLink",demoCodeLinkText:".flc-overviewPanel-demoCodeLinkText",infusionCodeLink:".flc-overviewPanel-infusionCodeLink",infusionCodeLinkText:".flc-overviewPanel-infusionCodeLinkText",apiLink:".flc-overviewPanel-apiLink",apiLinkText:".flc-overviewPanel-apiLinkText",designLink:".flc-overviewPanel-designLink",designLinkText:".flc-overviewPanel-designLinkText",feedbackText:".flc-overviewPanel-feedbackText",feedbackLink:".flc-overviewPanel-feedbackLink",feedbackLinkText:".flc-overviewPanel-feedbackLinkText",closeControl:".flc-overviewPanel-closeControl",closeText:".flc-overviewPanel-closeText"},selectorsToIgnore:["toggleControl","titleLink","demoCodeLink","infusionCodeLink","apiLink","designLink","feedbackLink","closeControl"],protoTree:{titleBegin:{messagekey:"titleBegin"},titleLinkText:{messagekey:"titleLinkText"},titleEnd:{messagekey:"titleEnd"},componentName:{messagekey:"componentName"},description:{markup:"${{that}.options.markup.description}"},instructionsHeading:{messagekey:"instructionsHeading"},instructions:{markup:"${{that}.options.markup.instructions}"},demoCodeLinkText:{messagekey:"demoCodeLinkText"},infusionCodeLinkText:{messagekey:"infusionCodeLinkText"},apiLinkText:{messagekey:"apiLinkText"},designLinkText:{messagekey:"designLinkText"},feedbackText:{messagekey:"feedbackText"},feedbackLinkText:{messagekey:"feedbackLinkText"},closeText:{messagekey:"closeText"}},styles:{hidden:"fl-overviewPanel-hidden"},strings:{titleBegin:"An",titleLinkText:"Infusion",titleEnd:"component demo",componentName:"Component Name",instructionsHeading:"Instructions",demoCodeLinkText:"demo code",infusionCodeLinkText:"get Infusion",apiLinkText:"API",designLinkText:"design",feedbackText:"Found a bug? Have a question?",feedbackLinkText:"Let us know!",closeText:"close",openPanelLabel:"Open the overview panel",closePanelLabel:"Close the overview panel"},markup:{description:"A description of the component should appear here. It should say: <ul><li>What the component does.</li><li>Why it is interesting / useful.</li></ul>",instructions:"<p>Do this to do this. Do that to do that.</p>"},links:{titleLink:"http://fluidproject.org/infusion.html",demoCodeLink:"#",infusionCodeLink:"https://github.com/fluid-project/infusion/",apiLink:"#",designLink:"#",feedbackLink:"#"}}),a.overviewPanel.setVisibility=function(c,d){c.container.toggleClass(c.options.styles.hidden,!d)},a.overviewPanel.showTemplate=function(c){a.fetchResources(c.options.resources,function(){c.refreshView()})},a.overviewPanel.setLinkHrefs=function(c,d){a.each(d,function(f,e){c.locate(e).attr("href",f)})},a.overviewPanel.setAriaStates=function(c,d){c.locate("toggleControl").attr("aria-pressed",!d),c.locate("toggleControl").attr("aria-expanded",d),c.locate("closeControl").attr("aria-expanded",d),d?c.locate("toggleControl").attr("aria-label",c.options.strings.closePanelLabel):c.locate("toggleControl").attr("aria-label",c.options.strings.openPanelLabel)}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.registerNamespace("fluid.pager"),a.pager.updateStyles=function(d,e,g){if(g&&void 0!==g.pageIndex){var f=d.pageLinks.eq(g.pageIndex);f.removeClass(d.options.styles.currentPage)}var c=d.pageLinks.eq(e.pageIndex);c.addClass(d.options.styles.currentPage)},a.pager.bindLinkClick=function(c,d,e){c.off("click.fluid.pager"),c.on("click.fluid.pager",function(){return d.fire(e),!1})},a.pager.computePageCount=function(c){return Math.max(1,Math.floor((c.totalRange-1)/c.pageSize)+1)},a.pager.computePageLimit=function(c){return Math.min(c.totalRange,(c.pageIndex+1)*c.pageSize)},a.pager.bindLinkClicks=function(d,c){a.each(d,function(e,f){a.pager.bindLinkClick(b(e),c,{pageIndex:f})})},a.defaults("fluid.pager.pageList",{gradeNames:["fluid.viewComponent"]}),a.defaults("fluid.pager.directPageList",{gradeNames:["fluid.pager.pageList"],listeners:{onCreate:{funcName:"fluid.pager.bindLinkClicks",args:["{that}.pageLinks","{pager}.events.initiatePageChange"]}},modelListeners:{"{pager}.model":"fluid.pager.updateStyles({that}, {change}.value, {change}.oldValue)"},members:{pageLinks:"{that}.dom.pageLinks",defaultModel:{totalRange:"{that}.pageLinks.length"}}}),a.pager.everyPageStrategy=a.iota,a.pager.gappedPageStrategy=function(c,d){return c||(c=3),d||(d=c),function(l,m,f){for(var k=[],e=0,h=!1,g=0;g<l;++g){g<c||l-g-1<c||g>=f-d&&g<=f+d?(k[e++]=g,h=!1):h||(k[e++]=-1,h=!0)}return k}},a.pager.consistentGappedPageStrategy=function(c,d){c||(c=1),d||(d=c);var e=c+2+d;return function(k,j,o){for(var g=[],i=o<e,p=o>=k-e,h=e+d,f=o-d,l=o+d,n=!1,m=0;m<k;m++){m<c||k-m<=c||i&&m<h||p&&m>=k-h||m>=f&&m<=l?(g.push(m),n=!1):n||(g.push(-1),n=!0)}return g}},a.registerNamespace("fluid.pager.renderedPageList"),a.pager.renderedPageList.assembleComponent=function(g,d,f,c,e){var h={ID:"page-link:link",localID:g+1,value:g+1,pageIndex:g,decorators:[{identify:"pageLink:"+g},{type:"jQuery",func:"click",args:function(i){f.fire({pageIndex:g}),i.preventDefault()}}]};return d&&(h.current=!0,h.decorators=h.decorators.concat([{type:"addClass",classes:c},{type:"jQuery",func:"attr",args:["aria-label",e]}])),h},a.pager.renderedPageList.onModelChange=function(e,d){function g(h){return function(i){return i===-1?{ID:"page-link:skip"}:e.assembleComponent(i,i===h)}}var c=e.options.pageStrategy(d.pageCount,0,d.pageIndex),f=a.transform(c,g(d.pageIndex));f.length>1&&(f[f.length-1].value=f[f.length-1].value+e.options.strings.last),e.events.onRenderPageLinks.fire(f,d),e.pageTree=f,e.refreshView()},a.pager.renderedPageList.renderLinkBody=function(c,d){c&&d.cutpoints.push({id:"payload-component",selector:c})},a.defaults("fluid.pager.renderedPageList",{gradeNames:["fluid.pager.pageList","fluid.rendererComponent"],rendererOptions:{idMap:{},cutpoints:[{id:"page-link:link",selector:"{that}.options.selectors.pageLinks"},{id:"page-link:skip",selector:"{that}.options.selectors.pageLinkSkip"}]},rendererFnOptions:{noexpand:!0,templateSource:{node:"{that}.dom.root"},renderTarget:"{that}.dom.root"},events:{onRenderPageLinks:"{pager}.events.onRenderPageLinks"},listeners:{onCreate:{funcName:"fluid.pager.renderedPageList.renderLinkBody",args:["{that}.options.linkBody","{that}.options.rendererOptions"]}},modelListeners:{"{pager}.model":"fluid.pager.renderedPageList.onModelChange({that}, {change}.value)"},invokers:{produceTree:{funcName:"fluid.identity",args:"{that}.pageTree"},assembleComponent:{funcName:"fluid.pager.renderedPageList.assembleComponent",args:["{arguments}.0","{arguments}.1","{pager}.events.initiatePageChange","{pagerBar}.options.styles.currentPage","{pagerBar}.options.strings.currentPageIndexMsg"]}},selectors:{root:".flc-pager-links",pageLinks:"{pagerBar}.options.selectors.pageLinks",pageLinkSkip:"{pagerBar}.options.selectors.pageLinkSkip"},strings:"{pager}.options.strings",linkBody:"a",pageStrategy:a.pager.everyPageStrategy}),a.defaults("fluid.pager.previousNext",{gradeNames:["fluid.viewComponent"],members:{previous:"{that}.dom.previous",next:"{that}.dom.next"},selectors:{previous:".flc-pager-previous",next:".flc-pager-next"},listeners:{onCreate:[{funcName:"fluid.pager.bindLinkClick",args:["{that}.previous","{pager}.events.initiatePageChange",{relativePage:-1}]},{funcName:"fluid.pager.bindLinkClick",args:["{that}.next","{pager}.events.initiatePageChange",{relativePage:1}]}]},modelListeners:{"{pager}.model":"fluid.pager.previousNext.update({that}, {that}.options.styles.disabled, {change}.value)"}}),a.pager.previousNext.update=function(d,e,c){d.previous.toggleClass(e,0===c.pageIndex),d.next.toggleClass(e,c.pageIndex===c.pageCount-1)},a.defaults("fluid.pager.pagerBar",{gradeNames:["fluid.viewComponent"],components:{pageList:{type:"fluid.pager.pageList",container:"{pagerBar}.container",options:{selectors:{pageLinks:"{pagerBar}.options.selectors.pageLinks"},styles:"{pagerBar}.options.styles"}},previousNext:{type:"fluid.pager.previousNext",container:"{pagerBar}.container",options:{selectors:{previous:"{pagerBar}.options.selectors.previous",next:"{pagerBar}.options.selectors.next"},styles:"{pagerBar}.options.styles"}}},events:{initiatePageChange:null,onModelChange:null},selectors:{pageLinks:".flc-pager-pageLink",pageLinkSkip:".flc-pager-pageLink-skip",previous:".flc-pager-previous",next:".flc-pager-next"},styles:{currentPage:"fl-pager-currentPage",disabled:"fl-pager-disabled"},strings:{currentPageIndexMsg:"Current page"}}),a.pager.summaryAria=function(c){c.attr({"aria-relevant":"all","aria-atomic":"false","aria-live":"assertive",role:"status"})
},a.defaults("fluid.pager.summary",{gradeNames:["fluid.viewComponent"],listeners:{onCreate:{funcName:"fluid.pager.summaryAria",args:"{that}.container"}},modelListeners:{"{pager}.model":{funcName:"fluid.pager.summary.onModelChange",args:["{that}.container","{that}.options.strings.message","{change}.value"]}}}),a.pager.summary.onModelChange=function(e,d,c){var f=a.stringTemplate(d,{first:c.pageIndex*c.pageSize+1,last:a.pager.computePageLimit(c),total:c.totalRange,currentPage:c.pageIndex+1});e.text(f)},a.defaults("fluid.pager.directPageSize",{gradeNames:["fluid.viewComponent"],listeners:{onCreate:{"this":"{that}.container",method:"change",args:{expander:{funcName:"fluid.pager.directPageSize.onChange",args:["{pager}.events.initiatePageSizeChange","{that}.container"]}}}},modelListeners:{"{pager}.model.pageSize":"fluid.pager.updateNodeValue({that}.container, {change}.value)"}}),a.pager.directPageSize.onChange=function(c,d){return function(){c.fire(d.val()||1)}},a.pager.updateNodeValue=function(c,d){c.val(d)},a.pager.initiatePageChangeListener=function(e,c){var d=c.pageIndex;void 0!==c.relativePage&&(d=e.model.pageIndex+c.relativePage),e.applier.change("pageIndex",d)},a.defaults("fluid.pager",{gradeNames:["fluid.viewComponent"],events:{initiatePageChange:null,initiatePageSizeChange:null,onModelChange:null,onRenderPageLinks:null,afterRender:null},model:{pageIndex:0,pageSize:1,totalRange:{expander:{func:"{that}.acquireDefaultRange"}}},selectors:{pagerBar:".flc-pager-top, .flc-pager-bottom",summary:".flc-pager-summary",pageSize:".flc-pager-page-size"},strings:{last:" (last)"},markup:{rangeAnnotation:"<b> %first </b><br/>&mdash;<br/><b> %last </b>"},distributeOptions:{source:"{that}.options.pageList",removeSource:!0,target:"{that fluid.pager.pageList}"},pageList:{type:"fluid.pager.renderedPageList",options:{pageStrategy:a.pager.gappedPageStrategy(3,1)}},modelRelay:[{target:"pageCount",singleTransform:{type:"fluid.transforms.free",args:{totalRange:"{that}.model.totalRange",pageSize:"{that}.model.pageSize"},func:"fluid.pager.computePageCount"}},{target:"pageIndex",singleTransform:{type:"fluid.transforms.limitRange",input:"{that}.model.pageIndex",min:0,max:"{that}.model.pageCount",excludeMax:1}}],modelListeners:{"":"{that}.events.onModelChange.fire({change}.value, {change}.oldValue, {that})"},listeners:{"initiatePageChange.updatePageIndex":{funcName:"fluid.pager.initiatePageChangeListener",args:["{that}","{arguments}.0"]},"initiatePageSizeChange.updateModel":{changePath:"pageSize",value:"{arguments}.0"}},invokers:{acquireDefaultRange:{funcName:"fluid.identity",args:"{that}.pagerBar.pageList.defaultModel.totalRange"}},dynamicComponents:{summary:{sources:"{that}.dom.summary",type:"fluid.pager.summary",container:"{source}",options:{strings:{message:"Viewing page %currentPage. Showing records %first - %last of %total items."},events:{onModelChange:"{pager}.events.onModelChange"}}},pageSize:{sources:"{that}.dom.pageSize",type:"fluid.pager.directPageSize",container:"{source}"},pagerBar:{sources:"{that}.dom.pagerBar",type:"fluid.pager.pagerBar",container:"{source}",options:{strings:"{pager}.options.strings",events:{initiatePageChange:"{pager}.events.initiatePageChange",onModelChange:"{pager}.events.onModelChange"}}}}})}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.registerNamespace("fluid.table"),a.table.findColumnDef=function(d,c){return a.find_if(d,function(e){return e.key===c})},a.table.getRoots=function(e,c,d){e.shortRoot=d,e.longRoot=a.pathUtil.composePath(c,e.shortRoot)},a.table.expandPath=function(d,e,c){return"*"===d.charAt(0)?c+d.substring(1):d.replace("*",e)},a.table.fetchValue=function(c,f,e,h,d){a.table.getRoots(d,c,e);var g=a.table.expandPath(h,d.shortRoot,d.longRoot);return a.get(f,g)},a.table.rowComparator=function(c){return function(e,d){return(e.value>d.value?1:e.value<d.value?-1:0)*c}},a.table.basicSorter=function(k,j,c,g){for(var d={},e=a.table.findColumnDef(k,g.sortKey),f=[],h=0;h<g.totalRange;++h){f[h]={index:h,value:a.table.fetchValue(c,j,h,e.valuebinding,d)}}return f.sort(a.table.rowComparator(g.sortDir)),a.getMembers(f,"index")},a.table.IDforColumn=function(e,h,d){var g=e.valuebinding,f=e.key;if(g||a.fail("Error in definition for column with key "+f+": valuebinding is not set"),!f){var c=a.model.parseEL(g);f=c[c.length-1]}return{ID:(h||"")+f,EL:a.table.expandPath(g,d.shortRoot,d.longRoot)}},a.table.bigHeaderForKey=function(d,c){var h=c.rendererOptions.idMap["header:"+d],f=a.jById(h);if(0===f.length){return null}var g=c.selectors.headerSortStylisticOffset,e=a.findAncestor(f,function(i){return b(i).is(g)});return e},a.table.setSortHeaderClass=function(e,d,c){d=b(d),d.removeClass(e.ascendingHeader),d.removeClass(e.descendingHeader),0!==c&&(d.addClass(1===c?e.ascendingHeader:e.descendingHeader),d.attr("aria-sort",1===c?"ascending":"descending"))},a.table.isCurrentColumnSortable=function(e,d){var c=d.sortKey?a.table.findColumnDef(e,d.sortKey):null;return !!c&&c.sortable},a.table.setModelSortHeaderClass=function(g,e,c){var f=c.styles,d=a.table.isCurrentColumnSortable(g,e)?e.sortDir:0;a.table.setSortHeaderClass(f,a.table.bigHeaderForKey(e.sortKey,c),d)},a.table.generateColumnClick=function(f,e,d,c){return function(){if(c.sortable===!0){var g=f.model,i=a.copy(g),j=f.options.styles,k=g.sortKey;if(c.key!==g.sortKey){i.sortKey=c.key,i.sortDir=1;var h=a.table.bigHeaderForKey(k,e);h&&a.table.setSortHeaderClass(j,h,0)}else{if(i.sortKey!==c.key){return !1}i.sortDir=-1*i.sortDir}i.pageIndex=0,f.applier.change("",i)}return !1}},a.table.fetchHeaderDecorators=function(d,c){return d[c.sortable?"sortableHeader":"unsortableHeader"]},a.table.generateHeader=function(f,d,e){var c=d.strings.sortableColumnText;1===e.sortDir?c=d.strings.sortableColumnTextAsc:e.sortDir===-1&&(c=d.strings.sortableColumnTextDesc);var g=f.options.columnDefs;return{children:a.transform(g,function(h){return{ID:a.table.IDforColumn(h,d.keyPrefix,{}).ID,value:h.label,decorators:[{jQuery:["click",a.table.generateColumnClick(f,d,e,h)]},{identify:"header:"+h.key},{type:"attrs",attributes:{title:h.key===e.sortKey?c:d.strings.sortableColumnText}}].concat(a.table.fetchHeaderDecorators(d.decorators,h))}})}},a.table.expandVariables=function(i,h){for(var g="",d=0;;){var e=i.indexOf("${",d);if(e===-1){g+=i.substring(d);break}g+=i.substring(d,e);var c=i.indexOf("}",e+2),f=i.substring(e+2,c);f="VALUE"===f?h.EL:a.table.expandPath(f,h.shortRoot,h.longRoot);var j=a.get(h.dataModel,f);g+=j,d=c+1}return g},a.table.expandPaths=function(f,c,e){for(var d in c){var g=c[d];a.isMarker(g,a.VALUE)?"valuebinding"===d?f[d]=e.EL:f[d]={valuebinding:e.EL}:"valuebinding"===d?f[d]=a.table.expandPath(c[d],e):"object"==typeof g?(f[d]=void 0!==g.length?[]:{},a.table.expandPaths(f[d],g,e)):"string"==typeof g?f[d]=a.table.expandVariables(g,e):f[d]=c[d]}return f},a.table.expandColumnDefs=function(h,g,f,d,e){var c=a.transform(h,function(j){var l,i=a.table.IDforColumn(j,g,e),k=b.extend({dataModel:f},e,i);return j.components?(l="function"==typeof j.components?j.components(d.row,d.index):j.components,l=a.table.expandPaths({},l,k),l.ID=i.ID,l):{ID:i.ID,valuebinding:i.EL}});return c},a.table.fetchDataModel=function(d,c){return a.get(d,c)},a.table.produceTree=function(f,h){var e=h.options,i=f.options.columnDefs,d={},c=a.transform(f.filtered,function(j){return a.table.getRoots(d,f.options.dataOffset,j.index),"explode"===i?a.explode(j.row,d.longRoot):i.length?a.table.expandColumnDefs(i,h.options.keyPrefix,f.dataModel,j,d):void 0}),g={};return g[e.row]=c,"object"==typeof i&&(g[e.header]=a.table.generateHeader(f,h.options,f.model)),g},a.table.sortInvoker=function(e,d){var f=e.options.columnDefs,c=a.table.isCurrentColumnSortable(f,d)?e.options.sorter(f,e.options.dataModel,e.options.dataOffset,d):null;e.permutation=c},a.table.onModelChange=function(d,e,c){e.sortInvoker(c),d.dataModel=d.fetchDataModel(),d.filtered=d.options.modelFilter(d.dataModel,c,d.permutation)},a.defaults("fluid.table.selfRender",{gradeNames:["fluid.rendererComponent"],listeners:{onCreate:[{"this":"{that}.root",method:"addClass",args:"{that}.options.styles.root"}],onIndexModelChange:[{funcName:"fluid.table.onModelChange",namespace:"onModelChange",args:["{fluid.table}","{fluid.table.selfRender}","{arguments}.0","{arguments}.1"]},{func:"{that}.sortInvoker",namespace:"sortInvoker",args:"{arguments}.0"},{priority:"last",namespace:"refreshView",func:"{that}.refreshView"}],afterRender:{funcName:"fluid.table.setModelSortHeaderClass",args:["{that}.options.columnDefs","{fluid.table}.model","{that}.options"]}},modelListeners:{"{fluid.table}.model":"{that}.events.onIndexModelChange.fire({change}.value, {change}.oldValue)"},events:{onIndexModelChange:null},invokers:{sortInvoker:{funcName:"fluid.table.sortInvoker",args:["{fluid.table}","{arguments}.0"]},produceTree:{funcName:"fluid.table.produceTree",args:["{fluid.table}","{fluid.table.selfRender}"]}},selectors:{root:".flc-pager-body-template",headerSortStylisticOffset:"{table}.options.selectors.headerSortStylisticOffset",header:".flc-table-header",row:".flc-table-row"},repeatingSelectors:["header","row"],selectorsToIgnore:["root","headerSortStylisticOffset"],styles:{root:"fl-pager",ascendingHeader:"{table}.options.styles.ascendingHeader",descendingHeader:"{table}.options.styles.descendingHeader"},members:{root:"{that}.dom.root"},decorators:{sortableHeader:[],unsortableHeader:[]},keyStrategy:"id",keyPrefix:"",row:"row:",header:"header:",strings:"{table}.options.strings",columnDefs:"{table}.options.columnDefs",rendererFnOptions:{templateSource:{node:"{that}.dom.root"},renderTarget:"{that}.dom.root",noexpand:!0},rendererOptions:{model:"{table}.options.dataModel",idMap:{}}}),a.table.checkTotalRange=function(d,c){void 0!==d||c||a.fail("Error in Pager configuration - cannot determine total range,  since not configured in model.totalRange and no PagerBar is configured")},a.defaults("fluid.table",{gradeNames:["fluid.viewComponent"],mergePolicy:{dataModel:"preserve",columnDefs:"noexpand"},components:{bodyRenderer:{type:"fluid.table.selfRender",container:"{table}.container"}},listeners:{onCreate:{funcName:"fluid.table.checkTotalRange",namespace:"checkTotalRange",args:["{that}.model.totalRange","{that}.pagerBar"]}},modelFilter:a.table.directModelFilter,sorter:a.table.basicSorter,members:{dataModel:{expander:{func:"{that}.fetchDataModel"}}},invokers:{fetchDataModel:{funcName:"fluid.table.fetchDataModel",args:["{that}.options.dataModel","{that}.options.dataOffset"]}},styles:{ascendingHeader:"fl-pager-asc",descendingHeader:"fl-pager-desc"},selectors:{headerSortStylisticOffset:".flc-pager-sort-header"},strings:{sortableColumnText:"Select to sort",sortableColumnTextDesc:"Select to sort in ascending, currently in descending order.",sortableColumnTextAsc:"Select to sort in descending, currently in ascending order."},dataOffset:"",columnDefs:[]})
}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.registerNamespace("fluid.pagedTable"),a.defaults("fluid.pagedTable.rangeAnnotator",{gradeNames:["fluid.component"]}),a.pagedTable.rangeAnnotator.onRenderPageLinks=function(h,n,j,d){function c(o){return o=h.permutation?h.permutation[o]:o,a.table.fetchValue(h.options.dataOffset,i,o,g.valuebinding,m)}d.tooltip.close();var m={},e=h.options.annotateColumnRange||(h.options.annotateSortedColumn?j.sortKey:null);if(e){var i=h.options.dataModel,f=h.options.columnDefs,g=a.table.findColumnDef(f,e),k={};a.model.copyModel(k,j);var l={};a.each(n,function(o){if("page-link:link"===o.ID){var r=o.pageIndex,t=r*k.pageSize;k.pageIndex=r;var p=a.pager.computePageLimit(k),s=c(t),q=c(p-1);l[r]={first:s,last:q}}}),d.tooltipInfo=l}},a.pagedTable.directModelFilter=function(f,e,h){for(var j=[],c=a.pager.computePageLimit(e),g=e.pageIndex*e.pageSize;g<c;++g){var d=h?h[g]:g;j[j.length]={index:d,row:f[d]}}return j},a.pagedTable.configureTooltip=function(g,d,c){var e=c.rendererOptions.idMap,f={};a.each(d.tooltipInfo,function(i,h){f[e["pageLink:"+h]]=a.stringTemplate(g.options.markup.rangeAnnotation,i)}),d.tooltip.applier.change("idToContent",f)},a.defaults("fluid.pagedTable",{gradeNames:["fluid.pager","fluid.table"],distributeOptions:[{target:"{that renderedPageList}.options.listeners.afterRender",record:{funcName:"fluid.pagedTable.configureTooltip",args:["{pagedTable}","{pagerBar}","{arguments}.0"]}},{target:"{that renderedPageList}.options.listeners.onRenderPageLinks",record:{funcName:"fluid.pagedTable.rangeAnnotator.onRenderPageLinks",args:["{pagedTable}","{arguments}.0","{arguments}.1","{pagerBar}"]}},{target:"{that pagerBar}.options.components.tooltip",source:"{that}.options.tooltip"}],annotateSortedColumn:!1,annotateColumnRange:void 0,markup:{rangeAnnotation:"<b> %first </b><br/>&mdash;<br/><b> %last </b>"},tooltip:{type:"fluid.tooltip",container:"{that}.container",options:{}},invokers:{acquireDefaultRange:{funcName:"fluid.identity",args:"{that}.dataModel.length"}},modelFilter:a.pagedTable.directModelFilter,model:{pageSize:10}})}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.registerNamespace("fluid.progress"),a.progress.animateDisplay=function(f,d,c,e){d=d?d:c,f.animate(d.params,d.duration,e)},a.progress.animateProgress=function(e,c,d){e.queue("fx",[]),e.animate({width:c,queue:!1},d)},a.progress.showProgress=function(d,e){var c=d.events.onProgressBegin.fire;e===!1?(d.displayElement.show(),c()):a.progress.animateDisplay(d.displayElement,e,d.options.showAnimation,c)},a.progress.hideProgress=function(e,c,f){if(c){setTimeout(function(){a.progress.hideProgress(e,0,f)},c)}else{var d=e.events.afterProgressHidden.fire;f===!1?(e.displayElement.hide(),d()):a.progress.animateDisplay(e.displayElement,f,e.options.hideAnimation,d)}},a.progress.updateWidth=function(e,d,g){var c=e.indicator.width(),f=e.options.animate;d>c&&("both"===f||"forward"===f)&&!g?a.progress.animateProgress(e.indicator,d,e.options.speed):d<c&&("both"===f||"backward"===f)&&!g?a.progress.animateProgress(e.indicator,d,e.options.speed):e.indicator.width(d)},a.progress.percentToPixels=function(d,c){return Math.round(Math.min(c,100)*d.progressBar.innerWidth()/100)},a.progress.refreshRelativeWidth=function(c){var d=Math.max(a.progress.percentToPixels(c,parseFloat(c.storedPercent)),c.options.minWidth);a.progress.updateWidth(c,d,!0)},a.progress.initARIA=function(c,d){c.attr("role","progressbar"),c.attr("aria-valuemin","0"),c.attr("aria-valuemax","100"),c.attr("aria-valuenow","0"),d&&c.attr("aria-valuetext",""),c.attr("aria-busy","false")},a.progress.updateARIA=function(f,e){var g=f.options.strings,d=e<100&&e>0;if(f.ariaElement.attr("aria-busy",d),f.ariaElement.attr("aria-valuenow",e),g.ariaBusyText){if(d){var c=a.stringTemplate(g.ariaBusyText,{percentComplete:e});f.ariaElement.attr("aria-valuetext",c)}else{100===e&&f.ariaElement.attr("aria-valuetext",g.ariaDoneText)}}},a.progress.updateText=function(c,d){c.html(d)},a.progress.repositionIndicator=function(c){c.indicator.css("top",c.progressBar.position().top).css("left",0).height(c.progressBar.height()),a.progress.refreshRelativeWidth(c)},a.progress.updateProgress=function(e,d,c,h){if(a.progress.showProgress(e,h),null!==d){e.storedPercent=d;var g=Math.max(a.progress.percentToPixels(e,parseFloat(d)),e.options.minWidth);a.progress.updateWidth(e,g)}if(a.isValue(c)){var f=a.stringTemplate(c,{percentComplete:d});a.progress.updateText(e.label,f)}e.ariaElement&&a.progress.updateARIA(e,d)},a.progress.hideElement=function(d,c){d.toggle(!c)},a.defaults("fluid.progress",{gradeNames:["fluid.viewComponent"],members:{displayElement:"{that}.dom.displayElement",progressBar:"{that}.dom.progressBar",label:"{that}.dom.label",indicator:"{that}.dom.indicator",ariaElement:"{that}.dom.ariaElement",storedPercent:0},events:{onProgressBegin:null,afterProgressHidden:null},listeners:{onCreate:[{"this":"{that}.dom.indicator",method:"width",args:"{that}.options.minWidth"},{funcName:"fluid.progress.hideElement",args:["{that}.dom.displayElement","{that}.options.initiallyHidden"]},{funcName:"fluid.progress.initARIA",args:["{that}.ariaElement","{that}.options.strings.ariaBusyText"]}],onProgressBegin:{func:"{that}.options.showAnimation.onProgressBegin"},afterProgressHidden:{func:"{that}.options.hideAnimation.afterProgressHidden"}},invokers:{show:{funcName:"fluid.progress.showProgress",args:["{that}","{arguments}.0"]},hide:{funcName:"fluid.progress.hideProgress",args:["{that}","{arguments}.0","{arguments}.1"]},update:{funcName:"fluid.progress.updateProgress",args:["{that}","{arguments}.0","{arguments}.1","{arguments}.2"]},refreshView:{funcName:"fluid.progress.repositionIndicator",args:"{that}"}},selectors:{displayElement:".flc-progress",progressBar:".flc-progress-bar",indicator:".flc-progress-indicator",label:".flc-progress-label",ariaElement:".flc-progress-bar"},strings:{ariaBusyText:"Progress is %percentComplete percent complete",ariaDoneText:"Progress is complete."},showAnimation:{params:{opacity:"show"},duration:"slow",onProgressBegin:a.identity},hideAnimation:{params:{opacity:"hide"},duration:"slow",afterProgressHidden:a.identity},minWidth:5,delay:0,speed:200,animate:"forward",initiallyHidden:!0,updatePosition:!1})}(jQuery,fluid_2_0_0),function(b){function e(g,h){if(!(g.originalEvent.touches.length>1)){g.preventDefault();var i=g.originalEvent.changedTouches[0],f=document.createEvent("MouseEvents");f.initMouseEvent(h,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),g.target.dispatchEvent(f)}}if(b.support.touch="ontouchend" in document,b.support.touch){var a,c=b.ui.mouse.prototype,d=c._mouseInit;c._touchStart=function(g){var f=this;!a&&f._mouseCapture(g.originalEvent.changedTouches[0])&&(a=!0,f._touchMoved=!1,e(g,"mouseover"),e(g,"mousemove"),e(g,"mousedown"))},c._touchMove=function(f){a&&(this._touchMoved=!0,e(f,"mousemove"))},c._touchEnd=function(f){a&&(e(f,"mouseup"),e(f,"mouseout"),this._touchMoved||e(f,"click"),a=!1)},c._mouseInit=function(){var f=this;f.element.bind("touchstart",b.proxy(f,"_touchStart")).bind("touchmove",b.proxy(f,"_touchMove")).bind("touchend",b.proxy(f,"_touchEnd")),d.call(f)}}}(jQuery);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.dom.computeAbsolutePosition=function(c){var e=0,d=0;if(c.offsetParent){do{e+=c.offsetLeft,d+=c.offsetTop,c=c.offsetParent}while(c);return[e,d]}},a.dom.cleanseScripts=function(c){var d=b.data(c,a.dom.cleanseScripts.MARKER);d||(a.dom.iterateDom(c,function(e){return"script"===e.tagName.toLowerCase()?"delete":null}),b.data(c,a.dom.cleanseScripts.MARKER,!0))},a.dom.cleanseScripts.MARKER="fluid-scripts-cleansed",a.dom.insertAfter=function(c,d){var e=d.nextSibling;e?d.parentNode.insertBefore(c,e):d.parentNode.appendChild(c)},a.dom.isWhitespaceNode=function(c){return !/[^\t\n\r ]/.test(c.data)},a.dom.isIgnorableNode=function(c){return 8===c.nodeType||3===c.nodeType&&a.dom.isWhitespaceNode(c)}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(d,b){b.orientation={HORIZONTAL:4,VERTICAL:1},b.rectSides={4:["left","right"],1:["top","bottom"],8:"top",12:"bottom",2:"left",3:"right"},b.position={BEFORE:-1,AFTER:1,INSIDE:2,REPLACE:3},b.direction={NEXT:1,PREVIOUS:-1,UP:8,DOWN:12,LEFT:2,RIGHT:3},b.directionSign=function(f){return f===b.direction.UP||f===b.direction.LEFT?b.direction.PREVIOUS:b.direction.NEXT},b.directionAxis=function(f){return f===b.direction.LEFT||f===b.direction.RIGHT?0:1},b.directionOrientation=function(f){return b.directionAxis(f)?b.orientation.VERTICAL:b.orientation.HORIZONTAL},b.keycodeDirection={up:b.direction.UP,down:b.direction.DOWN,left:b.direction.LEFT,right:b.direction.RIGHT},b.registerNamespace("fluid.dom"),b.dom.moveDom=function(h,i,f){h=b.unwrap(h),i=b.unwrap(i);var g;if(f===b.position.INSIDE){i.appendChild(h)}else{if(f===b.position.BEFORE){for(g=i.previousSibling;;g=g.previousSibling){if(!g||!b.dom.isIgnorableNode(g)){g!==h&&(b.dom.cleanseScripts(h),i.parentNode.insertBefore(h,i));break}}}else{if(f===b.position.AFTER){for(g=i.nextSibling;;g=g.nextSibling){if(!g||!b.dom.isIgnorableNode(g)){g!==h&&(b.dom.cleanseScripts(h),b.dom.insertAfter(h,i));break}}}else{b.fail("Unrecognised position supplied to fluid.moveDom: "+f)}}}},b.dom.normalisePosition=function(g,i,f,h){return g===b.position.REPLACE&&(g=i&&f>=h?b.position.AFTER:b.position.BEFORE),g},b.dom.permuteDom=function(j,n,m,g,k){j=b.unwrap(j),n=b.unwrap(n);var l=d.inArray(j,g);l===-1&&b.fail("Error in permuteDom: source element "+b.dumpEl(j)+" not found in source list "+b.dumpEl(g));var r=d.inArray(n,k);r===-1&&b.fail("Error in permuteDom: target element "+b.dumpEl(n)+" not found in source list "+b.dumpEl(k));var f=g===k;m=b.dom.normalisePosition(m,f,r,l);var q={};q[b.position.AFTER]=j.nextSibling,q[b.position.BEFORE]=j.previousSibling,b.dom.moveDom(g[l],k[r],m);var h,p=f?r-1:g.length-2;if(m===b.position.BEFORE&&f&&p--,!f||r>l){for(h=p;h>l;--h){b.dom.moveDom(g[h+1],g[h],b.position.AFTER)}l+1<g.length&&b.dom.moveDom(g[l+1],q[b.position.AFTER],b.position.BEFORE)
}var o=f?l-1:k.length-1;if(m===b.position.AFTER&&r++,!f||r<l){for(h=r;h<o;++h){b.dom.moveDom(k[h],k[h+1],b.position.BEFORE)}o>=0&&o<k.length-1&&b.dom.moveDom(k[o],q[b.position.BEFORE],b.position.AFTER)}};var e=function(f,g){return window.getComputedStyle?window.getComputedStyle(f,null).getPropertyValue(g):f.currentStyle[g]};b.dom.isAttached=function(f){for(;f&&f.nodeName;){if("BODY"===f.nodeName){return !0}f=f.parentNode}return !1},b.dom.generalHidden=function(f){return"hidden"===f.type||"none"===e(f,"display")||"hidden"===e(f,"visibility")||!b.dom.isAttached(f)},b.registerNamespace("fluid.geometricManager"),b.geometricManager.computeGeometry=function(h,g,l){var j={};j.element=h,j.orientation=g,l===b.position.INSIDE&&(j.position=l),b.dom.generalHidden(h)&&(j.clazz="hidden");var k=b.dom.computeAbsolutePosition(h)||[0,0],i=h.offsetWidth,f=h.offsetHeight;return j.rect={left:k[0],top:k[1]},j.rect.right=k[0]+i,j.rect.bottom=k[1]+f,j};var a=10000;b.geometricManager.dumprect=function(f){return"Rect top: "+f.top+" left: "+f.left+" bottom: "+f.bottom+" right: "+f.right},b.geometricManager.dumpelem=function(f){return f&&f.rect?b.geometricManager.dumprect(f.rect)+" position: "+f.position+" for "+b.dumpEl(f.element):"null"},b.dropManager=function(){var g,i,m,l,f=[],h={},k={};k.updateGeometry=function(u){i=u,f=[],h={};for(var n=u.elementMapper,v=u.geometryComputor||b.geometricManager.computeGeometry,o=function(D,H,B,y,z,G){var x=H.orientation,A=b.rectSides[x],C=v(D,x,z);C.owner=H,"hidden"!==C.clazz&&n&&(C.clazz=n(D)),h[b.dropManager.cacheKey(D)]=C;var F=b.dropManager.getRelativeClass(H.elements,G,b.position.BEFORE,C.clazz,n),E=b.dropManager.getRelativeClass(H.elements,G,b.position.AFTER,C.clazz,n);return z===b.position.INSIDE?f[f.length]=C:b.dropManager.splitElement(f,A,C,z,F,E),B&&u.sentinelize&&b.dropManager.sentinelizeElement(f,A,C,1,z,F),y&&u.sentinelize&&b.dropManager.sentinelizeElement(f,A,C,0,z,E),C},t=0;t<u.extents.length;++t){for(var p=u.extents[t],w=!0,q=0;q<p.elements.length;++q){var s=p.elements[q],r=o(s,p,0===q,q===p.elements.length-1,b.position.INTERLEAVED,q);"hidden"!==r.clazz&&(w=!1)}w&&p.parentElement&&o(p.parentElement,p,!0,!0,b.position.INSIDE)}b.dropManager.normalizeSentinels(f)},k.startDrag=function(s,r,p,q){var u=r[0]+p/2,t=r[1]+q/2,o=u-s.pageX,n=t-s.pageY;k.updateGeometry(i),g=null,m=o,l=n,d("body").on("mousemove.fluid-dropManager",k.mouseMove)},k.lastPosition=function(){return g},k.endDrag=function(){d("body").off("mousemove.fluid-dropManager")},k.mouseMove=function(o){var n=o.pageX+m,q=o.pageY+l,p=k.closestTarget(n,q,g);p&&p!==b.dropManager.NO_CHANGE&&(g=p,k.dropChangeFirer.fire(p))},k.dropChangeFirer=b.makeEventFirer();var j={element:null};return k.closestTarget=function(w,u,r){for(var q=Number.MAX_VALUE,o=j,n=Number.MAX_VALUE,v=j,t=0;t<f.length;++t){var s=f[t];if("hidden"!==s.clazz){var p=b.geom.minPointRectangle(w,u,s.rect);if("locked"===s.clazz){p<n&&(n=p,v=s)}else{if(p<q&&(q=p,o=s),0===p){break}}}}return o?(n>=q&&(v=j),r&&r.position===o.position&&b.unwrap(r.element)===b.unwrap(o.element)&&b.unwrap(r.lockedelem)===b.unwrap(v.element)?b.dropManager.NO_CHANGE:{position:o.position,element:o.element,lockedelem:v.element}):o},k.shuffleProjectFrom=function(o,r,q,n){var p=k.projectFrom(o,r,q,n);return p&&(p.position=b.position.REPLACE),p},k.projectFrom=function(r,t,s,q){k.updateGeometry(i);var p=h[b.dropManager.cacheKey(r)],o=b.geom.projectFrom(p.rect,t,f,s,q);if(!o.cacheelem){return null}var n=o.cacheelem.position;return{element:o.cacheelem.element,position:n?n:b.position.BEFORE}},k.logicalFrom=function(p,r,q,o){var n=k.getOwningSpan(p,b.position.INTERLEAVED,q);return{element:b.dropManager.getRelativeElement(p,r,n,o),position:b.position.REPLACE}},k.lockedWrapFrom=function(q,u,t,p){var s=k.logicalFrom(q,u,t,p),n=k.getOwningSpan(q,b.position.INTERLEAVED,t),r=h[b.dropManager.cacheKey(q)].owner.elements;if(t||n[0]===r[0]){return s}var o=b.dropManager.getRelativeElement(q,u,r,p);return"locked"===i.elementMapper(o)&&(s.element=null,s.clazz="locked"),s},k.getOwningSpan=function(p,o,r){var n=h[b.dropManager.cacheKey(p)].owner,q=o===b.position.INSIDE?[n.parentElement]:n.elements;return !r&&i.elementMapper&&(q=b.makeArray(q),b.remove_if(q,function(s){return"locked"===i.elementMapper(s)})),q},k.geometricMove=function(q,r,n){var o=k.getOwningSpan(q,null,!0),p=k.getOwningSpan(r,n,!0);b.dom.permuteDom(q,r,n,o,p)},k},b.dropManager.NO_CHANGE="no change",b.dropManager.cacheKey=function(f){return b.allocateSimpleId(f)},b.dropManager.sentinelizeElement=function(f,k,i,j,l,h){var g=d.extend(!0,{},i);g.origRect=b.copy(g.rect),g.rect[k[j]]=g.rect[k[1-j]]+(j?1:-1),g.rect[k[1-j]]=(j?-1:1)*a,g.position=l===b.position.INSIDE?l:j?b.position.BEFORE:b.position.AFTER,g.clazz=h,f[f.length]=g},b.dropManager.normalizeSentinels=function(f){for(var l=0;l<f.length;++l){for(var g=0;g<f.length;++g){var m=f[l],k=f[g],h=k.origRect||k.rect;m.element!==k.element&&m.origRect&&0===b.geom.minRectRect(m.rect,h)&&(m.rect=m.origRect,delete m.origRect)}}},b.dropManager.splitElement=function(i,g,h,f,k,j){var n=d.extend(!0,{},h),l=d.extend(!0,{},h),m=(n.rect[g[0]]+n.rect[g[1]])/2;n.rect[g[1]]=m,n.position=b.position.BEFORE,l.rect[g[0]]=m,l.position=b.position.AFTER,n.clazz=k,l.clazz=j,i[i.length]=n,i[i.length]=l},b.dropManager.getRelativeClass=function(h,g,i,f,j){return g+=i,g<0&&"locked"===f?"locked":g>=h.length||null===j?null:(i=h[g],"locked"===j(i)&&"locked"===f?"locked":null)},b.dropManager.getRelativeElement=function(h,j,i,g){var k=b.directionSign(j),f=d(i).index(h)+k;return f<0&&(f+=i.length),!g||f!==i.length&&f!==i.length+k?(f%=i.length,i[f]):h},b.geom=b.geom||{},b.geom.minPointRectangle=function(f,j,i){var h=f<i.left?i.left-f:f>i.right?f-i.right:0,g=j<i.top?i.top-j:j>i.bottom?j-i.bottom:0;return h*h+g*g},b.geom.minRectRect=function(i,g){var h=i.right<g.left?g.left-i.right:g.right<i.left?i.left-g.right:0,f=i.bottom<g.top?g.top-i.bottom:g.bottom<i.top?i.top-g.bottom:0;return h*h+f*f};var c=function(){return{mindist:Number.MAX_VALUE,minrdist:Number.MAX_VALUE}};b.geom.projectFrom=function(k,x,y,r,m){function z(C,A,D){var B=A.rect,E=b.geom.minRectRect(f,B),i=-o*D*(k[1===D?u:s]-B[1===D?s:u]);if(E<=C.mindist&&i>=0){if(E===C.mindist&&i*D>C.minrdist){return}C.minrdist=i*D,C.mindist=E,C.minelem=A}}var h=b.directionAxis(x),u=b.rectSides[x],s=b.rectSides[15*h+5-x],o=b.directionSign(x),f={left:(7*k.left+1*k.right)/8,right:(5*k.left+3*k.right)/8,top:(7*k.top+1*k.bottom)/8,bottom:(5*k.top+3*k.bottom)/8};f[u]=o*a,f[s]=-f[u];for(var p=c(),t=c(),j=c(),v=0;v<y.length;++v){var w=y[v],g=w.owner&&w.element===w.owner.parentElement;"hidden"===w.clazz||r&&g||(r||"locked"!==w.clazz?(z(p,w,1),z(t,w,-1)):z(j,w,1))}var n=!p.minelem||t.mindist<p.mindist;n=n&&!m;var q=n?t:p,l={wrapped:n,cacheelem:q.minelem};return j.mindist<q.mindist&&(l.lockedelem=j.minelem),l}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.registerNamespace("fluid.reorderer"),a.reorderer.defaultAvatarCreator=function(g,d,e){a.dom.cleanseScripts(a.unwrap(g));var f=b(g).clone();if(a.dom.iterateDom(f.get(0),function(h){h.removeAttribute("id"),"input"===h.tagName.toLowerCase()&&h.setAttribute("disabled","disabled")}),f.removeProp("id"),f.removeClass("ui-droppable"),f.addClass(d),e){var c=b(document.createElement("div"));c.append(f),c.append(e),f=c}return b("body").append(f),b.browser.safari||f.css("display","block").width(g.offsetWidth).height(g.offsetHeight),b.browser.opera&&f.hide(),f},a.reorderer.bindHandlersToContainer=function(c,e,f){var d=e,g=!1;b.browser.opera&&(c.keypress(function(h){if(g){return g=!1,h.preventDefault(),!1}}),d=function(i){var h=e(i);h===!1&&(g=!0)}),c.keydown(d),c.keyup(f)},a.reorderer.addRolesToContainer=function(c){c.container.attr("role",c.options.containerRole.container),c.container.attr("aria-multiselectable","false"),c.container.attr("aria-readonly","false"),c.container.attr("aria-disabled","false")},a.reorderer.createAvatarId=function(c){return c+"_avatar"},a.reorderer.keys={TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:19,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,i:73,j:74,k:75,m:77},a.reorderer.defaultKeysets=[{modifier:function(c){return c.ctrlKey},up:a.reorderer.keys.UP,down:a.reorderer.keys.DOWN,right:a.reorderer.keys.RIGHT,left:a.reorderer.keys.LEFT},{modifier:function(c){return c.ctrlKey},up:a.reorderer.keys.i,down:a.reorderer.keys.m,right:a.reorderer.keys.k,left:a.reorderer.keys.j}],a.reorderer.keysetsPolicy=function(e,d){var c=d?d:e;return a.makeArray(c)},a.reorderer.copyDropWarning=function(c){return c?c.clone():c},a.defaults("fluid.reorderer",{gradeNames:["fluid.viewComponent"],styles:{defaultStyle:"fl-reorderer-movable-default",selected:"fl-reorderer-movable-selected",dragging:"fl-reorderer-movable-dragging",mouseDrag:"fl-reorderer-movable-dragging",hover:"fl-reorderer-movable-hover",dropMarker:"fl-reorderer-dropMarker",avatar:"fl-reorderer-avatar"},selectors:{dropWarning:".flc-reorderer-dropWarning",movables:".flc-reorderer-movable",selectables:".flc-reorderer-movable",dropTargets:".flc-reorderer-movable",grabHandle:"",stylisticOffset:""},avatarCreator:a.reorderer.defaultAvatarCreator,keysets:a.reorderer.defaultKeysets,containerRole:"{that}.layoutHandler.options.containerRole",selectablesTabindex:"{that}.layoutHandler.options.selectablesTabindex",layoutHandler:"fluid.listLayoutHandler",members:{dropManager:"@expand:fluid.dropManager()",activeItem:null,kbDropWarning:"{that}.dom.dropWarning",mouseDropWarning:"@expand:fluid.reorderer.copyDropWarning({that}.kbDropWarning)"},events:{onShowKeyboardDropWarning:null,onSelect:null,onBeginMove:"preventable",onMove:null,afterMove:null,onHover:null,onRefresh:null},listeners:{onCreate:[{namespace:"bindKeyHandlers",funcName:"fluid.reorderer.bindHandlersToContainer",args:["{that}.container","{that}.handleKeyDown","{that}.handleKeyUp"]},{namespace:"addContainerRoles",funcName:"fluid.reorderer.addRolesToContainer",args:"{that}"},{namespace:"makeTabbable",funcName:"fluid.tabbable",args:"{that}.container"},{namespace:"processAfterMoveCallback",funcName:"fluid.reorderer.processAfterMoveCallbackUrl",args:"{that}"},"{that}.refresh"],onRefresh:{listener:"fluid.reorderer.initItems",args:"{that}",priority:-1000},onHover:{funcName:"fluid.reorderer.hoverStyleHandler",args:["{that}.dom","{that}.options.styles","{arguments}.0","{arguments}.1"]}},invokers:{changeSelectedToDefault:{funcName:"fluid.reorderer.changeSelectedToDefault",args:["{arguments}.0","{that}.options.styles"]},setDropEffects:{funcName:"fluid.reorderer.setDropEffects",args:["{that}.dom","{arguments}.0"]},createDropMarker:{funcName:"fluid.reorderer.createDropMarker",args:["{arguments}.0","{that}.options.styles.dropMarker"]},refresh:{funcName:"fluid.reorderer.refresh",args:["{that}.dom","{that}.events","{that}.selectableContext","{that}.activeItem"]},selectItem:{funcName:"fluid.reorderer.selectItem",args:["{that}","{arguments}.0"]},initSelectables:{funcName:"fluid.reorderer.initSelectables",args:["{that}"]},initMovable:{funcName:"fluid.reorderer.initMovable",args:["{that}","{that}.dropManager","{arguments}.0"]},isMove:{funcName:"fluid.reorderer.isMove",args:["{that}.options.keysets","{arguments}.0"]},isActiveItemMovable:{funcName:"fluid.reorderer.isActiveItemMovable",args:["{that}.activeItem","{that}.dom"]},handleKeyDown:{funcName:"fluid.reorderer.handleKeyDown",args:["{that}","{that}.options.styles","{arguments}.0"]},handleDirectionKeyDown:{funcName:"fluid.reorderer.handleDirectionKeyDown",args:["{that}","{arguments}.0"]},handleKeyUp:{funcName:"fluid.reorderer.handleKeyUp",args:["{that}","{that}.options.styles","{arguments}.0"]},requestMovement:{funcName:"fluid.reorderer.requestMovement",args:["{that}","{arguments}.0","{arguments}.1"]}},mergePolicy:{keysets:a.reorderer.keysetsPolicy,"selectors.labelSource":"selectors.grabHandle","selectors.selectables":"selectors.movables","selectors.dropTargets":"selectors.movables"},components:{layoutHandler:{type:"{that}.options.layoutHandler",container:"{reorderer}.container"},labeller:{type:"fluid.reorderer.labeller",options:{members:{dom:"{reorderer}.dom"},getGeometricInfo:"{reorderer}.layoutHandler.getGeometricInfo",orientation:"{reorderer}.layoutHandler.options.orientation",layoutType:"{reorderer}.options.layoutHandler"}}},disableWrap:!1}),a.reorderer.noModifier=function(c){return !(c.ctrlKey||c.altKey||c.shiftKey||c.metaKey)
},a.reorderer.isMove=function(e,c){for(var d=0;d<e.length;d++){if(e[d].modifier(c)){return !0}}return !1},a.reorderer.isActiveItemMovable=function(d,c){return b.inArray(d,c.fastLocate("movables"))>=0},a.reorderer.handleKeyDown=function(d,e,c){if(!d.activeItem||d.activeItem!==c.target){return !0}var f=b(d.activeItem);return !f.hasClass(e.dragging)&&d.isMove(c)?(d.isActiveItemMovable()&&(f.removeClass(e.selected),f.addClass(e.dragging),f.attr("aria-grabbed","true"),d.setDropEffects("move")),!1):d.handleDirectionKeyDown(c)},a.reorderer.handleDirectionKeyDown=function(o,l){var n=o.activeItem;if(!n){return !0}for(var c=o.options.keysets,g=0;g<c.length;g++){var e=c[g],k=a.keyForValue(e,l.keyCode);if(k){var m=e.modifier(l),d=a.keycodeDirection[k],h=o.layoutHandler.getRelativePosition(n,d,!m);if(h){if(m){var j=o.events.onBeginMove.fire(n);if(j===!1){return !1}var f=o.kbDropWarning;f.length>0&&("locked"===h.clazz?(o.events.onShowKeyboardDropWarning.fire(n,f),f.show()):f.hide()),h.element&&o.requestMovement(h,n)}else{a.reorderer.noModifier(l)&&(a.blur(n),a.focus(b(h.element)))}return !1}}}return !0},a.reorderer.handleKeyUp=function(d,e,c){if(!d.activeItem||d.activeItem!==c.target){return !0}var f=b(d.activeItem);return !(!f.hasClass(e.dragging)||d.isMove(c))&&(d.kbDropWarning&&d.kbDropWarning.hide(),f.removeClass(e.dragging),f.addClass(e.selected),f.attr("aria-grabbed","false"),d.setDropEffects("none"),!1)},a.reorderer.requestMovement=function(c,e,d){if(d=a.unwrap(d),e&&a.unwrap(e.element)!==d){var f=b(c.activeItem);f.off("blur.fluid.reorderer"),c.events.onMove.fire(d,e),c.dropManager.geometricMove(d,e.element,e.position),a.focus(f),c.refresh(),c.dropManager.updateGeometry(c.layoutHandler.getGeometricInfo()),c.events.afterMove.fire(d,e,c.dom.fastLocate("movables"))}},a.reorderer.hoverStyleHandler=function(f,d,c,e){f.fastLocate("grabHandle",c)[e?"addClass":"removeClass"](d.hover)},a.reorderer.processAfterMoveCallbackUrl=function(c){var d=c.options;d.afterMoveCallbackUrl&&c.events.afterMove.addListener(function(){var e=c.layoutHandler,f=e.getModel?e.getModel():d.acquireModel(c);b.post(d.afterMoveCallbackUrl,JSON.stringify(f))},"postModel")},a.reorderer.setDropEffects=function(d,c){d.fastLocate("dropTargets").attr("aria-dropeffect",c)},a.reorderer.createDropMarker=function(d,e){var c=b(document.createElement(d));return c.addClass(e),c.hide(),c},a.reorderer.changeSelectedToDefault=function(c,d){c.removeClass(d.selected),c.removeClass(d.dragging),c.addClass(d.defaultStyle),c.attr("aria-selected","false")},a.reorderer.initSelectables=function(e){for(var h=function(i){return e.changeSelectedToDefault(b(this)),i.stopPropagation()},j=function(i){return e.selectItem(this),i.stopPropagation()},d=function(i){var k=a.unwrap(e.dom.fastLocate("grabHandle",this));a.dom.isContainer(k,i.target)&&b(this).focus()},c=e.dom.fastLocate("selectables"),g=0;g<c.length;++g){var f=b(c[g]);b.data(f[0],"fluid.reorderer.selectable-initialised")||(f.addClass(e.options.styles.defaultStyle),f.on("blur.fluid.reorderer",h),f.focus(j),f.click(d),f.attr("role",e.options.containerRole.item),f.attr("aria-selected","false"),f.attr("aria-disabled","false"),b.data(f[0],"fluid.reorderer.selectable-initialised",!0))}e.selectableContext||(e.selectableContext=a.selectable(e.container,{selectableElements:c,selectablesTabindex:e.options.selectablesTabindex,direction:null}))},a.reorderer.selectItem=function(d,f){d.events.onSelect.fire(f),d.activeItem&&d.activeItem!==f&&d.changeSelectedToDefault(b(d.activeItem)),d.activeItem=f;var c=b(f),e=d.options.styles;c.removeClass(e.defaultStyle),c.addClass(e.selected),c.attr("aria-selected","true")},a.reorderer.initMovable=function(d,c,h){var f=d.options,g=f.styles;h.attr("aria-grabbed","false"),h.mouseover(function(){d.events.onHover.fire(h,!0)}),h.mouseout(function(){d.events.onHover.fire(h,!1)});var e,i=d.dom.fastLocate("grabHandle",h);h.draggable({refreshPositions:!1,scroll:!0,helper:function(){var j;return d.mouseDropWarning&&(j=d.mouseDropWarning[0]),e=b(f.avatarCreator(h[0],g.avatar,j)),e.prop("id",a.reorderer.createAvatarId(d.container.id)),e},start:function(o){var k=d.events.onBeginMove.fire(h);if(k===!1){return !1}var n=d.dom.fastLocate("grabHandle",h)[0],m=a.dom.computeAbsolutePosition(n),j=n.offsetWidth,l=n.offsetHeight;h.focus(),h.removeClass(f.styles.selected),h.addClass(f.styles.mouseDrag),h.attr("aria-grabbed","true"),d.setDropEffects("move"),c.startDrag(o,m,j,l),e.show()},stop:function(l,k){h.removeClass(f.styles.mouseDrag),h.addClass(f.styles.selected),b(d.activeItem).attr("aria-grabbed","false");var j=a.unwrap(d.dropMarker);j.parentNode&&j.parentNode.removeChild(j),e.hide(),k.helper=null,d.setDropEffects("none"),c.endDrag(),d.requestMovement(c.lastPosition(),h),d.activeItem.focus()},handle:a.unwrap(i)===a.unwrap(h)?null:i})},a.reorderer.initItems=function(c){var h=c.dom.fastLocate("movables"),g=c.dom.fastLocate("dropTargets");c.initSelectables();for(var d=0;d<h.length;d++){var e=h[d];b.data(e,"fluid.reorderer.movable-initialised")||(c.initMovable(b(e)),b.data(e,"fluid.reorderer.movable-initialised",!0))}h.length>0&&!c.dropMarker&&(c.dropMarker=c.createDropMarker(h[0].tagName)),c.dropManager.updateGeometry(c.layoutHandler.getGeometricInfo());var f=function(i){a.dom.moveDom(c.dropMarker,i.element,i.position),c.dropMarker.css("display",""),c.mouseDropWarning&&(i.lockedelem?c.mouseDropWarning.show():c.mouseDropWarning.hide())};c.dropManager.dropChangeFirer.addListener(f,"fluid.reorderer"),g.attr("aria-dropeffect","none")},a.reorderer.refresh=function(f,d,c,e){f.refresh("movables"),f.refresh("selectables"),f.refresh("grabHandle",f.fastLocate("movables")),f.refresh("stylisticOffset",f.fastLocate("movables")),f.refresh("dropTargets"),c&&(c.selectables=f.fastLocate("selectables"),c.selectablesUpdated(e)),d.onRefresh.fire()},a.reorderer.roles={GRID:{container:"grid",item:"gridcell"},LIST:{container:"list",item:"listitem"},REGIONS:{container:"main",item:"article"}},a.defaults("fluid.reorderList",{gradeNames:["fluid.reorderer"],layoutHandler:"fluid.listLayoutHandler"}),a.defaults("fluid.reorderGrid",{gradeNames:["fluid.reorderer"],layoutHandler:"fluid.gridLayoutHandler"}),a.reorderer.SHUFFLE_GEOMETRIC_STRATEGY="shuffleProjectFrom",a.reorderer.GEOMETRIC_STRATEGY="projectFrom",a.reorderer.LOGICAL_STRATEGY="logicalFrom",a.reorderer.WRAP_LOCKED_STRATEGY="lockedWrapFrom",a.reorderer.NO_STRATEGY=null,a.reorderer.relativeInfoGetter=function(d,g,e,c,f){return function(i,k,h){var j=a.directionOrientation(k),l=j===d?g:e;return null!==l?c[l](i,k,h,f):null}},a.reorderer.makeGeometricInfoGetter=function(c,f,e){var d={sentinelize:f,extents:[{orientation:c,elements:e.fastLocate("dropTargets")}],elementMapper:function(g){return b.inArray(g,e.fastLocate("movables"))===-1?"locked":null},elementIndexer:function(h){var g=e.fastLocate("selectables");return{elementClass:d.elementMapper(h),index:b.inArray(h,g),length:g.length}}};return d},a.defaults("fluid.layoutHandler",{gradeNames:["fluid.viewComponent"],disableWrap:"{reorderer}.options.disableWrap",members:{reordererDom:"{reorderer}.dom",dropManager:"{reorderer}.dropManager"},invokers:{getGeometricInfo:"fluid.reorderer.makeGeometricInfoGetter({that}.options.orientation, {that}.options.sentinelize, {that}.reordererDom)"}}),a.defaults("fluid.listLayoutHandler",{gradeNames:["fluid.layoutHandler"],orientation:a.orientation.VERTICAL,containerRole:a.reorderer.roles.LIST,selectablesTabindex:-1,sentinelize:!0,members:{getRelativePosition:{expander:{funcName:"fluid.reorderer.relativeInfoGetter",args:["{that}.options.orientation",a.reorderer.LOGICAL_STRATEGY,null,"{that}.dropManager","{that}.options.disableWrap"]}}}}),a.defaults("fluid.gridLayoutHandler",{gradeNames:["fluid.layoutHandler"],orientation:a.orientation.HORIZONTAL,containerRole:a.reorderer.roles.GRID,selectablesTabindex:-1,sentinelize:!1,coStrategy:"@expand:fluid.gridLayoutHandler.computeCoStrategy({that}.options.disableWrap)",members:{getRelativePosition:{expander:{funcName:"fluid.reorderer.relativeInfoGetter",args:["{that}.options.orientation","{that}.options.coStrategy",a.reorderer.SHUFFLE_GEOMETRIC_STRATEGY,"{that}.dropManager","{that}.options.disableWrap"]}}}}),a.gridLayoutHandler.computeCoStrategy=function(c){return c?a.reorderer.SHUFFLE_GEOMETRIC_STRATEGY:a.reorderer.LOGICAL_STRATEGY},a.defaults("fluid.reorderer.labeller",{gradeNames:["fluid.component"],members:{movedMap:{},moduleCell:{expander:{funcName:"fluid.reorderer.labeller.computeModuleCell",args:["{that}.resolver","{that}.options.orientation"]}},layoutType:{expander:{funcName:"fluid.computeNickName",args:"{that}.options.layoutType"}},positionTemplate:{expander:{funcName:"fluid.reorderer.labeller.computePositionTemplate",args:["{that}.resolver","{that}.layoutType"]}}},strings:{overallTemplate:"%recentStatus %item %position %movable",position:"%index of %length",position_moduleLayoutHandler:"%index of %length in %moduleCell %moduleIndex of %moduleLength",moduleCell_0:"row",moduleCell_1:"column",movable:"movable",fixed:"fixed",recentStatus:"moved from position %position"},components:{resolver:{type:"fluid.messageResolver",options:{messageBase:"{labeller}.options.strings"}}},invokers:{renderLabel:{funcName:"fluid.reorderer.labeller.renderLabel",args:["{labeller}","{arguments}.0","{arguments}.1"]}},listeners:{"{reorderer}.events.onRefresh":{listener:"fluid.reorderer.labeller.onRefresh",args:"{that}"},"{reorderer}.events.onMove":{listener:"fluid.reorderer.labeller.onMove",args:["{that}","{arguments}.0","{arguments}.1"]}}}),a.reorderer.labeller.computeModuleCell=function(d,c){return d.resolve("moduleCell_"+c)},a.reorderer.labeller.computePositionTemplate=function(d,c){return d.lookup(["position_"+c,"position"])},a.reorderer.labeller.onRefresh=function(e){var c=e.dom.locate("selectables"),d=e.movedMap;a.each(c,function(i){var f={},k=a.allocateSimpleId(i),j=d[k],h=e.renderLabel(i),g=h;j&&(j.newRender=g,h=e.renderLabel(i,j.oldRender.position),b(i).one("focusout.ariaLabeller",function(){if(d[k]){var l=d[k].newRender.label;
delete d[k],a.updateAriaLabel(i,l)}}),f.dynamicLabel=!0),a.updateAriaLabel(i,h.label,f)})},a.reorderer.labeller.onMove=function(e,d){a.clear(e.movedMap),b(d).off("focusout.ariaLabeller");var c=a.allocateSimpleId(d);e.movedMap[c]={oldRender:e.renderLabel(d)}},a.reorderer.indexRebaser=function(c){return c.index++,void 0!==c.moduleIndex&&c.moduleIndex++,c},a.reorderer.labeller.renderLabel=function(c,g,e){var f=c.options.getGeometricInfo(),k=a.reorderer.indexRebaser(f.elementIndexer(g));k.moduleCell=c.moduleCell;var d,l=f.elementMapper(g),i=c.dom.locate("labelSource",g);e&&(d=c.resolver.resolve("recentStatus",{position:e}));var m={item:"string"==typeof i?i:a.dom.getElementText(a.unwrap(i)),position:c.positionTemplate.resolveFunc(c.positionTemplate.template,k),movable:c.resolver.resolve("locked"===l?"fixed":"movable"),recentStatus:d||""},j=c.resolver.lookup(["overallTemplate"]),h=j.resolveFunc(j.template,m);return{position:m.position,label:h}}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.registerNamespace("fluid.reorderImages"),a.reorderImages.deriveLightboxCellBase=function(c,d){return c+"lightbox-cell:"+d+":"},a.reorderImages.addThumbnailActivateHandler=function(c){var d=function(e){if(e.which===a.reorderer.keys.ENTER){var f=b("a",e.target);document.location=f.attr("href")}};c.keypress(d)},a.reorderImages.seekNodesById=function(g,j,e){for(var c=g.getElementsByTagName(j),h=[],f=0;f<c.length;f+=1){var d=c[f],k=d.id;k&&k.match(e)&&h.push(d)}return h},a.reorderImages.createImageCellFinder=function(c,d){d=d||c.prop("id"),c=a.unwrap(c);var e="^"+a.reorderImages.deriveLightboxCellBase(d,"[0-9]+")+"$";return function(){return a.reorderImages.seekNodesById(c,"div",e)}},a.reorderImages.seekForm=function(c){return a.findAncestor(c,function(d){return b(d).is("form")})},a.reorderImages.seekInputs=function(c,d){return a.reorderImages.seekNodesById(d,"input","^"+a.reorderImages.deriveLightboxCellBase(c.prop("id"),"[^:]*")+"reorder-index$")},a.reorderImages.mapIdsToNames=function(d,h){for(var c=a.reorderImages.seekInputs(d,h),g=0;g<c.length;g++){var e=c[g],f=e.name;e.name=f||e.id}},a.reorderImages.createIDAfterMoveListener=function(c){var d=a.reorderImages.seekForm(c);return a.reorderImages.mapIdsToNames(c,d),function(){var f,g;for(f=a.reorderImages.seekInputs(c,d),g=0;g<f.length;g+=1){f[g].value=g}if(d&&d.action){var e=b(d).serialize();b.post(d.action,e,function(){})}}},a.defaults("fluid.reorderImages",{gradeNames:["fluid.reorderer"],layoutHandler:"fluid.gridLayoutHandler",listeners:{"afterMove.postModel":{expander:{funcName:"fluid.reorderImages.createIDAfterMoveListener",args:"{that}.container"}}},selectors:{movables:{expander:{funcName:"fluid.reorderImages.createImageCellFinder",args:"{that}.container"}},labelSource:".flc-reorderer-imageTitle"}}),a.lightbox=a.reorderImages}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.registerNamespace("fluid.moduleLayout"),a.moduleLayout.findColumnAndItemIndices=function(d,c){return a.find(c.columns,function(g,f){var e=b.inArray(d,g.elements);return e===-1?void 0:{columnIndex:f,itemIndex:e}},{columnIndex:-1,itemIndex:-1})},a.moduleLayout.findColIndex=function(d,c){return a.find(c.columns,function(f,e){return d===f.container?e:void 0},-1)},a.moduleLayout.updateLayout=function(f,h,d,e){f=a.unwrap(f),h=a.unwrap(h);var c=a.moduleLayout.findColumnAndItemIndices(f,e);e.columns[c.columnIndex].elements.splice(c.itemIndex,1);var j;if(d===a.position.INSIDE){j=e.columns[a.moduleLayout.findColIndex(h,e)].elements,j.splice(j.length,0,f)}else{var i=a.moduleLayout.findColumnAndItemIndices(h,e);j=e.columns[i.columnIndex].elements,d=a.dom.normalisePosition(d,c.columnIndex===i.columnIndex,i.itemIndex,c.itemIndex);var g=d===a.position.BEFORE?0:1;j.splice(i.itemIndex+g,0,f)}},a.moduleLayout.layoutFromFlat=function(c,e,d){var f={};return f.container=c,f.columns=a.transform(e,function(g){return{container:g,elements:a.makeArray(d.filter(function(){return a.dom.isContainer(g,this)}))}}),f},a.moduleLayout.layoutFromIds=function(c){return{container:a.byId(c.id),columns:a.transform(c.columns,function(d){return{container:a.byId(d.id),elements:a.transform(d.children,a.byId)}})}},a.moduleLayout.layoutToIds=function(c){return{id:a.getId(c.container),columns:a.transform(c.columns,function(d){return{id:a.getId(d.container),children:a.transform(d.elements,a.getId)}})}},a.moduleLayout.defaultOnShowKeyboardDropWarning=function(d,c){if(c){var e=b(d).offset();c=b(c),c.css("position","absolute"),c.css("top",e.top),c.css("left",e.left)}},a.defaults("fluid.moduleLayoutHandler",{gradeNames:["fluid.layoutHandler"],orientation:a.orientation.VERTICAL,containerRole:a.reorderer.roles.REGIONS,selectablesTabindex:-1,sentinelize:!0,events:{onMove:"{reorderer}.events.onMove",onRefresh:"{reorderer}.events.onRefresh",onShowKeyboardDropWarning:"{reorderer}.events.onShowKeyboardDropWarning"},listeners:{"onShowKeyboardDropWarning.setPosition":"fluid.moduleLayout.defaultOnShowKeyboardDropWarning",onRefresh:{priority:"first",listener:"{that}.computeLayout"},onMove:{priority:"last",listener:"fluid.moduleLayout.onMoveListener",args:["{arguments}.0","{arguments}.1","{that}.layout"]}},members:{layout:{expander:{func:"{that}.computeLayout"}},getRelativePosition:{expander:{funcName:"fluid.reorderer.relativeInfoGetter",args:["{that}.options.orientation",a.reorderer.WRAP_LOCKED_STRATEGY,a.reorderer.GEOMETRIC_STRATEGY,"{that}.dropManager","{that}.options.disableWrap"]}}},invokers:{computeLayout:{funcName:"fluid.moduleLayout.computeLayout",args:["{that}","{reorderer}.options.selectors.modules","{that}.dom"]},computeModules:{funcName:"fluid.moduleLayout.computeModules",args:["{that}.layout","{that}.isLocked","{arguments}.0"]},makeComputeModules:{funcName:"fluid.moduleLayout.makeComputeModules",args:["{that}","{arguments}.0"]},isLocked:{funcName:"fluid.moduleLayout.isLocked",args:["{arguments}.0","{reorderer}.options.selectors.lockedModules","{that}.reordererDom"]},getGeometricInfo:"fluid.moduleLayout.getGeometricInfo({that})",getModel:"fluid.moduleLayout.getModel({that})"},selectors:{modules:"{reorderer}.options.selectors.modules",columns:"{reorderer}.options.selectors.columns"},distributeOptions:{target:"{reorderer}.options",record:{selectors:{movables:{expander:{func:"{that}.makeComputeModules",args:[!1]}},dropTargets:{expander:{func:"{that}.makeComputeModules",args:[!1]}},selectables:{expander:{func:"{that}.makeComputeModules",args:[!0]}}}}}}),a.moduleLayout.getGeometricInfo=function(i){var d=i.options,h=[],g={extents:h,sentinelize:d.sentinelize};g.elementMapper=function(j){return i.isLocked(j)?"locked":null},g.elementIndexer=function(j){var k=a.moduleLayout.findColumnAndItemIndices(j,i.layout);return{index:k.itemIndex,length:i.layout.columns[k.columnIndex].elements.length,moduleIndex:k.columnIndex,moduleLength:i.layout.columns.length}};for(var c=0;c<i.layout.columns.length;c++){var f=i.layout.columns[c],e={orientation:d.orientation,elements:a.makeArray(f.elements),parentElement:f.container};h.push(e)}return g},a.moduleLayout.getModel=function(c){return a.moduleLayout.layoutToIds(c.layout)},a.moduleLayout.computeLayout=function(e,f,g){var d;if(f&&(d=a.moduleLayout.layoutFromFlat(e.container,g.locate("columns"),g.locate("modules"))),!d){var c=a.get(e.options,"moduleLayout.layout");d=a.moduleLayout.layoutFromIds(c)}return e.layout=d,d},a.moduleLayout.computeModules=function(e,f,d){var c=a.accumulate(e.columns,function(g,h){return h.concat(g.elements)},[]);return d||a.remove_if(c,f),c},a.moduleLayout.makeComputeModules=function(d,c){return function(){return d.computeModules(c)}},a.moduleLayout.isLocked=function(c,d,f){var e=d?f.fastLocate("lockedModules"):[];return b.inArray(c,e)!==-1},a.moduleLayout.onMoveListener=function(d,e,c){a.moduleLayout.updateLayout(d,e.element,e.position,c)}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.reorderLayout=function(c,f){var e={layoutHandler:"fluid.moduleLayoutHandler",selectors:{columns:".flc-reorderer-column",modules:".flc-reorderer-module"}},d=b.extend(!0,e,f);return a.reorderer(c,d)}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.defaults("fluid.slidingPanel",{gradeNames:["fluid.viewComponent"],selectors:{panel:".flc-slidingPanel-panel",toggleButton:".flc-slidingPanel-toggleButton",toggleButtonLabel:".flc-slidingPanel-toggleButton"},strings:{showText:"show",hideText:"hide",panelLabel:"panel"},events:{onPanelHide:null,onPanelShow:null,afterPanelHide:null,afterPanelShow:null},listeners:{"onCreate.bindClick":{"this":"{that}.dom.toggleButton",method:"click",args:["{that}.togglePanel"]},"onCreate.bindModelChange":{listener:"{that}.applier.modelChanged.addListener",args:["isShowing","{that}.refreshView"]},"onCreate.setAriaProps":"{that}.setAriaProps","onCreate.setInitialState":{listener:"{that}.refreshView"},"onPanelHide.setText":{"this":"{that}.dom.toggleButtonLabel",method:"text",args:["{that}.options.strings.showText"],priority:"first"},"onPanelHide.setAriaLabel":{"this":"{that}.dom.toggleButtonLabel",method:"attr",args:["aria-label","{that}.options.strings.showTextAriaLabel"]},"onPanelShow.setText":{"this":"{that}.dom.toggleButtonLabel",method:"text",args:["{that}.options.strings.hideText"],priority:"first"},"onPanelShow.setAriaLabel":{"this":"{that}.dom.toggleButtonLabel",method:"attr",args:["aria-label","{that}.options.strings.hideTextAriaLabel"]},"onPanelHide.operate":{listener:"{that}.operateHide"},"onPanelShow.operate":{listener:"{that}.operateShow"},"onCreate.setAriaStates":"{that}.setAriaStates"},members:{panelId:{expander:{funcName:"fluid.allocateSimpleId",args:"{that}.dom.panel"}}},model:{isShowing:!1},modelListeners:{isShowing:{funcName:"{that}.setAriaStates",excludeSource:"init"}},invokers:{operateHide:{"this":"{that}.dom.panel",method:"slideUp",args:["{that}.options.animationDurations.hide","{that}.events.afterPanelHide.fire"]},operateShow:{"this":"{that}.dom.panel",method:"slideDown",args:["{that}.options.animationDurations.show","{that}.events.afterPanelShow.fire"]},hidePanel:{func:"{that}.applier.change",args:["isShowing",!1]},showPanel:{func:"{that}.applier.change",args:["isShowing",!0]},setAriaStates:{funcName:"fluid.slidingPanel.setAriaStates",args:["{that}","{that}.model.isShowing"]},setAriaProps:{funcName:"fluid.slidingPanel.setAriaProperties",args:["{that}","{that}.panelId"]},togglePanel:{funcName:"fluid.slidingPanel.togglePanel",args:["{that}"]},refreshView:{funcName:"fluid.slidingPanel.refreshView",args:["{that}"]}},animationDurations:{hide:400,show:400}}),a.slidingPanel.togglePanel=function(c){c.applier.change("isShowing",!c.model.isShowing)
},a.slidingPanel.refreshView=function(c){c.events[c.model.isShowing?"onPanelShow":"onPanelHide"].fire()},a.slidingPanel.setAriaProperties=function(d,c){d.locate("toggleButton").attr({role:"button","aria-controls":c}),d.locate("panel").attr({"aria-label":d.options.strings.panelLabel,role:"group"})},a.slidingPanel.setAriaStates=function(d,c){d.locate("toggleButton").attr("aria-pressed",c),d.locate("panel").attr("aria-expanded",c)}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.registerNamespace("fluid.tableOfContents"),a.tableOfContents.headingTextToAnchorInfo=function(d){var e=a.allocateSimpleId(d),c={id:e,url:"#"+e};return c},a.tableOfContents.locateHeadings=function(c){var d=c.locate("headings");return a.each(c.options.ignoreForToC,function(e){d=d.not(e).not(e+" :header")}),d},a.tableOfContents.refreshView=function(c){var d=c.locateHeadings();c.anchorInfo=a.transform(d,function(f){return c.headingTextToAnchorInfo(f)});var e=c.modelBuilder.assembleModel(d,c.anchorInfo);c.applier.change("",e),c.events.onRefresh.fire()},a.defaults("fluid.tableOfContents",{gradeNames:["fluid.viewComponent"],components:{levels:{type:"fluid.tableOfContents.levels",createOnEvent:"onCreate",container:"{tableOfContents}.dom.tocContainer",options:{model:{headings:"{tableOfContents}.model"},events:{afterRender:"{tableOfContents}.events.afterRender"},listeners:{"{tableOfContents}.events.onRefresh":"{that}.refreshView"},strings:"{tableOfContents}.options.strings"}},modelBuilder:{type:"fluid.tableOfContents.modelBuilder"}},model:[],invokers:{headingTextToAnchorInfo:"fluid.tableOfContents.headingTextToAnchorInfo",locateHeadings:{funcName:"fluid.tableOfContents.locateHeadings",args:["{that}"]},refreshView:{funcName:"fluid.tableOfContents.refreshView",args:["{that}"]},hide:{"this":"{that}.dom.tocContainer",method:"hide"},show:{"this":"{that}.dom.tocContainer",method:"show"}},strings:{tocHeader:"Table of Contents"},selectors:{headings:":header:visible",tocContainer:".flc-toc-tocContainer"},ignoreForToC:{tocContainer:"{that}.options.selectors.tocContainer"},events:{onRefresh:null,afterRender:null,onReady:{events:{onCreate:"onCreate",afterRender:"afterRender"},args:["{that}"]}},listeners:{"onCreate.refreshView":"{that}.refreshView"}}),a.registerNamespace("fluid.tableOfContents.modelBuilder"),a.tableOfContents.modelBuilder.toModel=function(d,e){var f=a.copy(d),c=function(j,k){for(var h=[];j.length>0;){var i=j[0];if(i.level<k){break}if(i.level>k){var g=c(j,k+1);h.length>0?h[h.length-1].headings=g:h=e(h,g)}i.level===k&&(h.push(i),j.shift())}return h};return c(f,1)},a.tableOfContents.modelBuilder.gradualModelLevelFn=function(e,d){var c=a.copy(d);return c[0].level--,c},a.tableOfContents.modelBuilder.skippedModelLevelFn=function(d,c){return d.push({headings:c}),d},a.tableOfContents.modelBuilder.convertToHeadingObjects=function(d,e,c){return e=b(e),a.transform(e,function(g,f){return{level:d.headingCalculator.getHeadingLevel(g),text:b(g).text(),url:c[f].url}})},a.tableOfContents.modelBuilder.assembleModel=function(e,f,d){var c=e.convertToHeadingObjects(f,d);return e.toModel(c)},a.defaults("fluid.tableOfContents.modelBuilder",{gradeNames:["fluid.component"],components:{headingCalculator:{type:"fluid.tableOfContents.modelBuilder.headingCalculator"}},invokers:{toModel:{funcName:"fluid.tableOfContents.modelBuilder.toModel",args:["{arguments}.0","{modelBuilder}.modelLevelFn"]},modelLevelFn:"fluid.tableOfContents.modelBuilder.gradualModelLevelFn",convertToHeadingObjects:"fluid.tableOfContents.modelBuilder.convertToHeadingObjects({that}, {arguments}.0, {arguments}.1)",assembleModel:"fluid.tableOfContents.modelBuilder.assembleModel({that}, {arguments}.0, {arguments}.1)"}}),a.registerNamespace("fluid.tableOfContents.modelBuilder.headingCalculator"),a.tableOfContents.modelBuilder.headingCalculator.getHeadingLevel=function(c,d){return c.options.levels.indexOf(d.tagName)+1},a.defaults("fluid.tableOfContents.modelBuilder.headingCalculator",{gradeNames:["fluid.component"],invokers:{getHeadingLevel:"fluid.tableOfContents.modelBuilder.headingCalculator.getHeadingLevel({that}, {arguments}.0)"},levels:["H1","H2","H3","H4","H5","H6"]}),a.registerNamespace("fluid.tableOfContents.levels"),a.tableOfContents.levels.objModel=function(d,c){var e={ID:d+c+":",children:[]};return e},a.tableOfContents.levels.handleEmptyItemObj=function(c){c.decorators=[{type:"addClass",classes:"fl-tableOfContents-hide-bullet"}]},a.tableOfContents.levels.generateTree=function(f,d){d=d||0;var e=a.tableOfContents.levels.objModel("level",d);if(0===f.headings.length){return d?[]:{children:[]}}if(0===d){var c={children:[a.tableOfContents.levels.generateTree(f,d+1)]};return c}return b.each(f.headings,function(i,h){var g=a.tableOfContents.levels.objModel("items",d),j={ID:"link"+d,target:h.url,linktext:h.text};h.level?g.children.push(j):a.tableOfContents.levels.handleEmptyItemObj(g),h.headings&&g.children.push(a.tableOfContents.levels.generateTree(h,d+1)),e.children.push(g)}),e},a.tableOfContents.levels.produceTree=function(d){var c=a.tableOfContents.levels.generateTree(d.model);return c.children.push({ID:"tocHeader",messagekey:"tocHeader"}),c},a.tableOfContents.levels.fetchResources=function(c){a.fetchResources(c.options.resources,function(){c.container.append(c.options.resources.template.resourceText),c.refreshView()})},a.defaults("fluid.tableOfContents.levels",{gradeNames:["fluid.rendererComponent"],produceTree:"fluid.tableOfContents.levels.produceTree",strings:{tocHeader:"Table of Contents"},selectors:{tocHeader:".flc-toc-header",level1:".flc-toc-levels-level1",level2:".flc-toc-levels-level2",level3:".flc-toc-levels-level3",level4:".flc-toc-levels-level4",level5:".flc-toc-levels-level5",level6:".flc-toc-levels-level6",items1:".flc-toc-levels-items1",items2:".flc-toc-levels-items2",items3:".flc-toc-levels-items3",items4:".flc-toc-levels-items4",items5:".flc-toc-levels-items5",items6:".flc-toc-levels-items6",link1:".flc-toc-levels-link1",link2:".flc-toc-levels-link2",link3:".flc-toc-levels-link3",link4:".flc-toc-levels-link4",link5:".flc-toc-levels-link5",link6:".flc-toc-levels-link6"},repeatingSelectors:["level1","level2","level3","level4","level5","level6","items1","items2","items3","items4","items5","items6"],model:{headings:[]},listeners:{"onCreate.fetchResources":"fluid.tableOfContents.levels.fetchResources"},resources:{template:{forceCache:!0,url:"../html/TableOfContents.html"}},rendererFnOptions:{noexpand:!0},rendererOptions:{debugMode:!1}})}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.defaults("fluid.tabs",{gradeNames:["fluid.viewComponent"],tabOptions:{},events:{tabsselect:"preventable",tabsload:null,tabsshow:null},listeners:{"onCreate.initTabs":{"this":"{that}.container",method:"tabs",args:"{that}.options.tabOptions"},"onCreate.bindEvents":{priority:"after:initTabs",funcName:"fluid.tabs.bindEvents"}}}),a.tabs.bindEvents=function(c){a.each(c.options.events,function(e,d){c.container.on(d,function(f,g){return c.events[d].fire(c,f,g)})})}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.registerNamespace("fluid.contextAware"),a.defaults("fluid.contextAware.marker",{gradeNames:["fluid.component"]}),a.contextAware.makeCheckMarkers=function(c,d,e){a.each(c,function(g,f){a.constructSingle(d,{type:f,gradeNames:"fluid.contextAware.marker",value:g},e)})},a.contextAware.performChecks=function(c){return a.transform(c,function(d){return"function"==typeof d?d={func:d}:"string"==typeof d&&(d={funcName:d}),a.isPrimitive(d)?d:"value" in d?d.value:"func" in d?d.func():"funcName" in d?a.invokeGlobalFunction(d.funcName):void a.fail("Error in contextAwareness check record ",d," - must contain an entry with name value, func, or funcName")})},a.contextAware.makeChecks=function(d,e,f){var c=a.contextAware.performChecks(d);a.contextAware.makeCheckMarkers(c,e,f)},a.contextAware.forgetChecks=function(c,e,f){f=f||a.globalInstantiator,e=e||[];var d=a.makeArray(c);a.each(d,function(i){var h=a.typeNameToMemberName(i),g=a.model.parseToSegments(e,f.parseEL,!0);g.push(h),a.destroy(g,f)})},a.defaults("fluid.contextAware",{gradeNames:["{that}.check"],mergePolicy:{contextAwareness:"noexpand"},contextAwareness:{},invokers:{check:{funcName:"fluid.contextAware.check",args:["{that}","{that}.options.contextAwareness"]}}}),a.contextAware.getCheckValue=function(e,c){var d=a.parseContextReference(c),g=a.resolveContext(d.context,e),h=d.path||["options","value"],f=a.getForComponent(g,h);return f},a.contextAware.checkOne=function(e,d){d.checks&&d.checks.contextValue&&a.fail("Nesting error in contextAwareness record ",d,' - the "checks" entry must contain a hash and not a contextValue/gradeNames record at top level');var c=a.parsePriorityRecords(d.checks,"contextAwareness checkRecord");return a.find(c,function(f){f.contextValue||a.fail("Cannot perform check for contextAwareness record ",f,' without a valid field named "contextValue"');var g=a.contextAware.getCheckValue(e,f.contextValue);if(void 0===f.equals?g:g===f.equals){return f.gradeNames}},d.defaultGradeNames)},a.contextAware.check=function(f,d){var c=[],e=a.parsePriorityRecords(d,"contextAwareness adaptationRecord");return a.each(e,function(h){var g=a.contextAware.checkOne(f,h);c=c.concat(a.makeArray(g))}),c},a.contextAware.makeAdaptation=function(c){a.expect("fluid.contextAware.makeAdaptation",c,["distributionName","targetName","adaptationName","checkName","record"]),a.defaults(c.distributionName,{gradeNames:["fluid.component"],distributeOptions:{target:"{/ "+c.targetName+"}.options.contextAwareness."+c.adaptationName+".checks."+c.checkName,record:c.record}}),a.constructSingle([],c.distributionName)},a.contextAware.isBrowser=function(){return"undefined"!=typeof window&&window.document},a.contextAware.makeChecks({"fluid.browser":{funcName:"fluid.contextAware.isBrowser"}}),a.registerNamespace("fluid.contextAware.browser"),a.contextAware.browser.getPlatformName=function(){return"undefined"!=typeof navigator&&navigator.platform?navigator.platform:void 0
},a.contextAware.makeChecks({"fluid.browser.platformName":{funcName:"fluid.contextAware.browser.getPlatformName"}})}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.registerNamespace("fluid.enhance"),a.contextAware.isBrowser()&&b.fn&&b("head").append("<style type='text/css'>.fl-progEnhance-basic, .fl-ProgEnhance-basic { display: none; } .fl-progEnhance-enhanced, .fl-ProgEnhance-enhanced { display: block; }</style>")}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.defaults("fluid.textfieldSlider",{gradeNames:["fluid.viewComponent","fluid.contextAware"],components:{textfield:{type:"fluid.textfieldSlider.textfield",container:"{textfieldSlider}.dom.textfield",options:{model:"{textfieldSlider}.model",range:"{textfieldSlider}.options.range",ariaOptions:"{textfieldSlider}.options.ariaOptions",strings:"{textfieldSlider}.options.strings"}},slider:{container:"{textfieldSlider}.dom.slider",options:{model:"{textfieldSlider}.model",range:"{textfieldSlider}.options.range",sliderOptions:"{textfieldSlider}.options.sliderOptions",ariaOptions:"{textfieldSlider}.options.ariaOptions",strings:"{textfieldSlider}.options.strings"}}},contextAwareness:{sliderVariety:{checks:{jQueryUI:{contextValue:"{fluid.prefsWidgetType}",equals:"jQueryUI",gradeNames:"fluid.textfieldSlider.jQueryUI"}},defaultGradeNames:"fluid.textfieldSlider.nativeHTML"}},selectors:{textfield:".flc-textfieldSlider-field",slider:".flc-textfieldSlider-slider"},model:{value:null},modelRelay:{target:"value",singleTransform:{type:"fluid.transforms.limitRange",input:"{that}.model.value",min:"{that}.options.range.min",max:"{that}.options.range.max"}},range:{min:0,max:100},ariaOptions:{},sliderOptions:{orientation:"horizontal",step:1},strings:{}}),a.defaults("fluid.textfieldSlider.nativeHTML",{components:{slider:{type:"fluid.slider.native"}}}),a.defaults("fluid.textfieldSlider.jQueryUI",{components:{slider:{type:"fluid.slider.jQuery"}}}),a.defaults("fluid.textfieldSlider.textfield",{gradeNames:["fluid.viewComponent"],range:{},modelRelay:{target:"value",singleTransform:{type:"fluid.transforms.stringToNumber",input:"{that}.model.stringValue"}},modelListeners:{value:{"this":"{that}.container",method:"val",args:["{change}.value"]},stringValue:{"this":"{that}.container",method:"val",args:["{that}.model.value"]}},listeners:{"onCreate.bindChangeEvt":{"this":"{that}.container",method:"change",args:["{that}.setModel"]},"onCreate.initTextfieldAttributes":{"this":"{that}.container",method:"attr",args:[{"aria-labelledby":"{that}.options.ariaOptions.aria-labelledby","aria-label":"{that}.options.strings.aria-label"}]}},invokers:{setModel:{changePath:"stringValue",value:"{arguments}.0.target.value"}}}),a.defaults("fluid.slider",{gradeNames:["fluid.viewComponent"],range:{}}),a.defaults("fluid.slider.native",{gradeNames:["fluid.slider"],modelRelay:{target:"value",singleTransform:{type:"fluid.transforms.stringToNumber",input:"{that}.model.stringValue"}},invokers:{setModel:{changePath:"stringValue",value:{expander:{"this":"{that}.container",method:"val"}}}},listeners:{"onCreate.initSliderAttributes":{"this":"{that}.container",method:"attr",args:[{min:"{that}.options.range.min",max:"{that}.options.range.max",step:"{that}.options.sliderOptions.step",type:"range",value:"{that}.model.value","aria-labelledby":"{that}.options.ariaOptions.aria-labelledby","aria-label":"{that}.options.strings.aria-label"}]},"onCreate.bindSlideEvt":{"this":"{that}.container",method:"on",args:["input","{that}.setModel"]},"onCreate.bindRangeChangeEvt":{"this":"{that}.container",method:"on",args:["change","{that}.setModel"]}},modelListeners:{value:[{"this":"{that}.container",method:"val",args:["{change}.value"],excludeSource:"init"}]}}),a.defaults("fluid.slider.jQuery",{gradeNames:["fluid.slider"],selectors:{thumb:".ui-slider-handle"},styles:{handle:"fl-slider-handle",range:"fl-slider-range"},members:{slider:{expander:{"this":"{that}.container",method:"slider",args:["{that}.combinedSliderOptions"]}},combinedSliderOptions:{expander:{funcName:"fluid.slider.combineSliderOptions",args:["{that}.options.sliderOptions","{that}.options.range"]}}},sliderOptions:{orientation:"horizontal",step:1,classes:{"ui-slider-handle":"{that}.options.styles.handle","ui-slider-range":"{that}.options.styles.range"}},invokers:{setSliderValue:{"this":"{that}.slider",method:"slider",args:["value","{arguments}.0"]},setSliderAriaValueNow:{"this":"{that}.dom.thumb",method:"attr",args:["aria-valuenow","{arguments}.0"]},setModel:{changePath:"value",value:"{arguments}.1.value"}},listeners:{"onCreate.initSliderAria":{"this":"{that}.dom.thumb",method:"attr",args:[{role:"slider","aria-valuenow":"{that}.combinedSliderOptions.value","aria-valuemin":"{that}.combinedSliderOptions.min","aria-valuemax":"{that}.combinedSliderOptions.max","aria-labelledby":"{that}.options.ariaOptions.aria-labelledby","aria-label":"{that}.options.strings.aria-label"}]},"onCreate.bindSlideEvt":{"this":"{that}.slider",method:"on",args:["slide","{that}.setModel"]}},modelListeners:{value:[{listener:"{that}.setSliderValue",args:["{change}.value"]},{listener:"{that}.setSliderAriaValueNow",args:["{change}.value"]}]}}),a.slider.combineSliderOptions=function(e,d,c){return b.extend(!0,{},e,d,c)}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.registerNamespace("fluid.textToSpeech"),a.textToSpeech.isSupported=function(){return !(!window||!window.speechSynthesis)},a.textToSpeech.checkTTSSupport=function(c){var f=a.promise();if(a.textToSpeech.isSupported()){var e=new SpeechSynthesisUtterance("short");e.volume=0;var d=setTimeout(function(){a.textToSpeech.deferredSpeechSynthesisControl("cancel"),f.reject()},c||5000);e.onend=function(){clearTimeout(d),a.textToSpeech.deferredSpeechSynthesisControl("cancel"),f.resolve()},a.textToSpeech.deferredSpeechSynthesisControl("speak",e)}else{setTimeout(f.reject,0)}return f},a.defaults("fluid.textToSpeech",{gradeNames:["fluid.modelComponent"],events:{onStart:null,onStop:null,onError:null,onSpeechQueued:null},members:{queue:[]},model:{utteranceOpts:{}},modelListeners:{speaking:{listener:"fluid.textToSpeech.speak",args:["{that}","{change}.value"]},pauseRequested:{listener:"fluid.textToSpeech.requestControl",args:["{that}","pause","{change}"]},resumeRequested:{listener:"fluid.textToSpeech.requestControl",args:["{that}","resume","{change}"]}},invokers:{queueSpeech:{funcName:"fluid.textToSpeech.queueSpeech",args:["{that}","{arguments}.0","{arguments}.1","{arguments}.2"]},cancel:{funcName:"fluid.textToSpeech.cancel",args:["{that}"]},pause:{changePath:"pauseRequested",value:!0},resume:{changePath:"resumeRequested",value:!0},getVoices:{"this":"speechSynthesis",method:"getVoices"},handleStart:{changePath:"speaking",value:!0},handleEnd:{funcName:"fluid.textToSpeech.handleEnd",args:["{that}"]},handleError:"{that}.events.onError.fire",handlePause:{changePath:"paused",value:!0},handleResume:{changePath:"paused",value:!1}}}),a.textToSpeech.deferredSpeechSynthesisControl=function(d,c){setTimeout(function(){speechSynthesis[d](c)},1)},a.textToSpeech.throttle=function(e,g,k){var j,d,i,l,h=0;k||(k={});var f=function(){h=k.leading===!1?0:(new Date).getTime(),j=null,l=e.apply(d,i),j||(d=i=null)},c=function(){var m=(new Date).getTime();h||k.leading!==!1||(h=m);var n=g-(m-h);return d=this,i=arguments,n<=0||n>g?(j&&(clearTimeout(j),j=null),h=m,l=e.apply(d,i),j||(d=i=null)):j||k.trailing===!1||(j=setTimeout(f,n)),l};return c.cancel=function(){clearTimeout(j),h=0,j=d=i=null},c},a.textToSpeech.throttleControl=a.textToSpeech.throttle(a.textToSpeech.deferredSpeechSynthesisControl,100,{leading:!1}),a.textToSpeech.speak=function(d,c){d.events[c?"onStart":"onStop"].fire()},a.textToSpeech.requestControl=function(c,d,e){e.value&&(c.applier.change(e.path,!1),a.textToSpeech.throttleControl(d))},a.textToSpeech.handleEnd=function(e){e.queue.shift();var c={speaking:!1,pending:!1,paused:!1};if(e.queue.length){e.applier.change("pending",!0)}else{if(!e.queue.length){var d=b.extend({},e.model,c);e.applier.change("",d)}}},a.textToSpeech.queueSpeech=function(d,g,f,c){f&&d.cancel();var i=function(){d.handleError(g)},e=new SpeechSynthesisUtterance(g),h={onstart:d.handleStart,onend:d.handleEnd,onerror:i,onpause:d.handlePause,onresume:d.handleResume};b.extend(e,d.model.utteranceOpts,c,h),d.queue.push({text:g,utterance:e}),d.events.onSpeechQueued.fire(g),a.textToSpeech.deferredSpeechSynthesisControl("speak",e)},a.textToSpeech.cancel=function(c){c.queue=[],a.textToSpeech.deferredSpeechSynthesisControl("cancel")}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.registerNamespace("fluid.url"),a.url.generateDepth=function(c){return a.generate(c,"../").join("")},a.url.parsePathInfo=function(g){var d={},c=g.split("/");if(c.length>0){var e=c.length-1,f=c[e].indexOf(".");f!==-1&&(d.extension=c[e].substring(f+1),c[e]=c[e].substring(0,f))}return d.pathInfo=c,d},a.url.parsePathInfoTrim=function(d){var c=a.url.parsePathInfo(d);return""===c.pathInfo[c.pathInfo.length-1]&&c.pathInfo.length--,c},a.url.collapseSegs=function(c,g,f){var e="";void 0===g&&(g=0),void 0===f&&(f=c.length);for(var d=g;d<f-1;++d){e+=c[d]+"/"}return f>g&&(e+=c[f-1]),e},a.url.makeRelPath=function(c,d){var e=a.kettle.collapseSegs(c.pathInfo,d);return c.extension&&(e+="."+c.extension),e},a.url.cononocolosePath=function(e){for(var c=0,d=0;d<e.length;++d){".."===e[d]?++c:0!==c&&(e.splice(d-2*c,2*c),d-=2*c,c=0)}return e},a.url.parseUri=function(g){for(var f=a.url.parseUri.options,c=f.parser[f.strictMode?"strict":"loose"].exec(g),e={},d=14;d--;){e[f.key[d]]=c[d]||""}return e[f.q.name]={},e[f.key[12]].replace(f.q.parser,function(i,h,j){h&&(e[f.q.name][h]=j)}),e},a.url.parseUri.options={strictMode:!0,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},a.url.parseSegs=function(e){var c=a.url.parseUri(e),d=a.url.parsePathInfoTrim(c.directory);
return d.pathInfo},a.url.isAbsoluteUrl=function(c){var d=a.url.parseUri(c);return d.host||d.protocol||"/"===d.directory.charAt(0)},a.url.computeRelativePrefix=function(l,i,k){if(a.url.isAbsoluteUrl(k)){return k}var m=a.url.parsePathInfo(k).pathInfo,d=a.url.parseSegs(l),f=d.concat(m);a.url.cononocolosePath(f);for(var e=a.url.parseSegs(i),g=0;g<f.length&&f[g]===e[g];++g){}var j=e.length-g,h=a.url.generateDepth(j),c=a.url.collapseSegs(f,g);return h+c}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.defaults("fluid.prefs.dataSource",{gradeNames:["fluid.component"],invokers:{get:"fluid.notImplemented",set:"fluid.notImplemented"}}),a.defaults("fluid.prefs.store",{gradeNames:["fluid.prefs.dataSource","fluid.contextAware"],contextAwareness:{strategy:{defaultGradeNames:"fluid.prefs.cookieStore"}}}),a.defaults("fluid.prefs.cookieStore",{gradeNames:["fluid.prefs.store"],cookie:{name:"fluid-ui-settings",path:"/",expires:""},invokers:{get:{funcName:"fluid.prefs.cookieStore.get",args:"{that}.options.cookie.name"},set:{funcName:"fluid.prefs.cookieStore.set",args:["{arguments}.0","{that}.options.cookie"]}}}),a.prefs.cookieStore.get=function(k){var f=document.cookie;if(!(f.length<=0)){var c=k+"=",j=f.indexOf(c);if(!(j<0)){j+=c.length;var h=f.indexOf(";",j);h<j&&(h=f.length);var g,d=f.substring(j,h);try{g=JSON.parse(decodeURIComponent(d))}catch(i){a.log("Error parsing cookie "+d+" as JSON - clearing"),document.cookie=""}return g}}},a.prefs.cookieStore.assembleCookie=function(d){var c=d.name+"="+d.data;return d.expires&&(c+="; expires="+d.expires),d.path&&(c+="; path="+d.path),c},a.prefs.cookieStore.set=function(c,d){d.data=encodeURIComponent(JSON.stringify(c)),document.cookie=a.prefs.cookieStore.assembleCookie(d)},a.defaults("fluid.prefs.tempStore",{gradeNames:["fluid.prefs.store","fluid.modelComponent"],invokers:{get:{funcName:"fluid.identity",args:"{that}.model"},set:{funcName:"fluid.prefs.tempStore.set",args:["{arguments}.0","{that}.applier"]}}}),a.prefs.tempStore.set=function(d,c){c.fireChangeRequest({path:"",type:"DELETE"}),c.change("",d)},a.defaults("fluid.prefs.globalSettingsStore",{gradeNames:["fluid.component"],components:{settingsStore:{type:"fluid.prefs.store",options:{gradeNames:["fluid.resolveRootSingle"],singleRootType:"fluid.prefs.store"}}}})}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.defaults("fluid.prefs.initialModel",{gradeNames:["fluid.component"],members:{initialModel:{preferences:{}}}}),a.defaults("fluid.uiEnhancer",{gradeNames:["fluid.viewComponent"],invokers:{updateModel:{func:"{that}.applier.change",args:["","{arguments}.0"]}},userGrades:"@expand:fluid.prefs.filterEnhancerGrades({that}.options.gradeNames)"}),a.defaults("fluid.uiEnhancer.root",{gradeNames:["fluid.uiEnhancer","fluid.resolveRootSingle"],singleRootType:"fluid.uiEnhancer"}),a.uiEnhancer.ignorableGrades=["fluid.uiEnhancer","fluid.uiEnhancer.root","fluid.resolveRoot","fluid.resolveRootSingle"],a.prefs.filterEnhancerGrades=function(c){return a.remove_if(a.makeArray(c),function(d){return a.frameworkGrades.indexOf(d)!==-1||a.uiEnhancer.ignorableGrades.indexOf(d)!==-1})},a.prefs.filterEnhancerOptions=function(c){return a.filterKeys(c,["classnameMap","fontSizeMap","tocTemplate","components"])},a.defaults("fluid.pageEnhancer",{gradeNames:["fluid.component","fluid.originalEnhancerOptions","fluid.prefs.initialModel","fluid.prefs.settingsGetter","fluid.resolveRootSingle"],distributeOptions:{source:"{that}.options.uiEnhancer",target:"{that > uiEnhancer}.options"},singleRootType:"fluid.pageEnhancer",components:{uiEnhancer:{type:"fluid.uiEnhancer.root",container:"body"}},originalUserOptions:"@expand:fluid.prefs.filterEnhancerOptions({uiEnhancer}.options)",listeners:{"onCreate.initModel":"fluid.pageEnhancer.init"}}),a.pageEnhancer.init=function(c){c.uiEnhancer.updateModel(a.get(c.getSettings(),"preferences"))}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.defaults("fluid.prefs.prefsEditorLoader",{gradeNames:["fluid.prefs.settingsGetter","fluid.prefs.initialModel","fluid.viewComponent"],defaultLocale:"en",members:{settings:{expander:{funcName:"fluid.prefs.prefsEditorLoader.getCompleteSettings",args:["{that}.initialModel","{that}.getSettings"]}}},components:{prefsEditor:{priority:"last",type:"fluid.prefs.prefsEditor",createOnEvent:"onCreatePrefsEditorReady",options:{members:{initialModel:"{prefsEditorLoader}.initialModel"},invokers:{getSettings:"{prefsEditorLoader}.getSettings"}}},templateLoader:{type:"fluid.resourceLoader",options:{events:{onResourcesLoaded:"{prefsEditorLoader}.events.onPrefsEditorTemplatesLoaded"}}},messageLoader:{type:"fluid.resourceLoader",options:{defaultLocale:"{prefsEditorLoader}.options.defaultLocale",locale:"{prefsEditorLoader}.settings.locale",resourceOptions:{dataType:"json"},events:{onResourcesLoaded:"{prefsEditorLoader}.events.onPrefsEditorMessagesLoaded"}}}},events:{onPrefsEditorTemplatesLoaded:null,onPrefsEditorMessagesLoaded:null,onCreatePrefsEditorReady:{events:{templateLoaded:"onPrefsEditorTemplatesLoaded",prefsEditorMessagesLoaded:"onPrefsEditorMessagesLoaded"}}},distributeOptions:[{source:"{that}.options.templateLoader",removeSource:!0,target:"{that > templateLoader}.options"},{source:"{that}.options.messageLoader",removeSource:!0,target:"{that > messageLoader}.options"},{source:"{that}.options.terms",target:"{that > templateLoader}.options.terms"},{source:"{that}.options.terms",target:"{that > messageLoader}.options.terms"},{source:"{that}.options.prefsEditor",removeSource:!0,target:"{that > prefsEditor}.options"}]}),a.prefs.prefsEditorLoader.getCompleteSettings=function(e,d){var c=d();return b.extend(!0,{},e,c)},a.defaults("fluid.prefs.transformDefaultPanelsOptions",{gradeNames:["fluid.viewComponent"],distributeOptions:[{source:"{that}.options.textSize",removeSource:!0,target:"{that textSize}.options"},{source:"{that}.options.lineSpace",removeSource:!0,target:"{that lineSpace}.options"},{source:"{that}.options.textFont",removeSource:!0,target:"{that textFont}.options"},{source:"{that}.options.contrast",removeSource:!0,target:"{that contrast}.options"},{source:"{that}.options.layoutControls",removeSource:!0,target:"{that layoutControls}.options"},{source:"{that}.options.linksControls",removeSource:!0,target:"{that linksControls}.options"}]}),a.defaults("fluid.prefs.settingsGetter",{gradeNames:["fluid.component"],members:{getSettings:"{fluid.prefs.store}.get"}}),a.defaults("fluid.prefs.settingsSetter",{gradeNames:["fluid.component"],invokers:{setSettings:{funcName:"fluid.prefs.settingsSetter.setSettings",args:["{arguments}.0","{fluid.prefs.store}.set"]}}}),a.prefs.settingsSetter.setSettings=function(c,e){var d=a.copy(c);e(d)},a.defaults("fluid.prefs.uiEnhancerRelay",{gradeNames:["fluid.modelComponent"],listeners:{"onCreate.addListener":"{that}.addListener","onDestroy.removeListener":"{that}.removeListener"},events:{updateEnhancerModel:"{fluid.prefs.prefsEditor}.events.onUpdateEnhancerModel"},invokers:{addListener:{funcName:"fluid.prefs.uiEnhancerRelay.addListener",args:["{that}.events.updateEnhancerModel","{that}.updateEnhancerModel"]},removeListener:{funcName:"fluid.prefs.uiEnhancerRelay.removeListener",args:["{that}.events.updateEnhancerModel","{that}.updateEnhancerModel"]},updateEnhancerModel:{funcName:"fluid.prefs.uiEnhancerRelay.updateEnhancerModel",args:["{uiEnhancer}","{fluid.prefs.prefsEditor}.model.preferences"]}}}),a.prefs.uiEnhancerRelay.addListener=function(c,d){c.addListener(d)},a.prefs.uiEnhancerRelay.removeListener=function(c,d){c.removeListener(d)},a.prefs.uiEnhancerRelay.updateEnhancerModel=function(d,c){d.updateModel(c)},a.defaults("fluid.prefs.prefsEditor",{gradeNames:["fluid.prefs.settingsGetter","fluid.prefs.settingsSetter","fluid.prefs.initialModel","fluid.viewComponent"],invokers:{fetch:{funcName:"fluid.prefs.prefsEditor.fetch",args:["{that}","{arguments}.0"]},applyChanges:{funcName:"fluid.prefs.prefsEditor.applyChanges",args:["{that}"]},save:{funcName:"fluid.prefs.prefsEditor.save",args:["{that}"]},saveAndApply:{funcName:"fluid.prefs.prefsEditor.saveAndApply",args:["{that}"]},reset:{funcName:"fluid.prefs.prefsEditor.reset",args:["{that}"]},cancel:{funcName:"fluid.prefs.prefsEditor.cancel",args:["{that}"]}},selectors:{cancel:".flc-prefsEditor-cancel",reset:".flc-prefsEditor-reset",save:".flc-prefsEditor-save",previewFrame:".flc-prefsEditor-preview-frame"},events:{onSave:null,onCancel:null,beforeReset:null,afterReset:null,onAutoSave:null,modelChanged:null,onPrefsEditorRefresh:null,onUpdateEnhancerModel:null,onPrefsEditorMarkupReady:null,onReady:null},listeners:{"onCreate.init":"fluid.prefs.prefsEditor.init","onAutoSave.save":"{that}.save"},modelListeners:{"":[{listener:"fluid.prefs.prefsEditor.handleAutoSave",args:["{that}"]},{listener:"{that}.events.modelChanged.fire",args:["{change}.value"]}]},resources:{template:"{templateLoader}.resources.prefsEditor"},autoSave:!1}),a.prefs.prefsEditor.applyChanges=function(c){c.events.onUpdateEnhancerModel.fire()},a.prefs.prefsEditor.fetch=function(d,c){var e=d.getSettings();e=b.extend(!0,{},d.initialModel,e),d.applier.change("",e),c&&d.events[c].fire(d),d.events.onPrefsEditorRefresh.fire(),d.applyChanges()},a.prefs.prefsEditor.save=function(e){if(e.model){var g=a.copy(e.model),f=e.initialModel,d={changes:0,unchanged:0,changeMap:{}},c={};return a.model.diff(g.preferences,a.get(f,["preferences"]),d),0===d.changes?delete g.preferences:(a.each(d.changeMap,function(i,h){a.set(c,h,g.preferences[h])}),g.preferences=c),e.events.onSave.fire(g),e.setSettings(g),g}},a.prefs.prefsEditor.saveAndApply=function(e){var d=e.getSettings(),c=e.save();a.model.diff(a.get(c,"preferences"),a.get(d,"preferences"))||(e.events.onPrefsEditorRefresh.fire(),e.applyChanges())},a.prefs.prefsEditor.reset=function(c){c.events.beforeReset.fire(c),c.applier.fireChangeRequest({path:"",type:"DELETE"}),c.applier.change("",a.copy(c.initialModel)),c.events.onPrefsEditorRefresh.fire(),c.events.afterReset.fire(c)},a.prefs.prefsEditor.cancel=function(c){c.events.onCancel.fire(),c.fetch()
},a.prefs.prefsEditor.finishInit=function(d){var c=function(f){var g=f.locate("save");if(g.length>0){g.click(f.saveAndApply);var e=a.findForm(g);b(e).submit(function(){f.saveAndApply()})}f.locate("reset").click(f.reset),f.locate("cancel").click(f.cancel)};d.container.append(d.options.resources.template.resourceText),c(d),d.fetch("onPrefsEditorMarkupReady"),d.events.onReady.fire(d)},a.prefs.prefsEditor.handleAutoSave=function(c){c.options.autoSave&&c.events.onAutoSave.fire()},a.prefs.prefsEditor.init=function(c){setTimeout(function(){a.isDestroyed(c)||a.prefs.prefsEditor.finishInit(c)},1)},a.defaults("fluid.prefs.preview",{gradeNames:["fluid.viewComponent"],components:{enhancer:{type:"fluid.uiEnhancer",container:"{preview}.enhancerContainer",createOnEvent:"onReady"},templateLoader:"{templateLoader}"},invokers:{updateModel:{funcName:"fluid.prefs.preview.updateModel",args:["{preview}","{prefsEditor}.model.preferences"]}},events:{onReady:null},listeners:{"onCreate.startLoadingContainer":"fluid.prefs.preview.startLoadingContainer","{prefsEditor}.events.modelChanged":"{that}.updateModel","onReady.updateModel":"{that}.updateModel"},templateUrl:"%prefix/PrefsEditorPreview.html"}),a.prefs.preview.updateModel=function(d,c){setTimeout(function(){d.enhancer&&d.enhancer.updateModel(c)},0)},a.prefs.preview.startLoadingContainer=function(c){var d=c.templateLoader.transformURL(c.options.templateUrl);c.container.on("load",function(){c.enhancerContainer=b("body",c.container.contents()),c.events.onReady.fire()}),c.container.attr("src",d)}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.defaults("fluid.prefs.msgLookup",{gradeNames:["fluid.component"],members:{msgLookup:{expander:{funcName:"fluid.prefs.stringLookup",args:["{msgResolver}","{that}.options.stringArrayIndex"]}}},stringArrayIndex:{}}),a.prefs.stringLookup=function(d,c){var e={id:a.allocateGuid()};return e.singleLookup=function(f){var g=d.lookup([f]);return a.get(g,"template")},e.multiLookup=function(f){return a.transform(f,function(g){return e.singleLookup(g)})},e.lookup=function(h){var f=a.get(c,h)||h,g=a.isArrayable(f)?"multiLookup":"singleLookup";return e[g](f)},e.resolvePathSegment=e.lookup,e},a.defaults("fluid.prefs.panel",{gradeNames:["fluid.prefs.msgLookup","fluid.rendererComponent"],events:{onDomBind:null},listeners:{"onCreate.onDomBind":"{that}.events.onDomBind"},components:{msgResolver:{type:"fluid.messageResolver"}},rendererOptions:{messageLocator:"{msgResolver}.resolve"},distributeOptions:{source:"{that}.options.messageBase",target:"{that > msgResolver}.options.messageBase"}}),a.defaults("fluid.prefs.subPanel",{gradeNames:["fluid.prefs.panel","{that}.getDomBindGrade"],listeners:{"{compositePanel}.events.afterRender":{listener:"{that}.events.afterRender",args:["{that}"]},"onCreate.onDomBind":null,"afterRender.onDomBind":"{that}.resetDomBinder"},rules:{expander:{func:"fluid.prefs.subPanel.generateRules",args:["{that}.options.preferenceMap"]}},invokers:{refreshView:"{compositePanel}.refreshView",resetDomBinder:{funcName:"fluid.prefs.subPanel.resetDomBinder",args:["{that}"]},getDomBindGrade:{funcName:"fluid.prefs.subPanel.getDomBindGrade",args:["{prefsEditor}"]}},strings:{},parentBundle:"{compositePanel}.messageResolver",renderOnInit:!1}),a.defaults("fluid.prefs.subPanel.domBind",{gradeNames:["fluid.component"],listeners:{"onDomBind.domChange":{listener:"{prefsEditor}.events.onSignificantDOMChange"}}}),a.prefs.subPanel.getDomBindGrade=function(d){var c=void 0!==a.get(d,"options.events.onSignificantDOMChange");if(c){return"fluid.prefs.subPanel.domBind"}},a.prefs.subPanel.resetDomBinder=function(e){var f=e.container.constructor,d=e.container[0].ownerDocument,c=e.container.selector;e.container=f(c,d),e.container.selector=c,e.container.context=d,0===e.container.length&&a.fail("resetDomBinder got no elements in DOM for container searching for selector "+e.container.selector),a.initDomBinder(e,e.options.selectors),e.events.onDomBind.fire(e)},a.prefs.subPanel.safePrefKey=function(c){return c.replace(/[.]/g,"_")},a.prefs.subPanel.generateRules=function(c){var d={};return a.each(c,function(e,f){a.each(e,function(h,g){0===g.indexOf("model.")&&(d[a.prefs.subPanel.safePrefKey(f)]=g.slice("model.".length))})}),d},a.registerNamespace("fluid.prefs.compositePanel"),a.prefs.compositePanel.arrayMergePolicy=function(d,c){return d=a.makeArray(d),c=a.makeArray(c),a.each(c,function(e){d.indexOf(e)<0&&d.push(e)}),d},a.defaults("fluid.prefs.compositePanel",{gradeNames:["fluid.prefs.panel","{that}.getDistributeOptionsGrade","{that}.getSubPanelLifecycleBindings"],mergePolicy:{subPanelOverrides:"noexpand",selectorsToIgnore:a.prefs.compositePanel.arrayMergePolicy},selectors:{},selectorsToIgnore:[],repeatingSelectors:[],events:{initSubPanels:null},listeners:{"onCreate.combineResources":"{that}.combineResources","onCreate.appendTemplate":{"this":"{that}.container",method:"append",args:["{that}.options.resources.template.resourceText"]},"onCreate.initSubPanels":"{that}.events.initSubPanels","onCreate.hideInactive":"{that}.hideInactive","onCreate.surfaceSubpanelRendererSelectors":"{that}.surfaceSubpanelRendererSelectors","afterRender.hideInactive":"{that}.hideInactive"},invokers:{getDistributeOptionsGrade:{funcName:"fluid.prefs.compositePanel.assembleDistributeOptions",args:["{that}.options.components"]},getSubPanelLifecycleBindings:{funcName:"fluid.prefs.compositePanel.subPanelLifecycleBindings",args:["{that}.options.components"]},combineResources:{funcName:"fluid.prefs.compositePanel.combineTemplates",args:["{that}.options.resources","{that}.options.selectors"]},surfaceSubpanelRendererSelectors:{funcName:"fluid.prefs.compositePanel.surfaceSubpanelRendererSelectors",args:["{that}","{that}.options.components","{that}.options.selectors"]},produceSubPanelTrees:{funcName:"fluid.prefs.compositePanel.produceSubPanelTrees",args:["{that}"]},expandProtoTree:{funcName:"fluid.prefs.compositePanel.expandProtoTree",args:["{that}"]},produceTree:{funcName:"fluid.prefs.compositePanel.produceTree",args:["{that}"]},hideInactive:{funcName:"fluid.prefs.compositePanel.hideInactive",args:["{that}"]},handleRenderOnPreference:{funcName:"fluid.prefs.compositePanel.handleRenderOnPreference",args:["{that}","{that}.refreshView","{that}.conditionalCreateEvent","{arguments}.0","{arguments}.1","{arguments}.2"]},conditionalCreateEvent:{funcName:"fluid.prefs.compositePanel.conditionalCreateEvent"}},subPanelOverrides:{gradeNames:["fluid.prefs.subPanel"]},rendererFnOptions:{noexpand:!0,cutpointGenerator:"fluid.prefs.compositePanel.cutpointGenerator",subPanelRepeatingSelectors:{expander:{funcName:"fluid.prefs.compositePanel.surfaceRepeatingSelectors",args:["{that}.options.components"]}}},components:{},resources:{}}),a.prefs.compositePanel.prefetchComponentOptions=function(e,d){var c=a.getMergedDefaults(e,a.get(d,"gradeNames"));return a.merge(c.mergePolicy,a.copy(c),d)},a.prefs.compositePanel.isPanel=function(d,c){var e=a.prefs.compositePanel.prefetchComponentOptions(d,c);return a.hasGrade(e,"fluid.prefs.panel")},a.prefs.compositePanel.isActivePanel=function(c){return c&&a.hasGrade(c.options,"fluid.prefs.panel")},a.prefs.compositePanel.assembleDistributeOptions=function(e){var f="fluid.prefs.compositePanel.distributeOptions_"+a.allocateGuid(),d=[],c={};return a.each(e,function(k,i){a.prefs.compositePanel.isPanel(k.type,k.options)&&d.push({source:"{that}.options.subPanelOverrides",target:"{that > "+i+"}.options"});var j={},g=a.prefs.compositePanel.prefetchComponentOptions(k.type,k.options),h=a.get(g,["preferenceMap"]);a.each(h,function(l,m){a.each(l,function(o,n){0===n.indexOf("model.")&&a.set(j,n.slice("model.".length),"{compositePanel}.model."+a.prefs.subPanel.safePrefKey(m))})}),c[i]=j,d.push({source:"{that}.options.relayOption."+i,target:"{that > "+i+"}.options.model"})}),a.defaults(f,{gradeNames:["fluid.component"],relayOption:c,distributeOptions:d}),f},a.prefs.compositePanel.conditionalCreateEvent=function(d,c){d&&c()},a.prefs.compositePanel.handleRenderOnPreference=function(f,d,c,h,g,e){e=a.makeArray(e),c(h,g),a.each(e,function(i){var j=f[i];!h&&j&&j.destroy()}),d()},a.prefs.compositePanel.creationEventName=function(c){return"initOn_"+c},a.prefs.compositePanel.generateModelListeners=function(c){return a.transform(c,function(f,d){var e=a.prefs.compositePanel.creationEventName(d);return{func:"{that}.handleRenderOnPreference",args:["{change}.value","{that}.events."+e+".fire",f]}})},a.prefs.compositePanel.subPanelLifecycleBindings=function(g){var i="fluid.prefs.compositePanel.subPanelCreationTimingDistibution_"+a.allocateGuid(),d=[],f={"default":"initSubPanels"},h={},e={},c={};return a.each(g,function(n,k){if(a.prefs.compositePanel.isPanel(n.type,n.options)){var m="default",o=a.get(n,"options.renderOnPreference");if(o){var j=a.prefs.subPanel.safePrefKey(o),l="onCreate."+j;m=a.prefs.compositePanel.creationEventName(j),f[m]=m,c[m]=null,h[j]=h[j]||[],h[j].push(k),e[l]={listener:"{that}.conditionalCreateEvent",args:["{that}.model."+j,"{that}.events."+m+".fire"]}}d.push({source:"{that}.options.subPanelCreationOpts."+m,target:"{that}.options.components."+k+".createOnEvent"})}}),a.defaults(i,{gradeNames:["fluid.component"],events:c,listeners:e,modelListeners:a.prefs.compositePanel.generateModelListeners(h),subPanelCreationOpts:f,distributeOptions:d}),i},a.prefs.compositePanel.hideInactive=function(c){a.each(c.options.components,function(e,d){a.prefs.compositePanel.isPanel(e.type,e.options)&&!a.prefs.compositePanel.isActivePanel(c[d])&&c.locate(d).hide()})},a.prefs.compositePanel.combineTemplates=function(i,g){var d=[],c={children:[]};a.each(i,function(k,j){"template"!==j&&(c.children.push({ID:j,markup:k.resourceText}),d.push({id:j,selector:g[j]}))});var e={base:{resourceText:i.template.resourceText,href:".",resourceKey:".",cutpoints:d}},f=a.parseTemplates(e,["base"]),h=a.renderer(f,c,{cutpoints:d,debugMode:!0});i.template.resourceText=h.renderTemplates()},a.prefs.compositePanel.rebaseSelectorName=function(d,c){return d+"_"+c
},a.prefs.compositePanel.surfaceSubpanelRendererSelectors=function(e,d,c){a.each(d,function(h,f){if(a.prefs.compositePanel.isPanel(h.type,h.options)){var g=a.prefs.compositePanel.prefetchComponentOptions(h.type,h.options);a.each(g.selectors,function(i,j){(!g.selectorsToIgnore||g.selectorsToIgnore.indexOf(j)<0)&&a.set(c,a.prefs.compositePanel.rebaseSelectorName(f,j),c[f]+" "+i)})}})},a.prefs.compositePanel.surfaceRepeatingSelectors=function(d){var c=[];return a.each(d,function(h,e){if(a.prefs.compositePanel.isPanel(h.type,h.options)){var f=a.prefs.compositePanel.prefetchComponentOptions(h.type,h.options),g=a.transform(f.repeatingSelectors,function(i){return a.prefs.compositePanel.rebaseSelectorName(e,i)});c=c.concat(g)}}),c},a.prefs.compositePanel.cutpointGenerator=function(d,c){var e={selectorsToIgnore:c.selectorsToIgnore,repeatingSelectors:c.repeatingSelectors.concat(c.subPanelRepeatingSelectors)};return a.renderer.selectorsToCutpoints(d,e)},a.prefs.compositePanel.rebaseID=function(d,c){return c+"_"+d},a.prefs.compositePanel.rebaseParentRelativeID=function(e,d){var c="..::".length;return e.slice(0,c)+a.prefs.compositePanel.rebaseID(e.slice(c),d)},a.prefs.compositePanel.rebaseValueBinding=function(c,d){return a.find(d,function(f,e){return c===f?e:0===c.indexOf(f)?c.replace(f,e):void 0})||c},a.prefs.compositePanel.rebaseTreeComp=function(c,f,e,g,i){var h=a.copy(e);if(h.ID&&(h.ID=a.prefs.compositePanel.rebaseID(h.ID,g)),h.children){h.children=a.prefs.compositePanel.rebaseTree(c,f,h.children,g,i)}else{if(h.selection){h.selection=a.prefs.compositePanel.rebaseTreeComp(c,f,h.selection,g,i)}else{if(h.messagekey){h.componentType="UIBound",h.value=c.resolve(h.messagekey.value,h.messagekey.args),delete h.messagekey}else{if(h.parentRelativeID){h.parentRelativeID=a.prefs.compositePanel.rebaseParentRelativeID(h.parentRelativeID,g)}else{if(h.valuebinding&&(h.valuebinding=a.prefs.compositePanel.rebaseValueBinding(h.valuebinding,i),h.value)){var d=a.get(f,h.valuebinding);h.value=void 0!==d?d:h.value}}}}}return h},a.prefs.compositePanel.rebaseTree=function(d,e,c,f,h){var g;return g=a.isArrayable(c)?a.transform(c,function(i){return a.prefs.compositePanel.rebaseTreeComp(d,e,i,f,h)}):a.prefs.compositePanel.rebaseTreeComp(d,e,c,f,h)},a.prefs.compositePanel.produceTree=function(f){var e=f.options.produceTree,g=e?("string"==typeof e?a.getGlobalValue(e):e)(f):f.expandProtoTree(),d=f.produceSubPanelTrees(),c={children:g.children.concat(d.children)};return c},a.prefs.compositePanel.expandProtoTree=function(d){var c=a.renderer.modeliseOptions(d.options.expanderOptions,{ELstyle:"${}"},d),e=a.renderer.makeProtoExpander(c,d);return e(d.options.protoTree||{})},a.prefs.compositePanel.produceSubPanelTrees=function(d){var c={children:[]};return a.each(d.options.components,function(h,f){var e=d[f];if(a.prefs.compositePanel.isActivePanel(e)){var g=a.renderer.modeliseOptions(e.options.expanderOptions,{ELstyle:"${}"},e),k=a.renderer.makeProtoExpander(g,e),j=e.produceTree();j=a.get(e.options,"rendererFnOptions.noexpand")?j:k(j);var i=a.prefs.compositePanel.rebaseTree(e.msgResolver,d.model,j,f,e.options.rules);c.children=c.children.concat(i.children)}}),c},a.defaults("fluid.prefs.prefsEditorConnections",{gradeNames:["fluid.component"],listeners:{"{fluid.prefs.prefsEditor}.events.onPrefsEditorRefresh":"{fluid.prefs.panel}.refreshView"},strings:{},parentBundle:"{fluid.prefs.prefsEditorLoader}.msgResolver"}),a.defaults("fluid.prefs.panel.textSize",{gradeNames:["fluid.prefs.panel"],preferenceMap:{"fluid.prefs.textSize":{"model.textSize":"default","range.min":"minimum","range.max":"maximum"}},range:{min:1,max:2},selectors:{textSize:".flc-prefsEditor-min-text-size",label:".flc-prefsEditor-min-text-size-label",multiplier:".flc-prefsEditor-multiplier",textSizeDescr:".flc-prefsEditor-text-size-descr"},selectorsToIgnore:["textSize"],components:{textfieldSlider:{type:"fluid.textfieldSlider",container:"{that}.dom.textSize",createOnEvent:"afterRender",options:{model:{value:"{fluid.prefs.panel.textSize}.model.textSize"},range:"{fluid.prefs.panel.textSize}.options.range",sliderOptions:"{fluid.prefs.panel.textSize}.options.sliderOptions",ariaOptions:{"aria-labelledby":"{textSize}.options.panelOptions.labelId"}}}},protoTree:{label:{messagekey:"textSizeLabel",decorators:{attrs:{id:"{that}.options.panelOptions.labelId"}}},multiplier:{messagekey:"multiplier"},textSizeDescr:{messagekey:"textSizeDescr"}},sliderOptions:{orientation:"horizontal",step:0.1,range:"min"},panelOptions:{labelId:"textSize-label-"+a.allocateGuid()}}),a.defaults("fluid.prefs.panel.textFont",{gradeNames:["fluid.prefs.panel"],preferenceMap:{"fluid.prefs.textFont":{"model.value":"default","controlValues.textFont":"enum"}},selectors:{textFont:".flc-prefsEditor-text-font",label:".flc-prefsEditor-text-font-label",textFontDescr:".flc-prefsEditor-text-font-descr"},stringArrayIndex:{textFont:["textFont-default","textFont-times","textFont-comic","textFont-arial","textFont-verdana"]},protoTree:{label:{messagekey:"textFontLabel"},textFontDescr:{messagekey:"textFontDescr"},textFont:{optionnames:"${{that}.msgLookup.textFont}",optionlist:"${{that}.options.controlValues.textFont}",selection:"${value}",decorators:{type:"fluid",func:"fluid.prefs.selectDecorator",options:{styles:"{that}.options.classnameMap.textFont"}}}},classnameMap:null,controlValues:{textFont:["default","times","comic","arial","verdana"]}}),a.defaults("fluid.prefs.panel.lineSpace",{gradeNames:["fluid.prefs.panel"],preferenceMap:{"fluid.prefs.lineSpace":{"model.lineSpace":"default","range.min":"minimum","range.max":"maximum"}},range:{min:1,max:2},selectors:{lineSpace:".flc-prefsEditor-line-space",label:".flc-prefsEditor-line-space-label",multiplier:".flc-prefsEditor-multiplier",lineSpaceDescr:".flc-prefsEditor-line-space-descr"},selectorsToIgnore:["lineSpace"],components:{textfieldSlider:{type:"fluid.textfieldSlider",container:"{that}.dom.lineSpace",createOnEvent:"afterRender",options:{model:{value:"{fluid.prefs.panel.lineSpace}.model.lineSpace"},range:"{fluid.prefs.panel.lineSpace}.options.range",sliderOptions:"{fluid.prefs.panel.lineSpace}.options.sliderOptions",ariaOptions:{"aria-labelledby":"{lineSpace}.options.panelOptions.labelId"}}}},protoTree:{label:{messagekey:"lineSpaceLabel",decorators:{attrs:{id:"{that}.options.panelOptions.labelId"}}},multiplier:{messagekey:"multiplier"},lineSpaceDescr:{messagekey:"lineSpaceDescr"}},sliderOptions:{orientation:"horizontal",step:0.1,range:"min"},panelOptions:{labelId:"lineSpace-label-"+a.allocateGuid()}}),a.defaults("fluid.prefs.panel.contrast",{gradeNames:["fluid.prefs.panel"],preferenceMap:{"fluid.prefs.contrast":{"model.value":"default","controlValues.theme":"enum"}},listeners:{"afterRender.style":"{that}.style"},selectors:{themeRow:".flc-prefsEditor-themeRow",themeLabel:".flc-prefsEditor-theme-label",themeInput:".flc-prefsEditor-themeInput",label:".flc-prefsEditor-contrast-label",contrastDescr:".flc-prefsEditor-contrast-descr"},styles:{defaultThemeLabel:"fl-prefsEditor-contrast-defaultThemeLabel"},stringArrayIndex:{theme:["contrast-default","contrast-bw","contrast-wb","contrast-by","contrast-yb","contrast-lgdg"]},repeatingSelectors:["themeRow"],protoTree:{label:{messagekey:"contrastLabel"},contrastDescr:{messagekey:"contrastDescr"},expander:{type:"fluid.renderer.selection.inputs",rowID:"themeRow",labelID:"themeLabel",inputID:"themeInput",selectID:"theme-radio",tree:{optionnames:"${{that}.msgLookup.theme}",optionlist:"${{that}.options.controlValues.theme}",selection:"${value}"}}},controlValues:{theme:["default","bw","wb","by","yb","lgdg"]},markup:{label:'<span class="fl-preview-A" aria-hidden="true"></span><span class="fl-hidden-accessible">%theme</span><div class="fl-crossout" aria-hidden="true"></div>'},invokers:{style:{funcName:"fluid.prefs.panel.contrast.style",args:["{that}.dom.themeLabel","{that}.msgLookup.theme","{that}.options.markup.label","{that}.options.controlValues.theme","default","{that}.options.classnameMap.theme","{that}.options.styles.defaultThemeLabel"]}}}),a.prefs.panel.contrast.style=function(i,c,e,g,d,f,h){a.each(i,function(l,k){l=b(l);var m=c[k];l.html(a.stringTemplate(e,{theme:m})),l.attr("aria-label",m);var j=g[k];j===d&&l.addClass(h),l.addClass(f[j])})},a.defaults("fluid.prefs.panel.layoutControls",{gradeNames:["fluid.prefs.panel"],preferenceMap:{"fluid.prefs.tableOfContents":{"model.toc":"default"}},selectors:{toc:".flc-prefsEditor-toc",label:".flc-prefsEditor-toc-label",tocDescr:".flc-prefsEditor-toc-descr"},protoTree:{label:{messagekey:"tocLabel"},tocDescr:{messagekey:"tocDescr"},toc:"${toc}"}}),a.defaults("fluid.prefs.panel.emphasizeLinks",{gradeNames:["fluid.prefs.panel"],preferenceMap:{"fluid.prefs.emphasizeLinks":{"model.links":"default"}},selectors:{links:".flc-prefsEditor-links",linksChoiceLabel:".flc-prefsEditor-links-choice-label"},protoTree:{linksChoiceLabel:{messagekey:"linksChoiceLabel"},links:"${links}"}}),a.defaults("fluid.prefs.panel.inputsLarger",{gradeNames:["fluid.prefs.panel"],preferenceMap:{"fluid.prefs.inputsLarger":{"model.inputsLarger":"default"}},selectors:{inputsLarger:".flc-prefsEditor-inputs-larger",inputsChoiceLabel:".flc-prefsEditor-links-inputs-choice-label"},protoTree:{inputsChoiceLabel:{messagekey:"inputsChoiceLabel"},inputsLarger:"${inputsLarger}"}}),a.defaults("fluid.prefs.panel.linksControls",{gradeNames:["fluid.prefs.compositePanel"],selectors:{label:".flc-prefsEditor-linksControls-label"},protoTree:{label:{messagekey:"linksControlsLabel"}}}),a.defaults("fluid.prefs.selectDecorator",{gradeNames:["fluid.viewComponent"],listeners:{"onCreate.decorateOptions":"fluid.prefs.selectDecorator.decorateOptions"},styles:{preview:"fl-preview-theme"}}),a.prefs.selectDecorator.decorateOptions=function(c){a.each(b("option",c.container),function(d){var e=c.options.styles;b(d).addClass(e.preview+" "+e[a.value(d)])})}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.defaults("fluid.prefs.panel.speak",{gradeNames:["fluid.prefs.panel"],preferenceMap:{"fluid.prefs.speak":{"model.speak":"default"}},selectors:{speak:".flc-prefsEditor-speak",label:".flc-prefsEditor-speak-label",speakDescr:".flc-prefsEditor-speak-descr"},protoTree:{label:{messagekey:"speakLabel"},speakDescr:{messagekey:"speakDescr"},speak:"${speak}"}})
}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.defaults("fluid.prefs.enactor",{gradeNames:["fluid.modelComponent"]}),a.defaults("fluid.prefs.enactor.styleElements",{gradeNames:["fluid.prefs.enactor"],cssClass:null,elementsToStyle:null,invokers:{applyStyle:{funcName:"fluid.prefs.enactor.styleElements.applyStyle",args:["{arguments}.0","{arguments}.1"]},resetStyle:{funcName:"fluid.prefs.enactor.styleElements.resetStyle",args:["{arguments}.0","{arguments}.1"]},handleStyle:{funcName:"fluid.prefs.enactor.styleElements.handleStyle",args:["{arguments}.0","{that}.options.elementsToStyle","{that}.options.cssClass","{that}.applyStyle","{that}.resetStyle"]}},modelListeners:{value:{listener:"{that}.handleStyle",args:["{change}.value"]}}}),a.prefs.enactor.styleElements.applyStyle=function(d,c){d.addClass(c)},a.prefs.enactor.styleElements.resetStyle=function(d,c){b(d,"."+c).addBack().removeClass(c)},a.prefs.enactor.styleElements.handleStyle=function(g,f,c,e,h){var d=g?e:h;d(f,c)},a.defaults("fluid.prefs.enactor.classSwapper",{gradeNames:["fluid.prefs.enactor","fluid.viewComponent"],classes:{},invokers:{clearClasses:{funcName:"fluid.prefs.enactor.classSwapper.clearClasses",args:["{that}.container","{that}.classStr"]},swap:{funcName:"fluid.prefs.enactor.classSwapper.swap",args:["{arguments}.0","{that}","{that}.clearClasses"]}},modelListeners:{value:{listener:"{that}.swap",args:["{change}.value"]}},members:{classStr:{expander:{func:"fluid.prefs.enactor.classSwapper.joinClassStr",args:"{that}.options.classes"}}}}),a.prefs.enactor.classSwapper.clearClasses=function(c,d){c.removeClass(d)},a.prefs.enactor.classSwapper.swap=function(d,c,e){e(),c.container.addClass(c.options.classes[d])},a.prefs.enactor.classSwapper.joinClassStr=function(c){var d="";return a.each(c,function(e){e&&(d+=d?" "+e:e)}),d},a.defaults("fluid.prefs.enactor.emphasizeLinks",{gradeNames:["fluid.prefs.enactor.styleElements","fluid.viewComponent"],preferenceMap:{"fluid.prefs.emphasizeLinks":{"model.value":"default"}},cssClass:null,elementsToStyle:"{that}.container"}),a.defaults("fluid.prefs.enactor.inputsLarger",{gradeNames:["fluid.prefs.enactor.styleElements","fluid.viewComponent"],preferenceMap:{"fluid.prefs.inputsLarger":{"model.value":"default"}},cssClass:null,elementsToStyle:"{that}.container"}),a.defaults("fluid.prefs.enactor.textFont",{gradeNames:["fluid.prefs.enactor.classSwapper"],preferenceMap:{"fluid.prefs.textFont":{"model.value":"default"}}}),a.defaults("fluid.prefs.enactor.contrast",{gradeNames:["fluid.prefs.enactor.classSwapper"],preferenceMap:{"fluid.prefs.contrast":{"model.value":"default"}}}),a.prefs.enactor.getTextSizeInPx=function(c,d){var e=c.css("font-size");return d[e]&&(e=d[e]),parseFloat(e)},a.defaults("fluid.prefs.enactor.textSize",{gradeNames:["fluid.prefs.enactor","fluid.viewComponent"],preferenceMap:{"fluid.prefs.textSize":{"model.value":"default"}},members:{root:{expander:{"this":"{that}.container",method:"closest",args:["html"]}}},fontSizeMap:{},invokers:{set:{funcName:"fluid.prefs.enactor.textSize.set",args:["{arguments}.0","{that}","{that}.getTextSizeInPx"]},getTextSizeInPx:{funcName:"fluid.prefs.enactor.getTextSizeInPx",args:["{that}.root","{that}.options.fontSizeMap"]}},modelListeners:{value:{listener:"{that}.set",args:["{change}.value"]}}}),a.prefs.enactor.textSize.set=function(f,e,c){if(f=f||1,e.initialSize||(e.initialSize=c()),e.initialSize){var d=f*e.initialSize;e.root.css("font-size",d+"px")}},a.defaults("fluid.prefs.enactor.lineSpace",{gradeNames:["fluid.prefs.enactor","fluid.viewComponent"],preferenceMap:{"fluid.prefs.lineSpace":{"model.value":"default"}},fontSizeMap:{},invokers:{set:{funcName:"fluid.prefs.enactor.lineSpace.set",args:["{arguments}.0","{that}","{that}.getLineHeightMultiplier"]},getTextSizeInPx:{funcName:"fluid.prefs.enactor.getTextSizeInPx",args:["{that}.container","{that}.options.fontSizeMap"]},getLineHeight:{funcName:"fluid.prefs.enactor.lineSpace.getLineHeight",args:"{that}.container"},getLineHeightMultiplier:{funcName:"fluid.prefs.enactor.lineSpace.getLineHeightMultiplier",args:[{expander:{func:"{that}.getLineHeight"}},{expander:{func:"{that}.getTextSizeInPx"}}]}},modelListeners:{value:{listener:"{that}.set",args:["{change}.value"]}}}),a.prefs.enactor.lineSpace.getLineHeight=function(c){return c.css("line-height")},a.prefs.enactor.lineSpace.getLineHeightMultiplier=function(c,d){return c?"normal"===c?1.2:c.match(/[0-9]$/)?Number(c):Math.round(parseFloat(c)/d*100)/100:0},a.prefs.enactor.lineSpace.set=function(f,e,c){if(e.initialSize||(e.initialSize=c()),e.initialSize){var d=f*e.initialSize;e.container.css("line-height",d)}},a.defaults("fluid.prefs.enactor.tableOfContents",{gradeNames:["fluid.prefs.enactor","fluid.viewComponent"],preferenceMap:{"fluid.prefs.tableOfContents":{"model.toc":"default"}},tocTemplate:null,components:{tableOfContents:{type:"fluid.tableOfContents",container:"{fluid.prefs.enactor.tableOfContents}.container",createOnEvent:"onCreateTOCReady",options:{components:{levels:{type:"fluid.tableOfContents.levels",options:{resources:{template:{forceCache:!0,url:"{fluid.prefs.enactor.tableOfContents}.options.tocTemplate"}}}}},listeners:{"afterRender.boilAfterTocRender":"{fluid.prefs.enactor.tableOfContents}.events.afterTocRender"}}}},invokers:{applyToc:{funcName:"fluid.prefs.enactor.tableOfContents.applyToc",args:["{arguments}.0","{that}"]}},events:{onCreateTOCReady:null,afterTocRender:null,onLateRefreshRelay:null},modelListeners:{toc:{listener:"{that}.applyToc",args:["{change}.value"]}},distributeOptions:{source:"{that}.options.ignoreForToC",target:"{that tableOfContents}.options.ignoreForToC"}}),a.prefs.enactor.tableOfContents.applyToc=function(d,c){d?c.tableOfContents?c.tableOfContents.show():c.events.onCreateTOCReady.fire():c.tableOfContents&&c.tableOfContents.hide()}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.defaults("fluid.prefs.enactor.speak",{gradeNames:"fluid.prefs.enactor",preferenceMap:{"fluid.prefs.speak":{"model.enabled":"default"}},components:{tts:{type:"fluid.textToSpeech",options:{model:"{speak}.model",invokers:{queueSpeech:{funcName:"fluid.prefs.enactor.speak.queueSpeech",args:["{that}","fluid.textToSpeech.queueSpeech","{arguments}.0","{arguments}.1","{arguments}.2"]}}}}}}),a.prefs.enactor.speak.queueSpeech=function(d,h,g,f,c){var e=g.toString();e=e.trim(),e.replace(/\s{2,}/gi," "),d.model.enabled&&e&&("string"==typeof h?a.invokeGlobalFunction(h,[d,e,f,c]):h(d,e,f,c))},a.defaults("fluid.prefs.enactor.selfVoicing",{gradeNames:["fluid.prefs.enactor.speak","fluid.viewComponent"],modelListeners:{enabled:{listener:"{that}.handleSelfVoicing",args:["{change}.value"]}},invokers:{handleSelfVoicing:{funcName:"fluid.prefs.enactor.selfVoicing.handleSelfVoicing",args:["{that}.options.strings.welcomeMsg","{tts}.queueSpeech","{that}.readFromDOM","{tts}.cancel","{arguments}.0"]},readFromDOM:{funcName:"fluid.prefs.enactor.selfVoicing.readFromDOM",args:["{that}","{that}.container"]}},strings:{welcomeMsg:"text to speech enabled"}}),a.prefs.enactor.selfVoicing.handleSelfVoicing=function(g,d,f,e,c){c?(d(g,!0),f()):e()},a.prefs.enactor.selfVoicing.nodeType={ELEMENT_NODE:1,TEXT_NODE:3},a.prefs.enactor.selfVoicing.readFromDOM=function(d,e){e=b(e);var c=e.contents();a.each(c,function(g){if(g.nodeType===a.prefs.enactor.selfVoicing.nodeType.TEXT_NODE&&g.nodeValue&&d.tts.queueSpeech(g.nodeValue),g.nodeType===a.prefs.enactor.selfVoicing.nodeType.ELEMENT_NODE&&"none"!==window.getComputedStyle(g).display){if("IMG"===g.nodeName){var f=g.getAttribute("alt");f&&d.tts.queueSpeech(f)}else{a.prefs.enactor.selfVoicing.readFromDOM(d,g)}}})}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.defaults("fluid.prefs.initialModel.starter",{gradeNames:["fluid.prefs.initialModel"],members:{initialModel:{preferences:{textFont:"default",theme:"default",textSize:1,lineSpace:1,toc:!1,links:!1,inputsLarger:!1}}}}),a.defaults("fluid.uiEnhancer.cssClassEnhancerBase",{gradeNames:["fluid.component"],classnameMap:{textFont:{"default":"",times:"fl-font-times",comic:"fl-font-comic-sans",arial:"fl-font-arial",verdana:"fl-font-verdana"},theme:{"default":"fl-theme-prefsEditor-default",bw:"fl-theme-bw",wb:"fl-theme-wb",by:"fl-theme-by",yb:"fl-theme-yb",lgdg:"fl-theme-lgdg"},links:"fl-link-enhanced",inputsLarger:"fl-text-larger"}}),a.defaults("fluid.uiEnhancer.browserTextEnhancerBase",{gradeNames:["fluid.component"],fontSizeMap:{"xx-small":"9px","x-small":"11px",small:"13px",medium:"15px",large:"18px","x-large":"23px","xx-large":"30px"}}),a.defaults("fluid.uiEnhancer.starterEnactors",{gradeNames:["fluid.uiEnhancer","fluid.uiEnhancer.cssClassEnhancerBase","fluid.uiEnhancer.browserTextEnhancerBase"],model:"{fluid.prefs.initialModel}.initialModel.preferences",components:{textSize:{type:"fluid.prefs.enactor.textSize",container:"{uiEnhancer}.container",options:{fontSizeMap:"{uiEnhancer}.options.fontSizeMap",model:{value:"{uiEnhancer}.model.textSize"}}},textFont:{type:"fluid.prefs.enactor.textFont",container:"{uiEnhancer}.container",options:{classes:"{uiEnhancer}.options.classnameMap.textFont",model:{value:"{uiEnhancer}.model.textFont"}}},lineSpace:{type:"fluid.prefs.enactor.lineSpace",container:"{uiEnhancer}.container",options:{fontSizeMap:"{uiEnhancer}.options.fontSizeMap",model:{value:"{uiEnhancer}.model.lineSpace"}}},contrast:{type:"fluid.prefs.enactor.contrast",container:"{uiEnhancer}.container",options:{classes:"{uiEnhancer}.options.classnameMap.theme",model:{value:"{uiEnhancer}.model.theme"}}},emphasizeLinks:{type:"fluid.prefs.enactor.emphasizeLinks",container:"{uiEnhancer}.container",options:{cssClass:"{uiEnhancer}.options.classnameMap.links",model:{value:"{uiEnhancer}.model.links"}}},inputsLarger:{type:"fluid.prefs.enactor.inputsLarger",container:"{uiEnhancer}.container",options:{cssClass:"{uiEnhancer}.options.classnameMap.inputsLarger",model:{value:"{uiEnhancer}.model.inputsLarger"}}},tableOfContents:{type:"fluid.prefs.enactor.tableOfContents",container:"{uiEnhancer}.container",options:{tocTemplate:"{uiEnhancer}.options.tocTemplate",model:{toc:"{uiEnhancer}.model.toc"}}}}}),a.defaults("fluid.prefs.starterPanels",{gradeNames:["fluid.prefs.prefsEditor"],selectors:{textSize:".flc-prefsEditor-text-size",textFont:".flc-prefsEditor-text-font",lineSpace:".flc-prefsEditor-line-space",contrast:".flc-prefsEditor-contrast",textControls:".flc-prefsEditor-text-controls",layoutControls:".flc-prefsEditor-layout-controls",linksControls:".flc-prefsEditor-links-controls"},components:{textSize:{type:"fluid.prefs.panel.textSize",container:"{prefsEditor}.dom.textSize",createOnEvent:"onPrefsEditorMarkupReady",options:{gradeNames:"fluid.prefs.prefsEditorConnections",model:{textSize:"{prefsEditor}.model.preferences.textSize"},messageBase:"{messageLoader}.resources.textSize.resourceText",resources:{template:"{templateLoader}.resources.textSize"}}},lineSpace:{type:"fluid.prefs.panel.lineSpace",container:"{prefsEditor}.dom.lineSpace",createOnEvent:"onPrefsEditorMarkupReady",options:{gradeNames:"fluid.prefs.prefsEditorConnections",model:{lineSpace:"{prefsEditor}.model.preferences.lineSpace"},messageBase:"{messageLoader}.resources.lineSpace.resourceText",resources:{template:"{templateLoader}.resources.lineSpace"}}},textFont:{type:"fluid.prefs.panel.textFont",container:"{prefsEditor}.dom.textFont",createOnEvent:"onPrefsEditorMarkupReady",options:{gradeNames:"fluid.prefs.prefsEditorConnections",classnameMap:"{uiEnhancer}.options.classnameMap",model:{value:"{prefsEditor}.model.preferences.textFont"},messageBase:"{messageLoader}.resources.textFont.resourceText",resources:{template:"{templateLoader}.resources.textFont"}}},contrast:{type:"fluid.prefs.panel.contrast",container:"{prefsEditor}.dom.contrast",createOnEvent:"onPrefsEditorMarkupReady",options:{gradeNames:"fluid.prefs.prefsEditorConnections",classnameMap:"{uiEnhancer}.options.classnameMap",model:{value:"{prefsEditor}.model.preferences.theme"},messageBase:"{messageLoader}.resources.contrast.resourceText",resources:{template:"{templateLoader}.resources.contrast"}}},layoutControls:{type:"fluid.prefs.panel.layoutControls",container:"{prefsEditor}.dom.layoutControls",createOnEvent:"onPrefsEditorMarkupReady",options:{gradeNames:"fluid.prefs.prefsEditorConnections",model:{toc:"{prefsEditor}.model.preferences.toc"},messageBase:"{messageLoader}.resources.layoutControls.resourceText",resources:{template:"{templateLoader}.resources.layoutControls"}}},linksControls:{type:"fluid.prefs.panel.linksControls",container:"{prefsEditor}.dom.linksControls",createOnEvent:"onPrefsEditorMarkupReady",options:{gradeNames:"fluid.prefs.prefsEditorConnections",selectors:{emphasizeLinks:".flc-prefsEditor-emphasizeLinks",inputsLarger:".flc-prefsEditor-inputsLarger"},selectorsToIgnore:["emphasizeLinks","inputsLarger"],model:{fluid_prefs_emphasizeLinks:"{prefsEditor}.model.preferences.links",fluid_prefs_inputsLarger:"{prefsEditor}.model.preferences.inputsLarger"},components:{emphasizeLinks:{type:"fluid.prefs.panel.emphasizeLinks",container:"{that}.dom.emphasizeLinks",createOnEvent:"initSubPanels",options:{messageBase:"{messageLoader}.resources.emphasizeLinks.resourceText"}},inputsLarger:{type:"fluid.prefs.panel.inputsLarger",container:"{that}.dom.inputsLarger",createOnEvent:"initSubPanels",options:{messageBase:"{messageLoader}.resources.inputsLarger.resourceText"}}},messageBase:"{messageLoader}.resources.linksControls.resourceText",resources:{template:"{templateLoader}.resources.linksControls",emphasizeLinks:"{templateLoader}.resources.emphasizeLinks",inputsLarger:"{templateLoader}.resources.inputsLarger"}}}}}),a.defaults("fluid.prefs.starterTemplateLoader",{gradeNames:["fluid.resourceLoader","fluid.contextAware"],resources:{textFont:"%templatePrefix/PrefsEditorTemplate-textFont.html",contrast:"%templatePrefix/PrefsEditorTemplate-contrast.html",layoutControls:"%templatePrefix/PrefsEditorTemplate-layout.html",linksControls:"%templatePrefix/PrefsEditorTemplate-linksControls.html",emphasizeLinks:"%templatePrefix/PrefsEditorTemplate-emphasizeLinks.html",inputsLarger:"%templatePrefix/PrefsEditorTemplate-inputsLarger.html"},contextAwareness:{startTemplateLoaderPrefsWidgetType:{checks:{jQueryUI:{contextValue:"{fluid.prefsWidgetType}",equals:"jQueryUI",gradeNames:"fluid.prefs.starterTemplateLoader.jQuery"}},defaultGradeNames:"fluid.prefs.starterTemplateLoader.native"}}}),a.defaults("fluid.prefs.starterTemplateLoader.native",{resources:{textSize:"%templatePrefix/PrefsEditorTemplate-textSize-nativeHTML.html",lineSpace:"%templatePrefix/PrefsEditorTemplate-lineSpace-nativeHTML.html"}}),a.defaults("fluid.prefs.starterTemplateLoader.jQuery",{resources:{textSize:"%templatePrefix/PrefsEditorTemplate-textSize-jQueryUI.html",lineSpace:"%templatePrefix/PrefsEditorTemplate-lineSpace-jQueryUI.html"}}),a.defaults("fluid.prefs.starterSeparatedPanelTemplateLoader",{gradeNames:["fluid.prefs.starterTemplateLoader"],resources:{prefsEditor:"%templatePrefix/SeparatedPanelPrefsEditor.html"}}),a.defaults("fluid.prefs.starterFullPreviewTemplateLoader",{gradeNames:["fluid.prefs.starterTemplateLoader"],resources:{prefsEditor:"%templatePrefix/FullPreviewPrefsEditor.html"}}),a.defaults("fluid.prefs.starterFullNoPreviewTemplateLoader",{gradeNames:["fluid.prefs.starterTemplateLoader"],resources:{prefsEditor:"%templatePrefix/FullNoPreviewPrefsEditor.html"}}),a.defaults("fluid.prefs.starterMessageLoader",{gradeNames:["fluid.resourceLoader"],resources:{prefsEditor:"%messagePrefix/prefsEditor.json",textSize:"%messagePrefix/textSize.json",textFont:"%messagePrefix/textFont.json",lineSpace:"%messagePrefix/lineSpace.json",contrast:"%messagePrefix/contrast.json",layoutControls:"%messagePrefix/tableOfContents.json",linksControls:"%messagePrefix/linksControls.json",emphasizeLinks:"%messagePrefix/emphasizeLinks.json",inputsLarger:"%messagePrefix/inputsLarger.json"}})
}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.registerNamespace("fluid.dom"),a.dom.getDocumentHeight=function(d){var c=b("body",d)[0];return c.offsetHeight},a.defaults("fluid.prefs.separatedPanel",{gradeNames:["fluid.prefs.prefsEditorLoader","fluid.contextAware"],events:{afterRender:null,onReady:null,onCreateSlidingPanelReady:{events:{iframeRendered:"afterRender",onPrefsEditorMessagesLoaded:"onPrefsEditorMessagesLoaded"}},templatesAndIframeReady:{events:{iframeReady:"afterRender",templatesLoaded:"onPrefsEditorTemplatesLoaded",messagesLoaded:"onPrefsEditorMessagesLoaded"}}},lazyLoad:!1,contextAwareness:{lazyLoad:{checks:{lazyLoad:{contextValue:"{fluid.prefs.separatedPanel}.options.lazyLoad",gradeNames:"fluid.prefs.separatedPanel.lazyLoad"}}},separatedPanelPrefsWidgetType:{checks:{jQueryUI:{contextValue:"{fluid.prefsWidgetType}",equals:"jQueryUI",gradeNames:"fluid.prefs.separatedPanel.jQueryUI"}},defaultGradeNames:"fluid.prefs.separatedPanel.nativeHTML"}},selectors:{reset:".flc-prefsEditor-reset",iframe:".flc-prefsEditor-iframe"},listeners:{"onReady.bindEvents":{listener:"fluid.prefs.separatedPanel.bindEvents",args:["{separatedPanel}.prefsEditor","{iframeRenderer}.iframeEnhancer","{separatedPanel}"]},"onCreate.hideReset":{listener:"fluid.prefs.separatedPanel.hideReset",args:["{separatedPanel}"]}},invokers:{bindReset:{funcName:"fluid.bind",args:["{separatedPanel}.dom.reset","click","{arguments}.0"]}},components:{slidingPanel:{type:"fluid.slidingPanel",container:"{separatedPanel}.container",createOnEvent:"onCreateSlidingPanelReady",options:{gradeNames:["fluid.prefs.msgLookup"],strings:{showText:"{that}.msgLookup.slidingPanelShowText",hideText:"{that}.msgLookup.slidingPanelHideText",showTextAriaLabel:"{that}.msgLookup.showTextAriaLabel",hideTextAriaLabel:"{that}.msgLookup.hideTextAriaLabel",panelLabel:"{that}.msgLookup.slidingPanelPanelLabel"},invokers:{operateShow:{funcName:"fluid.prefs.separatedPanel.showPanel",args:["{that}.dom.panel","{that}.events.afterPanelShow.fire"],"this":null,method:null},operateHide:{funcName:"fluid.prefs.separatedPanel.hidePanel",args:["{that}.dom.panel","{iframeRenderer}.iframe","{that}.events.afterPanelHide.fire"],"this":null,method:null}},components:{msgResolver:{type:"fluid.messageResolver",options:{messageBase:"{messageLoader}.resources.prefsEditor.resourceText"}}}}},iframeRenderer:{type:"fluid.prefs.separatedPanel.renderIframe",container:"{separatedPanel}.dom.iframe",options:{events:{afterRender:"{separatedPanel}.events.afterRender"},components:{iframeEnhancer:{type:"fluid.uiEnhancer",container:"{iframeRenderer}.renderPrefsEditorContainer",createOnEvent:"afterRender",options:{gradeNames:["{pageEnhancer}.uiEnhancer.options.userGrades"],jQuery:"{iframeRenderer}.jQuery",tocTemplate:"{pageEnhancer}.uiEnhancer.options.tocTemplate"}}}}},prefsEditor:{createOnEvent:"templatesAndIframeReady",container:"{iframeRenderer}.renderPrefsEditorContainer",options:{gradeNames:["fluid.prefs.uiEnhancerRelay"],model:"{separatedPanel}.model",events:{onSignificantDOMChange:null,updateEnhancerModel:"{that}.events.modelChanged"},listeners:{"modelChanged.save":"{that}.save","onCreate.bindReset":{listener:"{separatedPanel}.bindReset",args:["{that}.reset"]},"afterReset.applyChanges":"{that}.applyChanges","onReady.boilOnReady":{listener:"{separatedPanel}.events.onReady",args:"{separatedPanel}"}}}}},outerEnhancerOptions:"{originalEnhancerOptions}.options.originalUserOptions",distributeOptions:[{source:"{that}.options.slidingPanel",removeSource:!0,target:"{that > slidingPanel}.options"},{source:"{that}.options.iframeRenderer",removeSource:!0,target:"{that > iframeRenderer}.options"},{source:"{that}.options.iframe",removeSource:!0,target:"{that}.options.selectors.iframe"},{source:"{that}.options.outerEnhancerOptions",removeSource:!0,target:"{that iframeEnhancer}.options"},{source:"{that}.options.terms",target:"{that > iframeRenderer}.options.terms"}]}),a.defaults("fluid.prefs.separatedPanel.nativeHTML",{components:{iframeRenderer:{options:{markupProps:{src:"%templatePrefix/SeparatedPanelPrefsEditorFrame-nativeHTML.html"}}}}}),a.defaults("fluid.prefs.separatedPanel.jQueryUI",{components:{iframeRenderer:{options:{markupProps:{src:"%templatePrefix/SeparatedPanelPrefsEditorFrame-jQueryUI.html"}}}}}),a.prefs.separatedPanel.hideReset=function(c){c.locate("reset").hide()},a.defaults("fluid.prefs.separatedPanel.renderIframe",{gradeNames:["fluid.viewComponent"],events:{afterRender:null},styles:{container:"fl-prefsEditor-separatedPanel-iframe"},terms:{templatePrefix:"."},markupProps:{"class":"flc-iframe",src:"%templatePrefix/prefsEditorIframe.html"},listeners:{"onCreate.startLoadingIframe":"fluid.prefs.separatedPanel.renderIframe.startLoadingIframe"}}),a.prefs.separatedPanel.renderIframe.startLoadingIframe=function(d){var c=d.options.styles;d.options.markupProps.src=a.stringTemplate(d.options.markupProps.src,d.options.terms),d.iframeSrc=d.options.markupProps.src,d.iframe=b("<iframe/>"),d.iframe.on("load",function(){var e=d.iframe[0].contentWindow;d.iframeDocument=e.document,d.jQuery=e.jQuery||b,d.renderPrefsEditorContainer=d.jQuery("body",d.iframeDocument),d.jQuery(d.iframeDocument).ready(d.events.afterRender.fire)}),d.iframe.attr(d.options.markupProps),d.iframe.addClass(c.container),d.iframe.hide(),d.iframe.appendTo(d.container)},a.prefs.separatedPanel.updateView=function(c){c.events.onPrefsEditorRefresh.fire(),c.events.onSignificantDOMChange.fire()},a.prefs.separatedPanel.bindEvents=function(f,c,e){var d=e.slidingPanel.panelId;e.locate("reset").attr({"aria-controls":d,role:"button"}),e.slidingPanel.events.afterPanelShow.addListener(function(){a.prefs.separatedPanel.updateView(f)},"updateView","after:openPanel"),f.events.onPrefsEditorRefresh.addListener(function(){c.updateModel(f.model.preferences)},"updateModel"),f.events.afterReset.addListener(function(g){a.prefs.separatedPanel.updateView(g)},"updateView"),f.events.onSignificantDOMChange.addListener(function(){var k=f.container[0].ownerDocument,g=a.dom.getDocumentHeight(k),j=e.iframeRenderer.iframe,i={height:g+15},h=e.slidingPanel.locate("panel");h.css({height:""}),j.animate(i,400)},"adjustHeight"),e.slidingPanel.events.afterPanelHide.addListener(function(){e.iframeRenderer.iframe.height(0),e.iframeRenderer.iframe.hide()},"collapseFrame"),e.slidingPanel.events.afterPanelShow.addListener(function(){e.iframeRenderer.iframe.show(),e.locate("reset").show()},"openPanel"),e.slidingPanel.events.onPanelHide.addListener(function(){e.locate("reset").hide()},"hideReset")},a.prefs.separatedPanel.hidePanel=function(c,d,e){d.clearQueue(),b(c).animate({height:0},{duration:400,complete:e})},a.prefs.separatedPanel.showPanel=function(c,d){a.invokeLater(d)},a.defaults("fluid.prefs.separatedPanel.lazyLoad",{events:{onLazyLoad:null,onPrefsEditorMessagesPreloaded:null,onCreateSlidingPanelReady:{events:{onPrefsEditorMessagesLoaded:"onPrefsEditorMessagesPreloaded"}},templatesAndIframeReady:{events:{onLazyLoad:"onLazyLoad"}}},components:{templateLoader:{createOnEvent:"onLazyLoad"},messageLoader:{options:{events:{onResourcesPreloaded:"{separatedPanel}.events.onPrefsEditorMessagesPreloaded"},preloadResources:"prefsEditor",listeners:{"onCreate.loadResources":{listener:"fluid.prefs.separatedPanel.lazyLoad.preloadResources",args:["{that}",{expander:{func:"{that}.resolveResources"}},"{that}.options.preloadResources"]},"{separatedPanel}.events.onLazyLoad":{listener:"fluid.resourceLoader.loadResources",args:["{messageLoader}",{expander:{func:"{messageLoader}.resolveResources"}}]}}}},slidingPanel:{options:{invokers:{operateShow:{funcName:"fluid.prefs.separatedPanel.lazyLoad.showPanel",args:["{separatedPanel}","{that}.events.afterPanelShow.fire"]}}}}}}),a.prefs.separatedPanel.lazyLoad.showPanel=function(c,d){c.prefsEditor?a.invokeLater(d):(c.events.onReady.addListener(function(e){e.events.onReady.removeListener("showPanelCallBack"),a.invokeLater(d)},"showPanelCallBack"),c.events.onLazyLoad.fire())},a.prefs.separatedPanel.lazyLoad.preloadResources=function(e,f,c){c=a.makeArray(c);var d={};a.each(c,function(g){d[g]=f[g]}),a.fetchResources(d,function(){e.resources=d,e.events.onResourcesPreloaded.fire(d)})}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.defaults("fluid.prefs.fullNoPreview",{gradeNames:["fluid.prefs.prefsEditorLoader"],components:{prefsEditor:{container:"{that}.container",options:{listeners:{"afterReset.applyChanges":{listener:"{that}.applyChanges"},"afterReset.save":{listener:"{that}.save",priority:"after:applyChanges"},"onReady.boilOnReady":{listener:"{fullNoPreview}.events.onReady",args:"{fullNoPreview}"}}}}},events:{onReady:null}})}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.defaults("fluid.prefs.fullPreview",{gradeNames:["fluid.prefs.prefsEditorLoader"],outerUiEnhancerOptions:"{originalEnhancerOptions}.options.originalUserOptions",outerUiEnhancerGrades:"{originalEnhancerOptions}.uiEnhancer.options.userGrades",components:{prefsEditor:{container:"{that}.container",options:{components:{preview:{type:"fluid.prefs.preview",createOnEvent:"onReady",container:"{prefsEditor}.dom.previewFrame",options:{listeners:{"onReady.boilOnPreviewReady":"{fullPreview}.events.onPreviewReady"}}}},listeners:{"onReady.boilOnPrefsEditorReady":"{fullPreview}.events.onPrefsEditorReady"},distributeOptions:{source:"{that}.options.preview",removeSource:!0,target:"{that > preview}.options"}}}},events:{onPrefsEditorReady:null,onPreviewReady:null,onReady:{events:{onPrefsEditorReady:"onPrefsEditorReady",onPreviewReady:"onPreviewReady"},args:"{that}"}},distributeOptions:[{source:"{that}.options.outerUiEnhancerOptions",target:"{that enhancer}.options"},{source:"{that}.options.preview",target:"{that preview}.options"},{source:"{that}.options.previewEnhancer",target:"{that enhancer}.options"},{source:"{that}.options.outerUiEnhancerGrades",target:"{that enhancer}.options.gradeNames"}]})}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.registerNamespace("fluid.prefs.schemas"),a.prefs.schemas.merge=function(d,c){return d||(d={type:"object",properties:{}}),c=c.properties||c,b.extend(!0,d.properties,c),d
},a.defaults("fluid.prefs.primaryBuilder",{gradeNames:["fluid.component","{that}.buildPrimary"],schemaIndex:{expander:{func:"fluid.indexDefaults",args:["schemaIndex",{gradeNames:"fluid.prefs.schemas",indexFunc:"fluid.prefs.primaryBuilder.defaultSchemaIndexer"}]}},primarySchema:{},typeFilter:[],invokers:{buildPrimary:{funcName:"fluid.prefs.primaryBuilder.buildPrimary",args:["{that}.options.schemaIndex","{that}.options.typeFilter","{that}.options.primarySchema"]}}}),a.prefs.primaryBuilder.buildPrimary=function(c,f,e){var g="fluid.prefs.schemas.suppliedPrimary"+a.allocateGuid();a.defaults(g,{gradeNames:["fluid.prefs.schemas"],schema:a.filterKeys(e.properties||e,f,!1)});var d=[];return a.each(f,function(h){var i=c[h];i&&d.push.apply(d,i)}),d.push(g),d},a.prefs.primaryBuilder.defaultSchemaIndexer=function(c){if(c.schema){return a.keys(c.schema.properties)}},a.defaults("fluid.prefs.schemas",{gradeNames:["fluid.component"],mergePolicy:{schema:a.prefs.schemas.merge}})}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.registerNamespace("fluid.prefs"),a.defaults("fluid.prefs.auxSchema",{gradeNames:["fluid.component"],auxiliarySchema:{loaderGrades:["fluid.prefs.separatedPanel"]}}),a.prefs.expandSchemaValue=function(c,d){return"@"!==d.charAt(0)?d:a.get(c,d.substring(1))},a.prefs.addAtPath=function(d,f,e){var c=a.get(d,f);return a.set(d,f,b.extend(!0,{},c,e)),d},a.prefs.removeKey=function(c,d){var e=c[d];return delete c[d],e},a.prefs.rearrangeDirect=function(d,g,f){var c={},e=a.prefs.removeKey(d,f);return e&&a.set(c,g,e),c},a.prefs.addCommonOptions=function(c,i,h,g){g=g||{};var d=a.get(c,i);if(!d){return c}var f={},e={};return a.each(h,function(l,k){if("container"===k){var j=a.get(c,[i,"type"]),m=a.defaults(j);if(void 0===a.get(m,["argumentMap","container"])){return !1}}k.indexOf("gradeNames")!==-1&&(e[k]=a.arrayConcatPolicy),k=a.stringTemplate(k,g),l="string"==typeof l?a.stringTemplate(l,g):l,a.set(f,k,l)}),a.set(c,i,a.merge(e,d,f)),c},a.prefs.containerNeeded=function(c,e){var d=a.get(c,[e,"type"]),f=a.defaults(d);return a.hasGrade(f,"fluid.viewComponent")||a.hasGrade(f,"fluid.rendererComponent")},a.prefs.checkPrimarySchema=function(c,d){return c||a.fail("The primary schema for "+d+" is not defined."),!!c},a.prefs.expandSchemaComponents=function(j,e,p,h,i,q,c,m){var u=a.copy(h)||{},o={},s={},l=a.prefs.removeKey(u,"type"),w=new RegExp("\\.","g"),f=l.replace(w,"_"),r=p.replace(w,"_");if(l){o[f]={type:l,options:u};var g=a.prefs.rearrangeDirect(u,f,"container"),d=a.prefs.rearrangeDirect(u,f,"template"),t=a.prefs.rearrangeDirect(u,f,"message"),k=a.defaults(l).preferenceMap,v=k[p],n=m[p];a.each(v,function(x,A){if(a.prefs.checkPrimarySchema(n,p)){var y={};if(0===A.indexOf("model.")){var z=A.slice(6);a.set(y,"model",a.get(y,"model")||{}),a.prefs.addCommonOptions(y,"model",c,{internalModelName:z,externalModelName:r}),a.set(s,["members","initialModel","preferences",r],n[x])}else{a.set(y,A,n[x])}b.extend(!0,u,y)}}),a.prefs.addCommonOptions(o,f,q,{prefKey:f}),a.prefs.addAtPath(j,[e,"components"],o),a.prefs.addAtPath(j,[e,"selectors"],g),a.prefs.addAtPath(j,["templateLoader","resources"],d),a.prefs.addAtPath(j,["messageLoader","resources"],t),a.prefs.addAtPath(j,"initialModel",s)}return j},a.prefs.expandSchemaImpl=function(c,d){var e=a.copy(c);return d=d||e,a.each(e,function(g,f){if("object"==typeof g){e[f]=a.prefs.expandSchemaImpl(g,d)}else{if("string"==typeof g){var h=a.prefs.expandSchemaValue(d,g);void 0!==h?e[f]=h:delete e[f]}}}),e},a.prefs.expandCompositePanels=function(h,f,e,k,j,i,d,c){var g=[];return a.each(f,function(m,v){var p={},r={},s={},w={},u={},o={},l=[],q=a.copy(m);a.set(p,"type",q.type),delete q.type,w=a.prefs.rearrangeDirect(q,v,"container"),u=a.prefs.rearrangeDirect(q,v,"template"),o=a.prefs.rearrangeDirect(q,v,"message");var x=[],t={},n={};a.isPlainObject(q.panels)&&!a.isArrayable(q.panels)?a.each(q.panels,function(z,y){x=x.concat(z),"always"!==y&&a.each(z,function(A){a.set(n,A,y)})}):x=q.panels,a.each(x,function(F){g.push(F);var z=a.get(h,[F,"type"]),B=a.prefs.subPanel.safePrefKey(z);l.push(B);var E=a.copy(a.get(h,[F,"panel"])),D=a.get(E,"type");a.set(t,[B,"type"],D);var y=a.get(n,F);y&&a.set(t,[B,"options","renderOnPreference"],y);var C=a.defaults(D).preferenceMap[z],A=c[z];a.each(C,function(G,I){if(a.prefs.checkPrimarySchema(A,z)){var H;0===I.indexOf("model.")?(a.set(p,["options","model"],a.get(p,["options","model"])||{}),a.prefs.addCommonOptions(p,["options","model"],d,{internalModelName:B,externalModelName:B}),a.set(s,["members","initialModel","preferences",B],A[G])):(H=H||{options:{}},a.set(H,"options."+I,A[G])),b.extend(!0,t[B],H)}}),a.set(u,B,a.get(E,"template")),a.set(o,B,a.get(E,"message")),a.set(p,["options","selectors",B],a.get(E,"container")),a.set(p,["options","resources"],a.get(p,["options","resources"])||{}),a.prefs.addCommonOptions(p.options,"resources",i,{subPrefKey:B}),delete E.type,delete E.template,delete E.message,delete E.container,a.set(t,[B,"options"],b.extend(!0,{},a.get(t,[B,"options"]),E)),a.prefs.addCommonOptions(t,B,j,{compositePanel:v,prefKey:B})}),delete q.panels,a.set(p,["options"],b.extend(!0,{},p.options,q)),a.set(p,["options","selectorsToIgnore"],l),a.set(p,["options","components"],t),r[v]=p,a.prefs.addCommonOptions(r,v,k,{prefKey:v}),a.prefs.addAtPath(h,["panels","components"],r),a.prefs.addAtPath(h,["panels","selectors"],w),a.prefs.addAtPath(h,["templateLoader","resources"],u),a.prefs.addAtPath(h,["messageLoader","resources"],o),a.prefs.addAtPath(h,"initialModel",s),b.extend(!0,h,{panelsToIgnore:g})}),h},a.prefs.expandSchema=function(d,f,g,c,j){var e=a.prefs.expandSchemaImpl(d);e.namespace=e.namespace||"fluid.prefs.created_"+a.allocateGuid();var h=a.get(e,"terms");h&&(delete e.terms,a.set(e,["terms","terms"],h));var i=a.get(e,"groups");return i&&a.prefs.expandCompositePanels(e,i,a.get(f,"panel"),a.get(c,"panel"),a.get(c,"subPanel"),a.get(c,"compositePanelBasedOnSub"),a.get(c,"panelModel"),j),a.each(e,function(m,k){var l="panel";m[l]&&!a.contains(e.panelsToIgnore,k)&&a.prefs.expandSchemaComponents(e,"panels",m.type,m[l],a.get(f,l),a.get(c,l),a.get(c,l+"Model"),j),l="enactor",m[l]&&a.prefs.expandSchemaComponents(e,"enactors",m.type,m[l],a.get(f,l),a.get(c,l),a.get(c,l+"Model"),j),a.each(["template","message"],function(n){k===n&&(a.set(e,[n+"Loader","resources","prefsEditor"],e[n]),delete e[n])})}),e.panelsToIgnore&&delete e.panelsToIgnore,a.each(g,function(k,l){a.prefs.addCommonOptions(e,l,k)}),e},a.defaults("fluid.prefs.auxBuilder",{gradeNames:["fluid.prefs.auxSchema"],mergePolicy:{elementCommonOptions:"noexpand"},topCommonOptions:{panels:{gradeNames:["fluid.prefs.prefsEditor"]},enactors:{gradeNames:["fluid.uiEnhancer"]},templateLoader:{gradeNames:["fluid.resourceLoader"]},messageLoader:{gradeNames:["fluid.resourceLoader"]},initialModel:{gradeNames:["fluid.prefs.initialModel"]},terms:{gradeNames:["fluid.component"]}},elementCommonOptions:{panel:{createOnEvent:"onPrefsEditorMarkupReady",container:"{prefsEditor}.dom.%prefKey","options.gradeNames":"fluid.prefs.prefsEditorConnections","options.resources.template":"{templateLoader}.resources.%prefKey","options.messageBase":"{messageLoader}.resources.%prefKey.resourceText"},panelModel:{"%internalModelName":"{prefsEditor}.model.preferences.%externalModelName"},compositePanelBasedOnSub:{"%subPrefKey":"{templateLoader}.resources.%subPrefKey"},subPanel:{container:"{%compositePanel}.dom.%prefKey","options.messageBase":"{messageLoader}.resources.%prefKey.resourceText"},enactor:{container:"{uiEnhancer}.container"},enactorModel:{"%internalModelName":"{uiEnhancer}.model.%externalModelName"}},indexes:{panel:{expander:{func:"fluid.indexDefaults",args:["panelsIndex",{gradeNames:"fluid.prefs.panel",indexFunc:"fluid.prefs.auxBuilder.prefMapIndexer"}]}},enactor:{expander:{func:"fluid.indexDefaults",args:["enactorsIndex",{gradeNames:"fluid.prefs.enactor",indexFunc:"fluid.prefs.auxBuilder.prefMapIndexer"}]}}},mappedDefaults:{},expandedAuxSchema:{expander:{func:"fluid.prefs.expandSchema",args:["{that}.options.auxiliarySchema","{that}.options.indexes","{that}.options.topCommonOptions","{that}.options.elementCommonOptions","{that}.options.mappedDefaults"]}}}),a.prefs.auxBuilder.prefMapIndexer=function(c){return a.keys(c.preferenceMap)}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(a){a.defaults("fluid.prefs.termsAware"),a.defaults("fluid.prefs.auxSchema.starter.textSize",{gradeNames:["fluid.contextAware"],auxiliarySchema:{textSize:{type:"fluid.prefs.textSize",enactor:{type:"fluid.prefs.enactor.textSize"},panel:{type:"fluid.prefs.panel.textSize",container:".flc-prefsEditor-text-size",message:"%messagePrefix/textSize.json"}}},contextAwareness:{textSizeSliderVariety:{checks:{jQueryUI:{contextValue:"{fluid.prefsWidgetType}",equals:"jQueryUI",gradeNames:"fluid.prefs.auxSchema.starter.textSize.jQueryUI"}},defaultGradeNames:"fluid.prefs.auxSchema.starter.textSize.nativeHTML"}}}),a.defaults("fluid.prefs.auxSchema.starter.textSize.nativeHTML",{auxiliarySchema:{textSize:{panel:{template:"%templatePrefix/PrefsEditorTemplate-textSize-nativeHTML.html"}}}}),a.defaults("fluid.prefs.auxSchema.starter.textSize.jQueryUI",{auxiliarySchema:{textSize:{panel:{template:"%templatePrefix/PrefsEditorTemplate-textSize-jQueryUI.html"}}}}),a.defaults("fluid.prefs.auxSchema.starter.lineSpace",{gradeNames:["fluid.contextAware"],auxiliarySchema:{lineSpace:{type:"fluid.prefs.lineSpace",enactor:{type:"fluid.prefs.enactor.lineSpace",fontSizeMap:{"xx-small":"9px","x-small":"11px",small:"13px",medium:"15px",large:"18px","x-large":"23px","xx-large":"30px"}},panel:{type:"fluid.prefs.panel.lineSpace",container:".flc-prefsEditor-line-space",message:"%messagePrefix/lineSpace.json"}}},contextAwareness:{lineSpaceSliderVariety:{checks:{jQueryUI:{contextValue:"{fluid.prefsWidgetType}",equals:"jQueryUI",gradeNames:"fluid.prefs.auxSchema.starter.lineSpace.jQueryUI"}},defaultGradeNames:"fluid.prefs.auxSchema.starter.lineSpace.nativeHTML"}}}),a.defaults("fluid.prefs.auxSchema.starter.lineSpace.nativeHTML",{auxiliarySchema:{lineSpace:{panel:{template:"%templatePrefix/PrefsEditorTemplate-lineSpace-nativeHTML.html"}}}}),a.defaults("fluid.prefs.auxSchema.starter.lineSpace.jQueryUI",{auxiliarySchema:{lineSpace:{panel:{template:"%templatePrefix/PrefsEditorTemplate-lineSpace-jQueryUI.html"}}}}),a.defaults("fluid.prefs.auxSchema.starter",{gradeNames:["fluid.prefs.auxSchema","fluid.prefs.auxSchema.starter.lineSpace","fluid.prefs.auxSchema.starter.textSize"],auxiliarySchema:{loaderGrades:["fluid.prefs.separatedPanel"],namespace:"fluid.prefs.constructed",terms:{templatePrefix:"../../framework/preferences/html",messagePrefix:"../../framework/preferences/messages"},template:"%templatePrefix/SeparatedPanelPrefsEditor.html",message:"%messagePrefix/prefsEditor.json",textFont:{type:"fluid.prefs.textFont",classes:{"default":"",times:"fl-font-times",comic:"fl-font-comic-sans",arial:"fl-font-arial",verdana:"fl-font-verdana"},enactor:{type:"fluid.prefs.enactor.textFont",classes:"@textFont.classes"},panel:{type:"fluid.prefs.panel.textFont",container:".flc-prefsEditor-text-font",classnameMap:{textFont:"@textFont.classes"},template:"%templatePrefix/PrefsEditorTemplate-textFont.html",message:"%messagePrefix/textFont.json"}},contrast:{type:"fluid.prefs.contrast",classes:{"default":"fl-theme-prefsEditor-default",bw:"fl-theme-bw",wb:"fl-theme-wb",by:"fl-theme-by",yb:"fl-theme-yb",lgdg:"fl-theme-lgdg"},enactor:{type:"fluid.prefs.enactor.contrast",classes:"@contrast.classes"},panel:{type:"fluid.prefs.panel.contrast",container:".flc-prefsEditor-contrast",classnameMap:{theme:"@contrast.classes"},template:"%templatePrefix/PrefsEditorTemplate-contrast.html",message:"%messagePrefix/contrast.json"}},tableOfContents:{type:"fluid.prefs.tableOfContents",enactor:{type:"fluid.prefs.enactor.tableOfContents",tocTemplate:"../../components/tableOfContents/html/TableOfContents.html"},panel:{type:"fluid.prefs.panel.layoutControls",container:".flc-prefsEditor-layout-controls",template:"%templatePrefix/PrefsEditorTemplate-layout.html",message:"%messagePrefix/tableOfContents.json"}},emphasizeLinks:{type:"fluid.prefs.emphasizeLinks",enactor:{type:"fluid.prefs.enactor.emphasizeLinks",cssClass:"fl-link-enhanced"},panel:{type:"fluid.prefs.panel.emphasizeLinks",container:".flc-prefsEditor-emphasizeLinks",template:"%templatePrefix/PrefsEditorTemplate-emphasizeLinks.html",message:"%messagePrefix/emphasizeLinks.json"}},inputsLarger:{type:"fluid.prefs.inputsLarger",enactor:{type:"fluid.prefs.enactor.inputsLarger",cssClass:"fl-text-larger"},panel:{type:"fluid.prefs.panel.inputsLarger",container:".flc-prefsEditor-inputsLarger",template:"%templatePrefix/PrefsEditorTemplate-inputsLarger.html",message:"%messagePrefix/inputsLarger.json"}},groups:{linksControls:{container:".flc-prefsEditor-links-controls",template:"%templatePrefix/PrefsEditorTemplate-linksControls.html",message:"%messagePrefix/linksControls.json",type:"fluid.prefs.panel.linksControls",panels:["emphasizeLinks","inputsLarger"]}}}}),a.defaults("fluid.prefs.schemas.textSize",{gradeNames:["fluid.prefs.schemas"],schema:{"fluid.prefs.textSize":{type:"number","default":1,minimum:1,maximum:2,divisibleBy:0.1}}}),a.defaults("fluid.prefs.schemas.lineSpace",{gradeNames:["fluid.prefs.schemas"],schema:{"fluid.prefs.lineSpace":{type:"number","default":1,minimum:1,maximum:2,divisibleBy:0.1}}}),a.defaults("fluid.prefs.schemas.textFont",{gradeNames:["fluid.prefs.schemas"],schema:{"fluid.prefs.textFont":{type:"string","default":"default","enum":["default","times","comic","arial","verdana"]}}}),a.defaults("fluid.prefs.schemas.contrast",{gradeNames:["fluid.prefs.schemas"],schema:{"fluid.prefs.contrast":{type:"string","default":"default","enum":["default","bw","wb","by","yb","lgdg"]}}}),a.defaults("fluid.prefs.schemas.tableOfContents",{gradeNames:["fluid.prefs.schemas"],schema:{"fluid.prefs.tableOfContents":{type:"boolean","default":!1}}}),a.defaults("fluid.prefs.schemas.emphasizeLinks",{gradeNames:["fluid.prefs.schemas"],schema:{"fluid.prefs.emphasizeLinks":{type:"boolean","default":!1}}}),a.defaults("fluid.prefs.schemas.inputsLarger",{gradeNames:["fluid.prefs.schemas"],schema:{"fluid.prefs.inputsLarger":{type:"boolean","default":!1}}})
}(fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(a){a.defaults("fluid.prefs.auxSchema.speak",{gradeNames:["fluid.prefs.auxSchema"],auxiliarySchema:{namespace:"fluid.prefs.constructed",terms:{templatePrefix:"../../framework/preferences/html/",messagePrefix:"../../framework/preferences/messages/"},template:"%templatePrefix/SeparatedPanelPrefsEditor.html",message:"%messagePrefix/prefsEditor.json",speak:{type:"fluid.prefs.speak",enactor:{type:"fluid.prefs.enactor.selfVoicing",container:"body"},panel:{type:"fluid.prefs.panel.speak",container:".flc-prefsEditor-speak",template:"%templatePrefix/PrefsEditorTemplate-speak.html",message:"%messagePrefix/speak.json"}}}}),a.defaults("fluid.prefs.schemas.speak",{gradeNames:["fluid.prefs.schemas"],schema:{"fluid.prefs.speak":{type:"boolean","default":!1}}})}(fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.registerNamespace("fluid.prefs"),a.defaults("fluid.prefs.builder",{gradeNames:["fluid.component","fluid.prefs.auxBuilder"],mergePolicy:{auxSchema:"expandedAuxSchema"},assembledPrefsEditorGrade:{expander:{func:"fluid.prefs.builder.generateGrade",args:["prefsEditor","{that}.options.auxSchema.namespace",{gradeNames:["fluid.prefs.assembler.prefsEd","fluid.viewComponent"],componentGrades:"{that}.options.constructedGrades",loaderGrades:"{that}.options.auxSchema.loaderGrades"}]}},assembledUIEGrade:{expander:{func:"fluid.prefs.builder.generateGrade",args:["uie","{that}.options.auxSchema.namespace",{gradeNames:["fluid.viewComponent","fluid.prefs.assembler.uie"],componentGrades:"{that}.options.constructedGrades"}]}},constructedGrades:{expander:{func:"fluid.prefs.builder.constructGrades",args:["{that}.options.auxSchema",["enactors","messages","panels","initialModel","templateLoader","messageLoader","terms"]]}},mappedDefaults:"{primaryBuilder}.options.schema.properties",components:{primaryBuilder:{type:"fluid.prefs.primaryBuilder",options:{typeFilter:{expander:{func:"fluid.prefs.builder.parseAuxSchema",args:"{builder}.options.auxiliarySchema"}}}}},distributeOptions:[{source:"{that}.options.primarySchema",removeSource:!0,target:"{that > primaryBuilder}.options.primarySchema"}]}),a.defaults("fluid.prefs.assembler.uie",{gradeNames:["fluid.viewComponent"],components:{store:{type:"fluid.prefs.globalSettingsStore",options:{distributeOptions:{target:"{that fluid.prefs.store}.options.contextAwareness.strategy.checks.user",record:{contextValue:"{fluid.prefs.assembler.uie}.options.storeType",gradeNames:"{fluid.prefs.assembler.uie}.options.storeType"}}}},enhancer:{type:"fluid.component",options:{gradeNames:"{that}.options.enhancerType",enhancerType:"fluid.pageEnhancer",components:{uiEnhancer:{options:{gradeNames:["{fluid.prefs.assembler.uie}.options.componentGrades.enactors"]}}}}}},distributeOptions:[{source:"{that}.options.enhancer",target:"{that uiEnhancer}.options",removeSource:!0},{source:"{that}.options.store",target:"{that fluid.prefs.store}.options"},{source:"{that}.options.enhancerType",target:"{that > enhancer}.options.enhancerType"}]}),a.defaults("fluid.prefs.assembler.prefsEd",{gradeNames:["fluid.viewComponent","fluid.prefs.assembler.uie"],components:{prefsEditorLoader:{type:"fluid.viewComponent",container:"{fluid.prefs.assembler.prefsEd}.container",priority:"last",options:{gradeNames:["{fluid.prefs.assembler.prefsEd}.options.componentGrades.terms","{fluid.prefs.assembler.prefsEd}.options.componentGrades.messages","{fluid.prefs.assembler.prefsEd}.options.componentGrades.initialModel","{that}.options.loaderGrades"],templateLoader:{gradeNames:["{fluid.prefs.assembler.prefsEd}.options.componentGrades.templateLoader"]},messageLoader:{gradeNames:["{fluid.prefs.assembler.prefsEd}.options.componentGrades.messageLoader"]},prefsEditor:{gradeNames:["{fluid.prefs.assembler.prefsEd}.options.componentGrades.panels","fluid.prefs.uiEnhancerRelay"]},events:{onReady:"{fluid.prefs.assembler.prefsEd}.events.onPrefsEditorReady"}}}},events:{onPrefsEditorReady:null,onReady:{events:{onPrefsEditorReady:"onPrefsEditorReady",onCreate:"onCreate"},args:["{that}"]}},distributeOptions:[{source:"{that}.options.loaderGrades",removeSource:!0,target:"{that > prefsEditorLoader}.options.loaderGrades"},{source:"{that}.options.prefsEditor",removeSource:!0,target:"{that prefsEditor}.options"},{source:"{that}.options.terms",removeSource:!0,target:"{that prefsEditorLoader}.options.terms"}]}),a.prefs.builder.generateGrade=function(e,f,d){var c="%namespace.%name",g=a.stringTemplate(c,{name:e,namespace:f});return a.defaults(g,d),g},a.prefs.builder.constructGrades=function(c,d){var e={};return a.each(d,function(g){var f=c[g];a.get(f,"gradeNames")&&(e[g]=a.prefs.builder.generateGrade(g,c.namespace,f))}),e},a.prefs.builder.parseAuxSchema=function(c){var d=[];return a.each(c,function(f){var e=f.type;e&&d.push(e)}),d},a.prefs.create=function(c,e){e=e||{};var d=a.prefs.builder(e.build);return a.invokeGlobalFunction(d.options.assembledPrefsEditorGrade,[c,e.prefsEditor])}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.prefs.builder({gradeNames:["fluid.prefs.auxSchema.starter"]}),a.defaults("fluid.uiOptions.prefsEditor",{gradeNames:["fluid.prefs.constructed.prefsEditor"],lazyLoad:!1,distributeOptions:[{record:"{that}.options.lazyLoad",target:"{that separatedPanel}.options.lazyLoad"},{source:"{that}.options.tocTemplate",target:"{that uiEnhancer}.options.tocTemplate"},{source:"{that}.options.ignoreForToC",target:"{that uiEnhancer}.options.ignoreForToC"}],enhancer:{distributeOptions:[{source:"{that}.options.tocTemplate",target:"{that > fluid.prefs.enactor.tableOfContents}.options.tocTemplate"},{source:"{that}.options.ignoreForToC",target:"{that > fluid.prefs.enactor.tableOfContents}.options.ignoreForToC"}]}})}(jQuery,fluid_2_0_0),function(c){function b(d){return"object"==typeof d?d:{top:d,left:d}}var a=c.scrollTo=function(f,e,d){c(window).scrollTo(f,e,d)};a.defaults={axis:"xy",duration:parseFloat(c.fn.jquery)>=1.3?0:1},a.window=function(d){return c(window)._scrollable()},c.fn._scrollable=function(){return this.map(function(){var e=this,d=!e.nodeName||c.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!d){return e}var f=(e.contentWindow||e).document||e.ownerDocument||e;return c.browser.safari||"BackCompat"==f.compatMode?f.body:f.documentElement})},c.fn.scrollTo=function(f,e,d){return"object"==typeof e&&(d=e,e=0),"function"==typeof d&&(d={onAfter:d}),"max"==f&&(f=9000000000),d=c.extend({},a.defaults,d),e=e||d.speed||d.duration,d.queue=d.queue&&d.axis.length>1,d.queue&&(e/=2),d.offset=b(d.offset),d.over=b(d.over),this._scrollable().each(function(){function j(n){h.animate(g,e,d.easing,n&&function(){n.call(this,f,d)})}var i,l=this,h=c(l),k=f,g={},m=h.is("html,body");switch(typeof k){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(k)){k=b(k);break}k=c(k,this);case"object":(k.is||k.style)&&(i=(k=c(k)).offset())}c.each(d.axis.split(""),function(q,r){var s="x"==r?"Left":"Top",u=s.toLowerCase(),p="scroll"+s,o=l[p],n=a.max(l,r);if(i){g[p]=i[u]+(m?0:o-h.offset()[u]),d.margin&&(g[p]-=parseInt(k.css("margin"+s))||0,g[p]-=parseInt(k.css("border"+s+"Width"))||0),g[p]+=d.offset[u]||0,d.over[u]&&(g[p]+=k["x"==r?"width":"height"]()*d.over[u])}else{var t=k[u];g[p]=t.slice&&"%"==t.slice(-1)?parseFloat(t)/100*n:t}/^\d+$/.test(g[p])&&(g[p]=g[p]<=0?0:Math.min(g[p],n)),!q&&d.queue&&(o!=g[p]&&j(d.onAfterFirst),delete g[p])}),j(d.onAfter)}).end()},a.max=function(j,i){var h="x"==i?"Width":"Height",e="scroll"+h;if(!c(j).is("html,body")){return j[e]-c(j)[h.toLowerCase()]()}var g="client"+h,f=j.ownerDocument.documentElement,d=j.ownerDocument.body;return Math.max(f[e],d[e])-Math.min(f[g],d[g])}}(jQuery);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.enhance.supportsBinaryXHR=function(){return window.FormData||window.XMLHttpRequest&&window.XMLHttpRequest.prototype&&window.XMLHttpRequest.prototype.sendAsBinary},a.enhance.supportsFormData=function(){return !!window.FormData},a.contextAware.makeChecks({"fluid.browser.supportsBinaryXHR":{funcName:"fluid.enhance.supportsBinaryXHR"},"fluid.browser.supportsFormData":{funcName:"fluid.enhance.supportsFormData"}}),a.registerNamespace("fluid.uploader"),a.uploader.fileOrFiles=function(c,d){return 1===d?c.options.strings.progress.singleFile:c.options.strings.progress.pluralFiles},a.uploader.enableElement=function(c,d){d.prop("disabled",!1),d.removeClass(c.options.styles.dim)},a.uploader.disableElement=function(c,d){d.prop("disabled",!0),d.addClass(c.options.styles.dim)},a.uploader.showElement=function(c,d){d.removeClass(c.options.styles.hidden)},a.uploader.hideElement=function(c,d){d.addClass(c.options.styles.hidden)},a.uploader.maxFilesUploaded=function(d){var c=d.queue.getUploadedFiles().length+d.queue.getReadyFiles().length+d.queue.getErroredFiles().length;return c===d.options.queueSettings.fileUploadLimit},a.uploader.setTotalProgressStyle=function(e,d){d=d||!1;var c=e.totalProgress.indicator;c.toggleClass(e.options.styles.totalProgress,!d),c.toggleClass(e.options.styles.totalProgressError,d)},a.uploader.setStateEmpty=function(c){a.uploader.disableElement(c,c.locate("uploadButton")),0===c.queue.files.length&&(c.locate("browseButtonText").text(c.options.strings.buttons.browse),c.locate("browseButton").removeClass(c.options.styles.browseButton),a.uploader.showElement(c,c.locate("instructions")))},a.uploader.enableBrowseButton=function(c){a.uploader.maxFilesUploaded(c)||(a.uploader.enableElement(c,c.locate("browseButton")),c.strategy.local.enableBrowseButton())},a.uploader.setStateDone=function(c){a.uploader.disableElement(c,c.locate("uploadButton")),a.uploader.hideElement(c,c.locate("pauseButton")),a.uploader.showElement(c,c.locate("uploadButton")),a.uploader.enableBrowseButton(c)},a.uploader.setStateLoaded=function(c){c.locate("browseButtonText").text(c.options.strings.buttons.addMore),c.locate("browseButton").addClass(c.options.styles.browseButton),a.uploader.hideElement(c,c.locate("pauseButton")),a.uploader.showElement(c,c.locate("uploadButton")),a.uploader.enableElement(c,c.locate("uploadButton")),a.uploader.hideElement(c,c.locate("instructions")),c.totalProgress.hide(),a.uploader.enableBrowseButton(c)
},a.uploader.setStateUploading=function(c){c.totalProgress.hide(!1,!1),a.uploader.setTotalProgressStyle(c),a.uploader.hideElement(c,c.locate("uploadButton")),a.uploader.disableElement(c,c.locate("browseButton")),c.strategy.local.disableBrowseButton(),a.uploader.enableElement(c,c.locate("pauseButton")),a.uploader.showElement(c,c.locate("pauseButton"))},a.uploader.setStateFull=function(c){c.locate("browseButtonText").text(c.options.strings.buttons.addMore),c.locate("browseButton").addClass(c.options.styles.browseButton),a.uploader.hideElement(c,c.locate("pauseButton")),a.uploader.showElement(c,c.locate("uploadButton")),a.uploader.enableElement(c,c.locate("uploadButton")),a.uploader.disableElement(c,c.locate("browseButton")),c.strategy.local.disableBrowseButton(),a.uploader.hideElement(c,c.locate("instructions")),c.totalProgress.hide()},a.uploader.renderUploadTotalMessage=function(h){var f=h.queue.getReadyFiles().length,i=h.queue.sizeOfReadyFiles(),d=a.uploader.fileOrFiles(h,f),c=h.queue.files.length,e=h.options.strings.progress.noFiles,g=a.stringTemplate(h.options.strings.progress.toUploadLabel,{fileCount:f,fileLabel:d,totalBytes:a.uploader.formatFileSize(i),uploadedCount:h.queue.getUploadedFiles().length,uploadedSize:a.uploader.formatFileSize(h.queue.sizeOfUploadedFiles()),totalCount:c,totalSize:a.uploader.formatFileSize(h.queue.totalBytes())});!c&&e&&(g=e),h.locate("totalFileStatusText").html(g)},a.uploader.renderFileUploadLimit=function(d){if(d.options.queueSettings.fileUploadLimit>0){var c=a.stringTemplate(d.options.strings.progress.fileUploadLimitLabel,{fileUploadLimit:d.options.queueSettings.fileUploadLimit,fileLabel:a.uploader.fileOrFiles(d,d.options.queueSettings.fileUploadLimit)});d.locate("fileUploadLimitText").html(c)}},a.uploader.formatFileSize=function(c){if("number"==typeof c){if(0===c){return"0.0 KB"}if(c>0){return c<1048576?(Math.ceil(c/1024*10)/10).toFixed(1)+" KB":(Math.ceil(c/1048576*10)/10).toFixed(1)+" MB"}}return""},a.uploader.derivePercent=function(c,d){return Math.round(100*c/d)},a.uploader.updateTotalProgress=function(i){var f=i.queue.currentBatch,c=a.uploader.derivePercent(f.totalBytesUploaded,f.totalBytes),e=f.files.length,h=a.uploader.fileOrFiles(i,e),g=f.totalBytesUploaded+i.queue.sizeOfUploadedFiles(),d=a.stringTemplate(i.options.strings.progress.totalProgressLabel,{curFileN:f.fileIdx,totalFilesN:e,fileLabel:h,currBytes:a.uploader.formatFileSize(f.totalBytesUploaded),totalBytes:a.uploader.formatFileSize(f.totalBytes),uploadedCount:i.queue.getUploadedFiles().length,uploadedSize:a.uploader.formatFileSize(g),totalCount:i.queue.files.length,totalSize:a.uploader.formatFileSize(i.queue.totalBytes())});i.totalProgress.update(c,d)},a.uploader.updateTotalAtCompletion=function(g){var i=g.queue.getErroredFiles().length,h=g.queue.files.length,e=a.uploader.fileOrFiles(g,h),f="";if(i>0){var d=1===i?g.options.strings.progress.singleError:g.options.strings.progress.pluralErrors;a.uploader.setTotalProgressStyle(g,!0),f=a.stringTemplate(g.options.strings.progress.numberOfErrors,{errorsN:i,errorLabel:d})}var c=a.stringTemplate(g.options.strings.progress.completedLabel,{curFileN:g.queue.getUploadedFiles().length,totalFilesN:h,errorString:f,fileLabel:e,totalCurrBytes:a.uploader.formatFileSize(g.queue.sizeOfUploadedFiles()),uploadedCount:g.queue.getUploadedFiles().length,uploadedSize:a.uploader.formatFileSize(g.queue.sizeOfUploadedFiles()),totalCount:g.queue.files.length,totalSize:a.uploader.formatFileSize(g.queue.totalBytes())});g.totalProgress.update(100,c)},a.uploader.updateStateAfterFileDialog=function(c){var d=c.queue.getReadyFiles().length;d>0&&(a.uploader[d===c.options.queueSettings.fileUploadLimit?"setStateFull":"setStateLoaded"](c),a.uploader.renderUploadTotalMessage(c),c.locate(c.options.focusWithEvent.afterFileDialog).focus())},a.uploader.updateStateAfterFileRemoval=function(c){a.uploader[0===c.queue.getReadyFiles().length?"setStateEmpty":"setStateLoaded"](c),a.uploader.renderUploadTotalMessage(c)},a.uploader.updateStateAfterCompletion=function(c){a.uploader[0===c.queue.getReadyFiles().length?"setStateDone":"setStateLoaded"](c),a.uploader.updateTotalAtCompletion(c)},a.uploader.uploadNextOrFinish=function(c){c.queue.shouldUploadNextFile()?c.strategy.remote.uploadNextFile():(c.events.afterUploadComplete.fire(c.queue.currentBatch.files),c.queue.clearCurrentBatch())},a.uploader.onFileStart=function(d,c){d.filestatus=a.uploader.fileStatusConstants.IN_PROGRESS,c.startFile()},a.uploader.onFileProgress=function(c,d){c.queue.updateBatchStatus(d),a.uploader.updateTotalProgress(c)},a.uploader.onFileComplete=function(c,d){d.queue.finishFile(c),d.events.afterFileComplete.fire(c),a.uploader.uploadNextOrFinish(d)},a.uploader.onFileSuccess=function(c,d){c.filestatus=a.uploader.fileStatusConstants.COMPLETE,0===d.queue.currentBatch.bytesUploadedForFile&&(d.queue.currentBatch.totalBytesUploaded+=c.size),a.uploader.updateTotalProgress(d)},a.uploader.onFileError=function(d,c,e){c===a.uploader.errorConstants.UPLOAD_STOPPED?d.filestatus=a.uploader.fileStatusConstants.CANCELLED:(d.filestatus=a.uploader.fileStatusConstants.ERROR,e.queue.isUploading&&(e.queue.currentBatch.totalBytesUploaded+=d.size,e.queue.currentBatch.numFilesErrored++,a.uploader.uploadNextOrFinish(e)))},a.uploader.afterUploadComplete=function(c){c.queue.isUploading=!1,a.uploader.updateStateAfterCompletion(c)},a.defaults("fluid.uploader",{gradeNames:["fluid.viewComponent","fluid.contextAware"],contextAwareness:{technology:{defaultGradeNames:"fluid.uploader.singleFile"},liveness:{priority:"before:technology",checks:{localDemoOption:{contextValue:"{uploader}.options.demo",gradeNames:"fluid.uploader.demo"}},defaultGradeNames:"fluid.uploader.live"}}}),a.defaults("fluid.uploader.builtinStrategyDistributor",{gradeNames:["fluid.component"],distributeOptions:{record:{contextValue:"{fluid.browser.supportsBinaryXHR}",gradeNames:"fluid.uploader.html5"},target:"{/ fluid.uploader}.options.contextAwareness.technology.checks.supportsBinaryXHR"}}),a.constructSingle([],"fluid.uploader.builtinStrategyDistributor"),a.uploader.browse=function(c,d){c.isUploading||d.browse()},a.uploader.removeFile=function(c,d,f,e){c.removeFile(e),d.removeFile(e),f.fire(e)},a.uploader.start=function(d,e,c){d.start(),c.fire(d.currentBatch.files),e.uploadNextFile()},a.uploader.stop=function(d,c){c.fire(),d.stop()},a.uploader.defaultQueueSettings={uploadURL:"",postParams:{},fileSizeLimit:"20480",fileTypes:null,fileTypesDescription:null,fileUploadLimit:0,fileQueueLimit:0},a.uploader.bindFocus=function(d,c,e,f){a.each(d,function(g,h){c[h]||e[h].addListener(function(){f.locate(g).focus()})})},a.defaults("fluid.uploader.multiFileUploader",{gradeNames:["fluid.viewComponent"],members:{totalFileStatusTextId:{expander:{funcName:"fluid.allocateSimpleId",args:"{that}.dom.totalFileStatusText"}}},invokers:{browse:{funcName:"fluid.uploader.browse",args:["{that}.queue","{that}.strategy.local"]},removeFile:{funcName:"fluid.uploader.removeFile",args:["{that}.queue","{that}.strategy.local","{that}.events.afterFileRemoved","{arguments}.0"]},start:{funcName:"fluid.uploader.start",args:["{that}.queue","{that}.strategy.remote","{that}.events.onUploadStart"]},stop:{funcName:"fluid.uploader.stop",args:["{that}.strategy.remote","{that}.events.onUploadStop"]}},components:{queue:{type:"fluid.uploader.fileQueue"},strategy:{type:"fluid.uploader.strategy"},errorPanel:{type:"fluid.uploader.errorPanel",container:"{uploader}.dom.errorsPanel",options:{gradeNames:"fluid.uploader.errorPanel.bindUploader"}},fileQueueView:{type:"fluid.uploader.fileQueueView",container:"{uploader}.dom.fileQueue",options:{gradeNames:"fluid.uploader.fileQueueView.bindUploader",members:{queueFiles:"{uploader}.queue.files"},uploaderContainer:"{uploader}.container",strings:{buttons:{remove:"{uploader}.options.strings.buttons.remove"}}}},totalProgress:{type:"fluid.progress",container:"{uploader}.container",options:{selectors:{progressBar:".flc-uploader-queue-footer",displayElement:".flc-uploader-total-progress",label:".flc-uploader-total-progress-text",indicator:".flc-uploader-total-progress",ariaElement:".flc-uploader-total-progress"}}}},queueSettings:a.uploader.defaultQueueSettings,demo:!1,selectors:{fileQueue:".flc-uploader-queue",browseButton:".flc-uploader-button-browse",browseButtonText:".flc-uploader-button-browse-text",uploadButton:".flc-uploader-button-upload",pauseButton:".flc-uploader-button-pause",totalFileStatusText:".flc-uploader-total-progress-text",fileUploadLimitText:".flc-uploader-upload-limit-text",instructions:".flc-uploader-browse-instructions",errorsPanel:".flc-uploader-errorsPanel"},noAutoFocus:{afterFileDialog:!0},focusWithEvent:{afterFileDialog:"uploadButton",onUploadStart:"pauseButton",onUploadStop:"uploadButton"},styles:{disabled:"fl-uploader-disabled",hidden:"fl-uploader-hidden",dim:"fl-uploader-dim",totalProgress:"fl-uploader-total-progress-okay",totalProgressError:"fl-uploader-total-progress-errored",browseButton:"fl-uploader-browseMore"},events:{afterReady:null,onFileDialog:null,onFilesSelected:null,onFileQueued:null,afterFileQueued:null,onFileRemoved:null,afterFileRemoved:null,afterFileDialog:null,onUploadStart:null,onUploadStop:null,onFileStart:null,onFileProgress:null,onFileError:null,onQueueError:null,onFileSuccess:null,onFileComplete:null,afterFileComplete:null,afterUploadComplete:null},listeners:{onCreate:[{listener:"fluid.uploader.bindFocus",args:["{that}.options.focusWithEvent","{that}.options.noAutoFocus","{that}.events","{that}.dom"]},{funcName:"fluid.uploader.multiFileUploader.setupMarkup",namespace:"setupMarkup"},{"this":"{that}.dom.uploadButton",method:"click",args:"{that}.start"},{"this":"{that}.dom.pauseButton",method:"click",args:"{that}.stop"},{"this":"{that}.dom.totalFileStatusText",method:"attr",args:[{role:"log","aria-live":"assertive","aria-relevant":"text","aria-atomic":"true"}]},{"this":"{that}.dom.fileQueue",method:"attr",args:[{"aria-controls":"{that}.totalFileStatusTextId","aria-labelledby":"{that}.totalFileStatusTextId"}]}],"afterFileDialog.uploader":{listener:"fluid.uploader.updateStateAfterFileDialog",args:"{that}"},"afterFileQueued.uploader":{listener:"{that}.queue.addFile",args:"{arguments}.0"},"onFileRemoved.uploader":{listener:"{that}.removeFile",args:"{arguments}.0"},"afterFileRemoved.uploader":{listener:"fluid.uploader.updateStateAfterFileRemoval",args:"{that}"},"onUploadStart.uploader":{listener:"fluid.uploader.setStateUploading",args:"{that}"},"onFileStart.uploader":{listener:"fluid.uploader.onFileStart",args:["{arguments}.0","{that}.queue"]},"onFileProgress.uploader":{listener:"fluid.uploader.onFileProgress",args:["{that}","{arguments}.1"]},"onFileComplete.uploader":{listener:"fluid.uploader.onFileComplete",args:["{arguments}.0","{that}"]},"onFileSuccess.uploader":{listener:"fluid.uploader.onFileSuccess",args:["{arguments}.0","{that}"]},"onFileError.uploader":{listener:"fluid.uploader.onFileError",args:["{arguments}.0","{arguments}.1","{that}"]},"afterUploadComplete.uploader":{listener:"fluid.uploader.afterUploadComplete",args:"{that}"}},strings:{progress:{fileUploadLimitLabel:"%fileUploadLimit %fileLabel maximum",noFiles:"0 files",toUploadLabel:"%uploadedCount out of %totalCount files uploaded (%uploadedSize of %totalSize)",totalProgressLabel:"%uploadedCount out of %totalCount files uploaded (%uploadedSize of %totalSize)",completedLabel:"%uploadedCount out of %totalCount files uploaded (%uploadedSize of %totalSize)%errorString",numberOfErrors:", %errorsN %errorLabel",singleFile:"file",pluralFiles:"files",singleError:"error",pluralErrors:"errors"},buttons:{browse:"Browse Files",addMore:"Add More",stopUpload:"Stop Upload",cancelRemaning:"Cancel remaining Uploads",resumeUpload:"Resume Upload",remove:"Remove"}}}),a.uploader.multiFileUploader.setupMarkup=function(d){a.uploader.disableElement(d,d.locate("uploadButton")),a.uploader.renderFileUploadLimit(d);
var c=d.options.strings.progress.noFiles;c&&d.locate("totalFileStatusText").text(c)},a.defaults("fluid.uploader.strategy",{gradeNames:["fluid.component"],components:{local:{type:"fluid.uploader.local"},remote:{type:"fluid.uploader.remote"}}}),a.defaults("fluid.uploader.local",{gradeNames:["fluid.component"],queueSettings:"{uploader}.options.queueSettings",members:{queue:"{uploader}.queue"},events:{onFileDialog:"{uploader}.events.onFileDialog",onFilesSelected:"{uploader}.events.onFilesSelected",afterFileDialog:"{uploader}.events.afterFileDialog",afterFileQueued:"{uploader}.events.afterFileQueued",onQueueError:"{uploader}.events.onQueueError"},invokers:{enableBrowseButton:"fluid.uploader.local.enableBrowseButton",disableBrowseButton:"fluid.uploader.local.disableBrowseButton"}}),a.defaults("fluid.uploader.remote",{gradeNames:["fluid.component"],members:{queue:"{uploader}.queue",queueSettings:"{uploader}.options.queueSettings"},events:{onFileStart:"{uploader}.events.onFileStart",onFileProgress:"{uploader}.events.onFileProgress",onFileSuccess:"{uploader}.events.onFileSuccess",onFileError:"{uploader}.events.onFileError",onFileComplete:"{uploader}.events.onFileComplete",onUploadStop:"{uploader}.events.onUploadStop",afterFileComplete:"{uploader}.events.afterFileComplete",afterUploadComplete:"{uploader}.events.afterUploadComplete"},invokers:{uploadNextFile:"fluid.uploader.uploadNextFile",stop:"fluid.uploader.stop"}}),a.uploader.queueErrorConstants={QUEUE_LIMIT_EXCEEDED:"queue limit exceeded",FILE_EXCEEDS_SIZE_LIMIT:"file exceeds size limit",ZERO_BYTE_FILE:"zero byte file",INVALID_FILETYPE:"invalid filetype"},a.uploader.errorConstants={HTTP_ERROR:"HTTP error",MISSING_UPLOAD_URL:"Missing upload URL",IO_ERROR:"I/O error",SECURITY_ERROR:"Security error",UPLOAD_LIMIT_EXCEEDED:"Upload limit exceeded",UPLOAD_FAILED:"Uploader failed",SPECIFIED_FILE_ID_NOT_FOUND:"Specified file ID not found",FILE_VALIDATION_FAILED:"File validation failed",FILE_CANCELLED:"File cancelled",UPLOAD_STOPPED:"Upload stopped"},a.uploader.fileStatusConstants={QUEUED:"queued",IN_PROGRESS:"in progress",ERROR:"error",COMPLETE:"complete",CANCELLED:"cancelled"},a.defaults("fluid.uploader.singleFile",{gradeNames:["fluid.viewComponent"],selectors:{basicUpload:".fl-progEnhance-basic"},listeners:{"onCreate.showMarkup":"fluid.uploader.singleFile.showMarkup"}}),a.uploader.singleFile.toggleVisibility=function(c,d){window.opera?(c.show().removeClass("hideUploaderForOpera"),d.show().addClass("hideUploaderForOpera")):(c.show(),d.hide())},a.uploader.singleFile.showMarkup=function(c){a.uploader.singleFile.toggleVisibility(b(c.options.selectors.basicUpload),c.container)}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.registerNamespace("fluid.uploader"),a.defaults("fluid.uploader.fileQueue",{gradeNames:["fluid.component"],members:{files:[],isUploading:!1},invokers:{start:{funcName:"fluid.uploader.fileQueue.start",args:"{that}"},startFile:{funcName:"fluid.uploader.fileQueue.startFile",args:"{that}.currentBatch"},finishFile:{funcName:"fluid.uploader.fileQueue.finishFile",args:"{that}.currentBatch"},shouldUploadNextFile:{funcName:"fluid.uploader.fileQueue.shouldUploadNextFile",args:"{that}"},addFile:{funcName:"fluid.uploader.fileQueue.addFile",args:["{that}.files","{arguments}.0"]},removeFile:{funcName:"fluid.uploader.fileQueue.removeFile",args:["{that}.files","{arguments}.0"]},totalBytes:{funcName:"fluid.uploader.fileQueue.sizeOfFiles",args:"{that}.files"},getReadyFiles:{funcName:"fluid.uploader.fileQueue.filesByStatus",args:["{that}.files",["QUEUED","CANCELLED"]]},getErroredFiles:{funcName:"fluid.uploader.fileQueue.filesByStatus",args:["{that}.files","ERROR"]},getUploadedFiles:{funcName:"fluid.uploader.fileQueue.filesByStatus",args:["{that}.files","COMPLETE"]},sizeOfReadyFiles:{funcName:"fluid.uploader.fileQueue.sizeOfFilesByStatus",args:["{that}.files",["QUEUED","CANCELLED"]]},sizeOfUploadedFiles:{funcName:"fluid.uploader.fileQueue.sizeOfFilesByStatus",args:["{that}.files","COMPLETE"]},setupCurrentBatch:{funcName:"fluid.uploader.fileQueue.setupCurrentBatch",args:"{that}"},clearCurrentBatch:{funcName:"fluid.uploader.fileQueue.clearCurrentBatch",args:"{that}"},updateCurrentBatch:{funcName:"fluid.uploader.fileQueue.updateCurrentBatch",args:[{expander:{func:"{that}.getReadyFiles"}},"{that}.currentBatch"]},updateBatchStatus:{funcName:"fluid.uploader.fileQueue.updateBatchStatus",args:["{arguments}.0","{that}.currentBatch"]}}}),a.uploader.fileQueue.start=function(c){c.setupCurrentBatch(),c.isUploading=!0,c.shouldStop=!1},a.uploader.fileQueue.startFile=function(c){c.fileIdx++,c.bytesUploadedForFile=0,c.previousBytesUploadedForFile=0},a.uploader.fileQueue.finishFile=function(c){c.numFilesCompleted++},a.uploader.fileQueue.shouldUploadNextFile=function(c){return !c.shouldStop&&c.isUploading&&c.currentBatch.numFilesCompleted+c.currentBatch.numFilesErrored<c.currentBatch.files.length},a.uploader.fileQueue.addFile=function(d,c){d.push(c)},a.uploader.fileQueue.removeFile=function(d,c){a.remove_if(d,function(e){return c===e})},a.uploader.fileQueue.sizeOfFiles=function(c){return a.accumulate(c,function(d,e){return e+d.size},0)},a.uploader.fileQueue.filterFiles=function(d,e){var c=[];return a.remove_if(a.makeArray(d),e,c)},a.uploader.fileQueue.filesByStatus=function(d,c){return c=a.makeArray(c),a.uploader.fileQueue.filterFiles(d,function(e){return a.find_if(c,function(f){return e.filestatus===a.uploader.fileStatusConstants[f]})})},a.uploader.fileQueue.sizeOfFilesByStatus=function(d,c){return d=a.uploader.fileQueue.filesByStatus(d,c),a.uploader.fileQueue.sizeOfFiles(d)},a.uploader.fileQueue.setupCurrentBatch=function(c){c.clearCurrentBatch(),c.updateCurrentBatch()},a.uploader.fileQueue.clearCurrentBatch=function(c){c.currentBatch={fileIdx:0,files:[],totalBytes:0,numFilesCompleted:0,numFilesErrored:0,bytesUploadedForFile:0,previousBytesUploadedForFile:0,totalBytesUploaded:0}},a.uploader.fileQueue.updateCurrentBatch=function(d,c){c.files=d,c.totalBytes=a.uploader.fileQueue.sizeOfFiles(d)},a.uploader.fileQueue.updateBatchStatus=function(e,c){var d=e-c.previousBytesUploadedForFile;c.totalBytesUploaded+=d,c.bytesUploadedForFile+=d,c.previousBytesUploadedForFile=e}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.registerNamespace("fluid.uploader.fileQueueView"),a.uploader.fileQueueView.rowForFile=function(d,c){return d.container.find("#"+c.id)},a.uploader.fileQueueView.errorRowForFile=function(d,c){return b("#"+c.id+"_error",d.container)},a.uploader.fileQueueView.fileForRow=function(c,d){return a.find_if(c.queueFiles,function(e){return e.id.toString()===d.prop("id")})},a.uploader.fileQueueView.progressorForFile=function(d,c){var e=c.id+"_progress";return d.fileProgressors[e]},a.uploader.fileQueueView.startFileProgress=function(e,c){var d=a.uploader.fileQueueView.rowForFile(e,c);e.scroller.scrollTo(d);var f=a.uploader.fileQueueView.progressorForFile(e,c);f.refreshView(),f.show()},a.uploader.fileQueueView.updateFileProgress=function(f,d,e,c){var g=a.uploader.derivePercent(e,c),h=g+"%";a.uploader.fileQueueView.progressorForFile(f,d).update(g,h)},a.uploader.fileQueueView.hideFileProgress=function(e,c){var d=a.uploader.fileQueueView.rowForFile(e,c);a.uploader.fileQueueView.progressorForFile(e,c).hide(),c.filestatus===a.uploader.fileStatusConstants.COMPLETE&&e.locate("fileIconBtn",d).removeClass(e.options.styles.dim)},a.uploader.fileQueueView.removeFileProgress=function(e,d){var f=a.uploader.fileQueueView.progressorForFile(e,d);if(f){var c=f.displayElement;c.remove()}},a.uploader.fileQueueView.animateRowRemoval=function(c,d){d.fadeOut("fast",function(){d.remove(),c.refreshView()})},a.uploader.fileQueueView.removeFileErrorRow=function(d,c){c.filestatus===a.uploader.fileStatusConstants.ERROR&&a.uploader.fileQueueView.animateRowRemoval(d,a.uploader.fileQueueView.errorRowForFile(d,c))},a.uploader.fileQueueView.removeFileAndRow=function(d,c,e){a.uploader.fileQueueView.removeFileProgress(d,c),a.uploader.fileQueueView.removeFileErrorRow(d,c),d.events.onFileRemoved.fire(c),a.uploader.fileQueueView.animateRowRemoval(d,e)},a.uploader.fileQueueView.removeFileForRow=function(d,e){var c=a.uploader.fileQueueView.fileForRow(d,e);c&&c.filestatus!==a.uploader.fileStatusConstants.COMPLETE&&a.uploader.fileQueueView.removeFileAndRow(d,c,e)},a.uploader.fileQueueView.removeRowForFile=function(d,c){var e=a.uploader.fileQueueView.rowForFile(d,c);a.uploader.fileQueueView.removeFileAndRow(d,c,e)},a.uploader.fileQueueView.bindHover=function(f,d){var e=function(){f.hasClass(d.ready)&&!f.hasClass(d.uploading)&&f.addClass(d.hover)},c=function(){f.hasClass(d.ready)&&!f.hasClass(d.uploading)&&f.removeClass(d.hover)};f.hover(e,c)},a.uploader.fileQueueView.bindDeleteKey=function(c,e){var d=function(){a.uploader.fileQueueView.removeFileForRow(c,e)};a.activatable(e,null,{additionalBindings:[{key:b.ui.keyCode.DELETE,activateHandler:d}]})},a.uploader.fileQueueView.bindRowHandlers=function(c,d){b.browser.msie&&b.browser.version<7&&a.uploader.fileQueueView.bindHover(d,c.options.styles),c.locate("fileIconBtn",d).click(function(){a.uploader.fileQueueView.removeFileForRow(c,d)}),a.uploader.fileQueueView.bindDeleteKey(c,d)},a.uploader.fileQueueView.renderRowFromTemplate=function(e,d){var f=e.rowTemplate.clone(),h=d.name,c=a.uploader.formatFileSize(d.size);f.removeClass(e.options.styles.hiddenTemplate),e.locate("fileName",f).text(h),e.locate("fileSize",f).text(c);var g=e.locate("fileIconBtn",f);return g.addClass(e.options.styles.remove),a.updateAriaLabel(g,e.options.strings.buttons.remove),f.prop("id",d.id),f.addClass(e.options.styles.ready),a.uploader.fileQueueView.bindRowHandlers(e,f),a.updateAriaLabel(f,h+" "+c),f},a.uploader.fileQueueView.createProgressorFromTemplate=function(d,g){var c=d.rowProgressorTemplate.clone(),e=g.prop("id"),f=e+"_progress";c.prop("id",f),c.css("top",g.position().top),c.height(g.height()).width(5),d.container.after(c),d.fileProgressors[f]=a.progress(d.options.uploaderContainer,{selectors:{progressBar:"#"+e,displayElement:"#"+f,label:"#"+f+" .fl-uploader-file-progress-text",indicator:"#"+f}})
},a.uploader.fileQueueView.addFile=function(d,c){var e=a.uploader.fileQueueView.renderRowFromTemplate(d,c);b.browser.msie&&b.browser.version>=8||e.hide(),d.container.append(e),e.attr("title",d.options.strings.status.remove),e.fadeIn("slow"),a.uploader.fileQueueView.createProgressorFromTemplate(d,e),d.refreshView(),d.scroller.scrollTo("100%")},a.uploader.fileQueueView.enableRows=function(e,d){for(var c=0;c<e.length;c++){a.enabled(e[c],d)}},a.uploader.fileQueueView.prepareForUpload=function(c){var d=c.locate("fileIconBtn",c.locate("fileRows"));d.prop("disabled",!0),d.addClass(c.options.styles.dim),a.uploader.fileQueueView.enableRows(c.locate("fileRows"),!1)},a.uploader.fileQueueView.refreshAfterUpload=function(c){var d=c.locate("fileRows"),e=c.locate("fileIconBtn",d);e.each(function(f,g){b(g).prop("disabled",d.eq(f).hasClass(c.options.styles.uploaded))}),e.removeClass(c.options.styles.dim),a.uploader.fileQueueView.enableRows(c.locate("fileRows"),!0)},a.uploader.fileQueueView.changeRowState=function(c,e,d){e.removeClass(c.options.styles.ready).removeClass(c.options.styles.error).addClass(d)},a.uploader.fileQueueView.markRowAsComplete=function(d,c){var e=a.uploader.fileQueueView.rowForFile(d,c);a.uploader.fileQueueView.changeRowState(d,e,d.options.styles.uploaded),e.attr("title",d.options.strings.status.success),a.enabled(e,!1);var f=d.locate("fileIconBtn",e);f.off("click"),f.removeClass(d.options.styles.remove),f.attr("title",d.options.strings.status.success)},a.uploader.fileQueueView.renderErrorInfoFromTemplate=function(f,h,c){var e=f.errorInfoTemplate.clone();e.prop("id",h.prop("id")+"_error");var g=a.keyForValue(a.uploader.errorConstants,c),d=f.options.strings.errors[g];f.locate("errorText",e).text(d),f.locate("fileName",h).after(e),f.scroller.scrollTo(e)},a.uploader.fileQueueView.showErrorForFile=function(f,d,c){if(a.uploader.fileQueueView.hideFileProgress(f,d),d.filestatus===a.uploader.fileStatusConstants.ERROR){var e=a.uploader.fileQueueView.rowForFile(f,d);a.uploader.fileQueueView.changeRowState(f,e,f.options.styles.error),a.uploader.fileQueueView.renderErrorInfoFromTemplate(f,e,c)}},a.uploader.fileQueueView.addKeyboardNavigation=function(c){a.tabbable(c.container),c.selectableContext=a.selectable(c.container,{selectableSelector:c.options.selectors.fileRows,onSelect:function(d){b(d).addClass(c.options.styles.selected)},onUnselect:function(d){b(d).removeClass(c.options.styles.selected)}})},a.uploader.fileQueueView.prepareTemplateElements=function(c){c.errorInfoTemplate=c.locate("errorInfoTemplate").remove(),c.errorInfoTemplate.removeClass(c.options.styles.hiddenTemplate),c.rowTemplate=c.locate("rowTemplate").remove(),c.rowProgressorTemplate=c.locate("rowProgressorTemplate",c.options.uploaderContainer).remove()},a.uploader.fileQueueView.markFileComplete=function(d,c){a.uploader.fileQueueView.progressorForFile(d,c).update(100,"100%"),a.uploader.fileQueueView.markRowAsComplete(d,c)},a.uploader.fileQueueView.refreshView=function(c){c.selectableContext.refresh(),c.scroller.refreshView()},a.defaults("fluid.uploader.fileQueueView",{gradeNames:["fluid.viewComponent"],mergePolicy:{},members:{fileProgressors:{}},invokers:{addFile:{funcName:"fluid.uploader.fileQueueView.addFile",args:["{that}","{arguments}.0"]},removeFile:{funcName:"fluid.uploader.fileQueueView.removeRowForFile",args:["{that}","{arguments}.0"]},prepareForUpload:{funcName:"fluid.uploader.fileQueueView.prepareForUpload",args:"{that}"},refreshAfterUpload:{funcName:"fluid.uploader.fileQueueView.refreshAfterUpload",args:"{that}"},showFileProgress:{funcName:"fluid.uploader.fileQueueView.startFileProgress",args:["{that}","{arguments}.0"]},updateFileProgress:{funcName:"fluid.uploader.fileQueueView.updateFileProgress",args:["{that}","{arguments}.0","{arguments}.1","{arguments}.2"]},markFileComplete:{funcName:"fluid.uploader.fileQueueView.markFileComplete",args:["{that}","{arguments}.0"]},showErrorForFile:{funcName:"fluid.uploader.fileQueueView.showErrorForFile",args:["{that}","{arguments}.0","{arguments}.1"]},hideFileProgress:{funcName:"fluid.uploader.fileQueueView.hideFileProgress",args:["{that}","{arguments}.0"]},refreshView:{funcName:"fluid.uploader.fileQueueView.refreshView",args:"{that}"}},components:{scroller:{type:"fluid.scrollableTable",container:"{fileQueueView}.container"}},selectors:{fileRows:".flc-uploader-file",fileName:".flc-uploader-file-name",fileSize:".flc-uploader-file-size",fileIconBtn:".flc-uploader-file-action",errorText:".flc-uploader-file-error",rowTemplate:".flc-uploader-file-tmplt",errorInfoTemplate:".flc-uploader-file-error-tmplt",rowProgressorTemplate:".flc-uploader-file-progressor-tmplt"},styles:{hover:"fl-uploader-file-hover",selected:"fl-uploader-file-focus",ready:"fl-uploader-file-state-ready",uploading:"fl-uploader-file-state-uploading",uploaded:"fl-uploader-file-state-uploaded",error:"fl-uploader-file-state-error",remove:"fl-uploader-file-action-remove",dim:"fl-uploader-dim",hiddenTemplate:"fl-uploader-hidden-templates"},strings:{progress:{toUploadLabel:"To upload: %fileCount %fileLabel (%totalBytes)",singleFile:"file",pluralFiles:"files"},status:{success:"File Uploaded",error:"File Upload Error",remove:"Press Delete key to remove file"},errors:{HTTP_ERROR:"File upload error: a network error occured or the file was rejected (reason unknown).",IO_ERROR:"File upload error: a network error occured.",UPLOAD_LIMIT_EXCEEDED:"File upload error: you have uploaded as many files as you are allowed during this session",UPLOAD_FAILED:"File upload error: the upload failed for an unknown reason.",QUEUE_LIMIT_EXCEEDED:"You have as many files in the queue as can be added at one time. Removing files from the queue may allow you to add different files.",FILE_EXCEEDS_SIZE_LIMIT:"One or more of the files that you attempted to add to the queue exceeded the limit of %fileSizeLimit.",ZERO_BYTE_FILE:"One or more of the files that you attempted to add contained no data.",INVALID_FILETYPE:"One or more files were not added to the queue because they were of the wrong type."},buttons:{remove:"Remove"}},events:{onFileRemoved:null},listeners:{"onCreate.prepareTemplateElement":"fluid.uploader.fileQueueView.prepareTemplateElements","onCreate.addKeyboardNavigation":"fluid.uploader.fileQueueView.addKeyboardNavigation","onCreate.addAriaRole":{"this":"{that}.container",method:"attr",args:{role:"application"}}}}),a.defaults("fluid.uploader.fileQueueView.bindUploader",{events:{onFileRemoved:"{uploader}.events.onFileRemoved"},listeners:{"{uploader}.events.afterFileQueued":"{fileQueueView}.addFile","{uploader}.events.onUploadStart":"{fileQueueView}.prepareForUpload","{uploader}.events.onFileStart":"{fileQueueView}.showFileProgress","{uploader}.events.onFileProgress":"{fileQueueView}.updateFileProgress","{uploader}.events.onFileSuccess":"{fileQueueView}.markFileComplete","{uploader}.events.onFileError":"{fileQueueView}.showErrorForFile","{uploader}.events.afterFileComplete":"{fileQueueView}.hideFileProgress","{uploader}.events.afterUploadComplete":"{fileQueueView}.refreshAfterUpload"}}),a.registerNamespace("fluid.scrollable"),a.scrollable.makeSimple=function(c){return a.container(c)},a.scrollable.makeTable=function(d,c){return d.wrap(c),d.closest(".fl-scrollable-scroller")},a.defaults("fluid.scrollable",{gradeNames:["fluid.viewComponent"],makeScrollableFn:a.scrollable.makeSimple,members:{scrollable:{expander:{func:"{that}.options.makeScrollableFn",args:["{that}.container","{that}.options.wrapperMarkup"]}},maxHeight:{expander:{"this":"{that}.scrollable",method:"css",args:"max-height"}}},invokers:{scrollTo:{"this":"{that}.scrollable",method:"scrollTo",args:"{arguments}.0"},refreshView:{funcName:"fluid.scrollable.refreshView",args:"{that}"}},listeners:{onCreate:"{that}.refreshView"}}),a.scrollable.refreshView=function(c){b.browser.msie&&"6.0"===b.browser.version&&(c.scrollable.css("height",""),c.scrollable.height()>=parseInt(c.maxHeight,10)&&c.scrollable.css("height",c.maxHeight))},a.defaults("fluid.scrollableTable",{gradeNames:["fluid.scrollable"],makeScrollableFn:a.scrollable.makeTable,wrapperMarkup:"<div class='fl-scrollable-scroller'><div class='fl-scrollable-inner'></div></div>"})}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.defaults("fluid.uploader.errorPanel",{gradeNames:["fluid.viewComponent","fluid.contextAware"],invokers:{refreshView:"fluid.uploader.errorPanel.refreshView({that})"},events:{afterRender:null},components:{fileSizeErrorSection:{type:"fluid.uploader.errorPanel.section",createOnEvent:"afterRender",container:"{errorPanel}.dom.fileSizeErrorSection",options:{model:{errorCode:a.uploader.queueErrorConstants.FILE_EXCEEDS_SIZE_LIMIT},strings:{header:"{errorPanel}.options.strings.exceedsFileSize"}}},numFilesErrorSection:{type:"fluid.uploader.errorPanel.section",createOnEvent:"afterRender",container:"{errorPanel}.dom.numFilesErrorSection",options:{model:{errorCode:a.uploader.queueErrorConstants.QUEUE_LIMIT_EXCEEDED},strings:{header:"{errorPanel}.options.strings.exceedsNumFilesLimit"}}}},selectors:{header:".flc-uploader-errorPanel-header",sectionTemplate:".flc-uploader-errorPanel-section-tmplt",fileSizeErrorSection:".flc-uploader-errorPanel-section-fileSize",numFilesErrorSection:".flc-uploader-errorPanel-section-numFiles"},strings:{headerText:"Warning(s)",exceedsNumFilesLimit:"Too many files were selected. %numFiles were not added to the queue.",exceedsFileSize:"%numFiles files were too large and were not added to the queue."},listeners:{"onCreate.renderSectionTemplates":{funcName:"fluid.uploader.errorPanel.renderSectionTemplates",args:"{that}",priority:"before:domComplete"},"onCreate.domComplete":{funcName:"fluid.uploader.errorPanel.domComplete",args:"{that}"}},styles:{hiddenTemplate:"fl-hidden-templates"}}),a.uploader.errorPanel.refreshView=function(d){for(var c=0;c<d.sections.length;c++){if(d.sections[c].model.files.length>0){return void d.container.show()}}d.container.hide()},a.uploader.errorPanel.renderSectionTemplates=function(d){var c=d.locate("sectionTemplate").remove().removeClass(d.options.styles.hiddenTemplate);
d.locate("fileSizeErrorSection").append(c.clone()),d.locate("numFilesErrorSection").append(c.clone()),d.events.afterRender.fire(d)},a.uploader.errorPanel.domComplete=function(c){c.sections=[c.fileSizeErrorSection,c.numFilesErrorSection],c.locate("header").text(c.options.strings.headerText),c.container.hide()},a.defaults("fluid.uploader.errorPanel.bindUploader",{listeners:{"{uploader}.events.afterFileDialog":"{errorPanel}.refreshView"},distributeOptions:{target:"{that fluid.uploader.errorPanel.section}.options.listeners",record:{"{uploader}.events.onQueueError":"{section}.addFile","{uploader}.events.onFilesSelected":"{section}.clear","{uploader}.events.onUploadStart":"{section}.clear","{section}.events.afterErrorsCleared":"{errorPanel}.refreshView"}}}),a.defaults("fluid.uploader.errorPanel.section",{gradeNames:["fluid.viewComponent"],model:{errorCode:void 0,files:[],showingDetails:!1},events:{afterErrorsCleared:null},selectors:{errorTitle:".fl-uploader-errorPanel-section-title",deleteErrorButton:".flc-uploader-errorPanel-section-removeButton",errorDetails:".flc-uploader-errorPanel-section-details",erroredFiles:".flc-uploader-errorPanel-section-files",showHideFilesToggle:".flc-uploader-errorPanel-section-toggleDetails"},strings:{hideFiles:"Hide files",showFiles:"Show files",fileListDelimiter:", "},invokers:{toggleDetails:"fluid.uploader.errorPanel.section.toggleDetails({that})",showDetails:"fluid.uploader.errorPanel.section.showDetails({that})",hideDetails:"fluid.uploader.errorPanel.section.hideDetails({that})",addFile:"fluid.uploader.errorPanel.section.addFile({that}, {arguments}.0, {arguments}.1)",clear:"fluid.uploader.errorPanel.section.clear({that})",refreshView:"fluid.uploader.errorPanel.section.refreshView({that})"},listeners:{"onCreate.bindHandlers":{funcName:"fluid.uploader.errorPanel.section.bindHandlers",priority:"after:refreshView"},"onCreate.refreshView":"{that}.refreshView"}}),a.uploader.errorPanel.section.toggleDetails=function(d){var c=d.model.showingDetails?d.hideDetails:d.showDetails;c()},a.uploader.errorPanel.section.showDetails=function(c){c.locate("errorDetails").show(),c.locate("showHideFilesToggle").text(c.options.strings.hideFiles),c.model.showingDetails=!0},a.uploader.errorPanel.section.hideDetails=function(c){c.locate("errorDetails").hide(),c.locate("showHideFilesToggle").text(c.options.strings.showFiles),c.model.showingDetails=!1},a.uploader.errorPanel.section.addFile=function(d,c,e){e===d.model.errorCode&&(d.model.files.push(c.name),d.refreshView())},a.uploader.errorPanel.section.clear=function(c){c.model.files=[],c.refreshView(),c.events.afterErrorsCleared.fire()},a.uploader.errorPanel.section.refreshView=function(c){a.uploader.errorPanel.section.renderHeader(c),a.uploader.errorPanel.section.renderErrorDetails(c),c.hideDetails(),c.model.files.length<=0?c.container.hide():c.container.show()},a.uploader.errorPanel.section.bindHandlers=function(c){c.locate("deleteErrorButton").click(c.clear),c.locate("showHideFilesToggle").click(c.toggleDetails)},a.uploader.errorPanel.section.renderHeader=function(d){var c=a.stringTemplate(d.options.strings.header,{numFiles:d.model.files.length});d.locate("errorTitle").text(c)},a.uploader.errorPanel.section.renderErrorDetails=function(d){var c=d.model.files,e=c.length>0?c.join(d.options.strings.fileListDelimiter):"";d.locate("erroredFiles").text(e)}}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.defaults("fluid.uploader.html5",{gradeNames:"fluid.uploader.multiFileUploader",components:{strategy:{type:"fluid.uploader.html5Strategy"}}}),a.defaults("fluid.uploader.html5Strategy",{gradeNames:["fluid.uploader.strategy"],components:{local:{type:"fluid.uploader.html5Strategy.local"},remote:{type:"fluid.uploader.html5Strategy.remote"}}}),a.registerNamespace("fluid.uploader.html5.browser"),a.uploader.html5.browser.isMS=!!navigator.msLaunchUri,a.uploader.html5Strategy.fileSuccessHandler=function(d,c,e){c.onFileSuccess.fire(d,e.responseText,e),c.onFileComplete.fire(d)},a.uploader.html5Strategy.fileErrorHandler=function(d,c,e){c.onFileError.fire(d,a.uploader.errorConstants.UPLOAD_FAILED,e.status,e),c.onFileComplete.fire(d)},a.uploader.html5Strategy.fileStopHandler=function(d,c,e){c.onFileError.fire(d,a.uploader.errorConstants.UPLOAD_STOPPED,e.status,e),c.onFileComplete.fire(d)},a.uploader.html5Strategy.monitorFileUploadXHR=function(d,c,e){e.onreadystatechange=function(){if(4===e.readyState){var f=e.status;f>=200&&f<=204?a.uploader.html5Strategy.fileSuccessHandler(d,c,e):0===f?a.uploader.html5Strategy.fileStopHandler(d,c,e):a.uploader.html5Strategy.fileErrorHandler(d,c,e)}},e.upload.onprogress=function(f){c.onFileProgress.fire(d,f.loaded,f.total)}},a.uploader.html5Strategy.uploadNextFile=function(c,f){var d=c.currentBatch,e=d.files[d.fileIdx];f(e)},a.uploader.html5Strategy.uploadFile=function(d,c){d.events.onFileStart.fire(c),d.currentXHR=d.createXHR(),a.uploader.html5Strategy.monitorFileUploadXHR(c,d.events,d.currentXHR),d.fileSender.send(c,d.queueSettings,d.currentXHR)},a.uploader.html5Strategy.stop=function(c){c.queue.isUploading=!1,c.currentXHR.abort(),c.events.onUploadStop.fire()},a.defaults("fluid.uploader.html5Strategy.remote",{gradeNames:["fluid.uploader.remote"],components:{fileSender:{type:"fluid.uploader.html5Strategy.fileSender"}},invokers:{createXHR:"fluid.uploader.html5Strategy.createXHR",uploadNextFile:{funcName:"fluid.uploader.html5Strategy.uploadNextFile",args:["{that}.queue","{that}.uploadFile"]},uploadFile:{funcName:"fluid.uploader.html5Strategy.uploadFile",args:["{that}","{arguments}.0"]},stop:{funcName:"fluid.uploader.html5Strategy.stop",args:["{that}"]}}}),a.uploader.html5Strategy.createXHR=function(){return new XMLHttpRequest},a.uploader.html5Strategy.createFormData=function(){return new FormData},a.uploader.html5Strategy.setPostParams=function(c,d){b.each(d,function(e,f){c.append(e,f)})},a.defaults("fluid.uploader.html5Strategy.fileSender",{gradeNames:["fluid.component","fluid.contextAware"],invokers:{send:{funcName:"fluid.fail",args:"Error instantiating HTML5 Uploader - browser does not support FormData feature. Please try version 1.4 or earlier of Uploader which has Firefox 3.x support"}},contextAwareness:{technology:{checks:{formData:{contextValue:"{fluid.browser.supportsFormData}",gradeNames:"fluid.uploader.html5Strategy.formDataSender"}}}}}),a.defaults("fluid.uploader.html5Strategy.formDataSender",{gradeNames:["fluid.component"],invokers:{createFormData:"fluid.uploader.html5Strategy.createFormData",send:{funcName:"fluid.uploader.html5Strategy.sendFormData",args:["{that}.createFormData","{arguments}.0","{arguments}.1","{arguments}.2"]}}}),a.uploader.html5Strategy.sendFormData=function(e,c,d,g){var f=e();return f.append("file",c),a.uploader.html5Strategy.setPostParams(f,d.postParams),g.open("POST",d.uploadURL,!0),g.send(f),f},a.defaults("fluid.uploader.html5Strategy.local",{gradeNames:["fluid.uploader.local"],invokers:{addFiles:{funcName:"fluid.uploader.html5Strategy.local.addFiles",args:["{that}","{arguments}.0"]},removeFile:"fluid.identity",enableBrowseButton:"{that}.browseButtonView.enable",disableBrowseButton:"{that}.browseButtonView.disable"},components:{browseButtonView:{type:"fluid.uploader.html5Strategy.browseButtonView",container:"{uploader}.container",options:{strings:"{uploader}.options.strings.buttons",queueSettings:"{uploader}.options.queueSettings",selectors:{browseButton:"{uploader}.options.selectors.browseButton"},events:{onBrowse:"{local}.events.onFileDialog"},listeners:{onFilesQueued:"{local}.addFiles"}}}}}),a.uploader.html5Strategy.local.addFiles=function(k,d){var e=k.options.queueSettings,h=1024*e.fileSizeLimit,n=e.fileUploadLimit,f=k.queue.getUploadedFiles().length,c=k.queue.getReadyFiles().length,l=n-f-c;k.events.onFilesSelected.fire(d.length);for(var m=0,j=0;j<d.length;j++){var g=d[j];n&&0===l?k.events.onQueueError.fire(g,a.uploader.queueErrorConstants.QUEUE_LIMIT_EXCEEDED):g.size>=h?(g.filestatus=a.uploader.fileStatusConstants.ERROR,k.events.onQueueError.fire(g,a.uploader.queueErrorConstants.FILE_EXCEEDS_SIZE_LIMIT)):(!n||l>0)&&(g.id="file-"+a.allocateGuid(),g.filestatus=a.uploader.fileStatusConstants.QUEUED,k.events.afterFileQueued.fire(g),l--,m++)}k.events.afterFileDialog.fire(m)},a.uploader.bindEventsToFileInput=function(d,c){c.click(function(){d.events.onBrowse.fire()}),a.uploader.html5.browser.isMS&&c.on("keydown",function(e){e.keyCode===b.ui.keyCode.ENTER&&(e.preventDefault(),c.trigger("click"))}),c.change(function(){var e=c[0].files;d.renderFreshMultiFileInput(),d.events.onFilesQueued.fire(e)}),c.focus(function(){d.browseButton.addClass("focus"),d.events.onFocusFileInput.fire(d,c,!0)}),c.blur(function(){d.browseButton.removeClass("focus"),d.events.onFocusFileInput.fire(d,c,!1)})},a.uploader.renderMultiFileInput=function(c){var e=b(c.options.multiFileInputMarkup),d=c.options.queueSettings.fileTypes;return a.isArrayable(d)&&(d=d.join(),e.attr("accept",d)),e},a.uploader.renderFreshMultiFileInput=function(d){var e=d.locate("fileInputs").last();e.hide(),e.prop("tabindex",-1);var c=a.uploader.renderMultiFileInput(d);c.attr("aria-label",d.options.strings.addMore),e.after(c),a.uploader.bindEventsToFileInput(d,c)},a.uploader.setupBrowseButtonView=function(c){var d=a.uploader.renderMultiFileInput(c);d.attr("aria-label",c.options.strings.browse),c.browseButton.append(d),a.uploader.bindEventsToFileInput(c,d),c.browseButton.prop("tabindex",-1)},a.uploader.isEnabled=function(c){return !c.prop("disabled")},a.defaults("fluid.uploader.html5Strategy.browseButtonView",{gradeNames:["fluid.viewComponent"],strings:{browse:"Browse files",addMore:"Add more"},multiFileInputMarkup:"<input type='file' multiple='' class='flc-uploader-html5-input' />",queueSettings:{},members:{browseButton:"{that}.dom.browseButton"},invokers:{enable:{"this":"{that}.dom.fileInputs",method:"prop",args:["disabled",!1]},disable:{"this":"{that}.dom.fileInputs",method:"prop",args:["disabled",!0]},isEnabled:{funcName:"fluid.uploader.isEnabled",args:"{that}.dom.fileInputs"},renderFreshMultiFileInput:{funcName:"fluid.uploader.renderFreshMultiFileInput",args:"{that}"}},selectors:{browseButton:".flc-uploader-button-browse",fileInputs:".flc-uploader-html5-input"},events:{onFocusFileInput:null,onBrowse:null,onFilesQueued:null},listeners:{onCreate:{funcName:"fluid.uploader.setupBrowseButtonView",args:"{that}"}}})
}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(b,a){a.registerNamespace("fluid.uploader.demo"),a.defaults("fluid.uploader.demo",{distributeOptions:{record:"fluid.uploader.demo.remote",target:"{that strategy remote}.type"}}),a.uploader.demo.uploadNextFile=function(c){c.demoState.currentFile=c.queue.files[c.demoState.fileIdx],c.demoState.chunksForCurrentFile=Math.ceil(c.demoState.currentFile/c.demoState.chunkSize),c.demoState.bytesUploaded=0,c.queue.isUploading=!0,c.events.onFileStart.fire(c.demoState.currentFile),a.uploader.demo.simulateUpload(c)},a.uploader.demo.updateProgress=function(f,e,g,c){if(c){var d=Math.min(g.chunkSize,f.size);g.bytesUploaded=Math.min(g.bytesUploaded+d,f.size),e.onFileProgress.fire(f,g.bytesUploaded,f.size)}},a.uploader.demo.finishAndContinueOrCleanup=function(d,c){d.queue.finishFile(c),d.events.afterFileComplete.fire(c),d.queue.shouldUploadNextFile()?a.uploader.demo.uploadNextFile(d):(d.events.afterUploadComplete.fire(d.queue.currentBatch.files),c.status!==a.uploader.fileStatusConstants.CANCELLED&&d.queue.clearCurrentBatch())},a.uploader.demo.finishUploading=function(d){if(d.queue.isUploading){var c=d.demoState.currentFile;d.events.onFileSuccess.fire(c),d.demoState.fileIdx++,a.uploader.demo.finishAndContinueOrCleanup(d,c)}},a.uploader.demo.simulateUpload=function(d){if(d.queue.isUploading){var c=d.demoState.currentFile;d.demoState.bytesUploaded<c.size?a.invokeAfterRandomDelay(function(){a.uploader.demo.updateProgress(c,d.events,d.demoState,d.queue.isUploading),a.uploader.demo.simulateUpload(d)}):a.uploader.demo.finishUploading(d)}},a.uploader.demo.stop=function(d){var c=d.demoState.currentFile;c.filestatus=a.uploader.fileStatusConstants.CANCELLED,d.queue.shouldStop=!0,d.events.onFileError.fire(c,a.uploader.errorConstants.UPLOAD_STOPPED,"The demo upload was paused by the user."),a.uploader.demo.finishAndContinueOrCleanup(d,c),d.events.onUploadStop.fire()},a.invokeAfterRandomDelay=function(d){var c=Math.floor(200*Math.random()+100);setTimeout(d,c)},a.defaults("fluid.uploader.demo.remote",{gradeNames:["fluid.uploader.remote"],members:{demoState:{fileIdx:0,chunkSize:200000}},invokers:{uploadNextFile:{funcName:"fluid.uploader.demo.uploadNextFile",args:"{that}"},stop:{funcName:"fluid.uploader.demo.stop",args:"{that}"}}})}(jQuery,fluid_2_0_0);var fluid_2_0_0=fluid_2_0_0||{};!function(a){a.registerNamespace("fluid.uploader"),a.uploader.mimeTypeRegistry={jpg:"image/jpeg",jpeg:"image/jpeg",bmp:"image/bmp",png:"image/png",tif:"image/tiff",tiff:"image/tiff",mp3:"audio/mpeg",m4a:"audio/mp4a-latm",ogg:"audio/ogg",wav:"audio/x-wav",aiff:"audio/x-aiff",mpg:"video/mpeg",mpeg:"video/mpeg",m4v:"video/x-m4v",ogv:"video/ogg",mov:"video/quicktime",avi:"video/x-msvideo",html:"text/html",htm:"text/html",text:"text/plain",doc:"application/msword",docx:"application/msword",xls:"application/vnd.ms-excel",xlsx:"application/vnd.ms-excel",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.ms-powerpoint"}}(fluid_2_0_0);